//This file is automatically generated by a program. Please do not modify it by yourself.
//本文件由程序自动生成，请不要自行修改
using System;
using System.Numerics;
using AutoCSer;

#if NoAutoCSer
#else
#pragma warning disable

namespace AutoCSer.CodeGenerator.TemplateGenerator
{
    internal partial class AotMethod
    {
        /// <summary>
        /// 生成代码
        /// </summary>
        /// <param name="isOut">是否输出类定义代码</param>
        protected override void create(bool _isOut_)
        {
            if (outStart(_isOut_))
            {
                
            _code_.Add(@"
            /// <summary>
            /// AOT code generation call activation reflection
            /// AOT 代码生成调用激活反射
            /// </summary>
            /// <returns></returns>
            public static bool Call()
            {
                if (AutoCSer.Date.StartTimestamp == long.MinValue)
                {");
            _if_ = false;
                    if (IsCallAutoCSer)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                    AutoCSer.AotMethod.Call();");
            }
            _if_ = false;
                    if (IsCallStreamPersistenceMemoryDatabase)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                    AutoCSer.CommandService.StreamPersistenceMemoryDatabase.AotMethod.Call();");
            }
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.AotMethod.Method[] _value1_;
                    _value1_ = Methods;
                    if (_value1_ != null)
                    {
                        int _loopIndex1_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.TemplateGenerator.AotMethod.Method _value2_ in _value1_)
                        {
            _if_ = false;
                    if (_value2_.MemberType != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                    ");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.MemberType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value3_.FullName);
                    }
                }
            _code_.Add(@"/**/.");
            _code_.Add(_value2_.MethodName);
            _code_.Add(@"();");
            }
            _if_ = false;
                if (_value2_.MemberType == default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                {
                    _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                    ");
            _code_.Add(_value2_.MethodName);
            _code_.Add(@"();");
            }
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex1_;
                    }
                }
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.AotMethod.ReflectionMemberType[] _value1_;
                    _value1_ = EqualsMemberTypes;
                    if (_value1_ != null)
                    {
                        int _loopIndex1_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.TemplateGenerator.AotMethod.ReflectionMemberType _value2_ in _value1_)
                        {
            _code_.Add(@"
                    AutoCSer.FieldEquals.Comparor.");
            _code_.Add(_value2_.ReflectionMethodName);
            _if_ = false;
                    if (_value2_.GenericTypeName != default(string))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"<");
            _code_.Add(_value2_.GenericTypeName);
            _code_.Add(@">");
            }
            _code_.Add(@"(default(");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.MemberType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value3_.FullName);
                    }
                }
            _code_.Add(@"), default(");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.MemberType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value3_.FullName);
                    }
                }
            _code_.Add(@"));");
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex1_;
                    }
                }
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.AotMethod.ReflectionMemberType[] _value1_;
                    _value1_ = RandomMemberTypes;
                    if (_value1_ != null)
                    {
                        int _loopIndex1_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.TemplateGenerator.AotMethod.ReflectionMemberType _value2_ in _value1_)
                        {
            _code_.Add(@"
                    AutoCSer.RandomObject.Creator.");
            _code_.Add(_value2_.ReflectionMethodName);
            _if_ = false;
                    if (_value2_.GenericTypeName != default(string))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"<");
            _code_.Add(_value2_.GenericTypeName);
            _code_.Add(@">");
            }
            _code_.Add(@"(null);");
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex1_;
                    }
                }
            _code_.Add(@"
");
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.AotMethod.ReflectionMemberType[] _value1_;
                    _value1_ = BinarySerializeMemberTypes;
                    if (_value1_ != null)
                    {
                        int _loopIndex1_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.TemplateGenerator.AotMethod.ReflectionMemberType _value2_ in _value1_)
                        {
            _code_.Add(@"
                    AutoCSer.AotReflection.NonPublicFields(typeof(AutoCSer.BinarySerialize.TypeSerializer<");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.MemberType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value3_.FullName);
                    }
                }
            _code_.Add(@">));");
            _if_ = false;
                    if (_value2_.ReflectionMethodName != default(string))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                    AutoCSer.BinarySerializer.");
            _code_.Add(_value2_.ReflectionMethodName);
            _if_ = false;
                    if (_value2_.GenericTypeName != default(string))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"<");
            _code_.Add(_value2_.GenericTypeName);
            _code_.Add(@">");
            }
            _code_.Add(@"(null, default(");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.MemberType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value3_.FullName);
                    }
                }
            _code_.Add(@"));");
            }
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex1_;
                    }
                }
            _if_ = false;
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.AotMethod.ReflectionMemberType[] _value1_ = BinarySerializeMemberTypes;
                    if (_value1_ != default(AutoCSer.CodeGenerator.TemplateGenerator.AotMethod.ReflectionMemberType[]))
                    {
                    if (_value1_.Length != default(int))
                    {
                        _if_ = true;
                    }
                }
                }
            if (_if_)
            {
            _code_.Add(@"
                    binaryDeserializeMemberTypes();");
            }
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.AotMethod.ReflectionMemberType[] _value1_;
                    _value1_ = BinarySerializeGenericTypes;
                    if (_value1_ != null)
                    {
                        int _loopIndex1_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.TemplateGenerator.AotMethod.ReflectionMemberType _value2_ in _value1_)
                        {
            _code_.Add(@"
                    AutoCSer.AotReflection.FieldsAndProperties(typeof(");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.MemberType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value3_.FullName);
                    }
                }
            _code_.Add(@"));");
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex1_;
                    }
                }
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.AotMethod.ReflectionMemberType[] _value1_;
                    _value1_ = BinarySerializeGenericMemberTypes;
                    if (_value1_ != null)
                    {
                        int _loopIndex1_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.TemplateGenerator.AotMethod.ReflectionMemberType _value2_ in _value1_)
                        {
            _code_.Add(@"
                    AutoCSer.BinarySerializer.");
            _code_.Add(_value2_.ReflectionMethodName);
            _if_ = false;
                    if (_value2_.GenericTypeName != default(string))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"<");
            _code_.Add(_value2_.GenericTypeName);
            _code_.Add(@">");
            }
            _code_.Add(@"(null, null);
                    AutoCSer.BinaryDeserializer.");
            _code_.Add(_value2_.ReflectionMethodName);
            _if_ = false;
                    if (_value2_.GenericTypeName != default(string))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"<");
            _code_.Add(_value2_.GenericTypeName);
            _code_.Add(@">");
            }
            _code_.Add(@"(null);");
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex1_;
                    }
                }
            _code_.Add(@"
");
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.AotMethod.ReflectionMemberType[] _value1_;
                    _value1_ = JsonSerializeMemberTypes;
                    if (_value1_ != null)
                    {
                        int _loopIndex1_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.TemplateGenerator.AotMethod.ReflectionMemberType _value2_ in _value1_)
                        {
            _code_.Add(@"
                    AutoCSer.AotReflection.NonPublicFields(typeof(AutoCSer.Json.TypeSerializer<");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.MemberType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value3_.FullName);
                    }
                }
            _code_.Add(@">));");
            _if_ = false;
                    if (_value2_.ReflectionMethodName != default(string))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                    AutoCSer.JsonSerializer.");
            _code_.Add(_value2_.ReflectionMethodName);
            _if_ = false;
                    if (_value2_.GenericTypeName != default(string))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"<");
            _code_.Add(_value2_.GenericTypeName);
            _code_.Add(@">");
            }
            _code_.Add(@"(null, default(");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.MemberType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value3_.FullName);
                    }
                }
            _code_.Add(@"));");
            }
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex1_;
                    }
                }
            _if_ = false;
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.AotMethod.ReflectionMemberType[] _value1_ = JsonDeserializeMemberTypes;
                    if (_value1_ != default(AutoCSer.CodeGenerator.TemplateGenerator.AotMethod.ReflectionMemberType[]))
                    {
                    if (_value1_.Length != default(int))
                    {
                        _if_ = true;
                    }
                }
                }
            if (_if_)
            {
            _code_.Add(@"
                    jsonDeserializeMemberTypes();");
            }
            _code_.Add(@"
");
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.AotMethod.ReflectionMemberType[] _value1_;
                    _value1_ = XmlSerializeMemberTypes;
                    if (_value1_ != null)
                    {
                        int _loopIndex1_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.TemplateGenerator.AotMethod.ReflectionMemberType _value2_ in _value1_)
                        {
            _code_.Add(@"
                    AutoCSer.AotReflection.NonPublicFields(typeof(AutoCSer.Xml.TypeSerializer<");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.MemberType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value3_.FullName);
                    }
                }
            _code_.Add(@">));");
            _if_ = false;
                    if (_value2_.ReflectionMethodName != default(string))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                    AutoCSer.XmlSerializer.");
            _code_.Add(_value2_.ReflectionMethodName);
            _if_ = false;
                    if (_value2_.GenericTypeName != default(string))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"<");
            _code_.Add(_value2_.GenericTypeName);
            _code_.Add(@">");
            }
            _code_.Add(@"(null, default(");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.MemberType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value3_.FullName);
                    }
                }
            _code_.Add(@"));");
            }
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex1_;
                    }
                }
            _if_ = false;
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.AotMethod.ReflectionMemberType[] _value1_ = XmlDeserializeMemberTypes;
                    if (_value1_ != default(AutoCSer.CodeGenerator.TemplateGenerator.AotMethod.ReflectionMemberType[]))
                    {
                    if (_value1_.Length != default(int))
                    {
                        _if_ = true;
                    }
                }
                }
            if (_if_)
            {
            _code_.Add(@"
                    xmlDeserializeMemberTypes();");
            }
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.AotMethod.ReflectionMemberType[] _value1_;
                    _value1_ = XmlSerializeNullableElementTypes;
                    if (_value1_ != null)
                    {
                        int _loopIndex1_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.TemplateGenerator.AotMethod.ReflectionMemberType _value2_ in _value1_)
                        {
            _code_.Add(@"
                    AutoCSer.XmlSerializer.NullableHasValue<");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.MemberType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value3_.FullName);
                    }
                }
            _code_.Add(@">(null);");
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex1_;
                    }
                }
            _code_.Add(@"
");
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.AotMethod.ReflectionMemberType[] _value1_;
                    _value1_ = StreamPersistenceMemoryDatabaseSnapshotTypes;
                    if (_value1_ != null)
                    {
                        int _loopIndex1_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.TemplateGenerator.AotMethod.ReflectionMemberType _value2_ in _value1_)
                        {
            _code_.Add(@"
                    AutoCSer.CommandService.StreamPersistenceMemoryDatabase.SnapshotNode.Create<");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.MemberType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value3_.FullName);
                    }
                }
            _code_.Add(@">(null);
                    AutoCSer.CommandService.StreamPersistenceMemoryDatabase.EnumerableSnapshotNode.Create<");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.MemberType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value3_.FullName);
                    }
                }
            _code_.Add(@">(null);");
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex1_;
                    }
                }
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.AotMethod.ReflectionMemberType[] _value1_;
                    _value1_ = StreamPersistenceMemoryDatabaseSnapshotCloneObjectTypes;
                    if (_value1_ != null)
                    {
                        int _loopIndex1_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.TemplateGenerator.AotMethod.ReflectionMemberType _value2_ in _value1_)
                        {
            _code_.Add(@"
                    AutoCSer.CommandService.StreamPersistenceMemoryDatabase.SnapshotCloneNode.");
            _code_.Add(_value2_.ReflectionMethodName);
            _code_.Add(@"<");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.MemberType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value3_.FullName);
                    }
                }
            _code_.Add(@">(null);");
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex1_;
                    }
                }
            _code_.Add(@"
                    return true;
                }
                return false;
            }");
            _if_ = false;
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.AotMethod.ReflectionMemberType[] _value1_ = BinarySerializeMemberTypes;
                    if (_value1_ != default(AutoCSer.CodeGenerator.TemplateGenerator.AotMethod.ReflectionMemberType[]))
                    {
                    if (_value1_.Length != default(int))
                    {
                        _if_ = true;
                    }
                }
                }
            if (_if_)
            {
            _code_.Add(@"
            /// <summary>
            /// Binary deserialization member type activation reflection
            /// 二进制反序列化成员类型激活反射
            /// </summary>
            private static void binaryDeserializeMemberTypes()
            {");
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.AotMethod.ReflectionMemberType[] _value1_;
                    _value1_ = BinarySerializeMemberTypes;
                    if (_value1_ != null)
                    {
                        int _loopIndex1_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.TemplateGenerator.AotMethod.ReflectionMemberType _value2_ in _value1_)
                        {
            _if_ = false;
                    if (_value2_.ReflectionMethodName != default(string))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                ");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.MemberType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value3_.FullName);
                    }
                }
            _code_.Add(@" ");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@" = default(");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.MemberType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value3_.FullName);
                    }
                }
            _code_.Add(@");
                AutoCSer.BinaryDeserializer.");
            _code_.Add(_value2_.ReflectionMethodName);
            _code_.Add(@"<");
            _code_.Add(_value2_.GenericTypeName);
            _code_.Add(@">(null, ref ");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@");");
            }
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex1_;
                    }
                }
            _code_.Add(@"
            }");
            }
            _if_ = false;
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.AotMethod.ReflectionMemberType[] _value1_ = JsonDeserializeMemberTypes;
                    if (_value1_ != default(AutoCSer.CodeGenerator.TemplateGenerator.AotMethod.ReflectionMemberType[]))
                    {
                    if (_value1_.Length != default(int))
                    {
                        _if_ = true;
                    }
                }
                }
            if (_if_)
            {
            _code_.Add(@"
            /// <summary>
            /// JSON deserialization member type activation reflection
            /// JSON 反序列化成员类型激活反射
            /// </summary>
            private static void jsonDeserializeMemberTypes()
            {");
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.AotMethod.ReflectionMemberType[] _value1_;
                    _value1_ = JsonDeserializeMemberTypes;
                    if (_value1_ != null)
                    {
                        int _loopIndex1_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.TemplateGenerator.AotMethod.ReflectionMemberType _value2_ in _value1_)
                        {
            _code_.Add(@"
                ");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.MemberType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value3_.FullName);
                    }
                }
            _code_.Add(@" ");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@" = default(");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.MemberType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value3_.FullName);
                    }
                }
            _code_.Add(@");
                AutoCSer.JsonDeserializer.");
            _code_.Add(_value2_.ReflectionMethodName);
            _code_.Add(@"<");
            _code_.Add(_value2_.GenericTypeName);
            _code_.Add(@">(null, ref ");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@");");
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex1_;
                    }
                }
            _code_.Add(@"
            }");
            }
            _if_ = false;
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.AotMethod.ReflectionMemberType[] _value1_ = XmlDeserializeMemberTypes;
                    if (_value1_ != default(AutoCSer.CodeGenerator.TemplateGenerator.AotMethod.ReflectionMemberType[]))
                    {
                    if (_value1_.Length != default(int))
                    {
                        _if_ = true;
                    }
                }
                }
            if (_if_)
            {
            _code_.Add(@"
            /// <summary>
            /// XML deserialization member type activation reflection
            /// XML 反序列化成员类型激活反射
            /// </summary>
            private static void xmlDeserializeMemberTypes()
            {");
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.AotMethod.ReflectionMemberType[] _value1_;
                    _value1_ = XmlDeserializeMemberTypes;
                    if (_value1_ != null)
                    {
                        int _loopIndex1_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.TemplateGenerator.AotMethod.ReflectionMemberType _value2_ in _value1_)
                        {
            _code_.Add(@"
                ");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.MemberType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value3_.FullName);
                    }
                }
            _code_.Add(@" ");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@" = default(");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.MemberType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value3_.FullName);
                    }
                }
            _code_.Add(@");
                AutoCSer.XmlDeserializer.");
            _code_.Add(_value2_.ReflectionMethodName);
            _code_.Add(@"<");
            _code_.Add(_value2_.GenericTypeName);
            _code_.Add(@">(null, ref ");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@");");
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex1_;
                    }
                }
            _code_.Add(@"
            }");
            }
                if (_isOut_) outEnd();
            }
        }
    }
}
namespace AutoCSer.CodeGenerator.TemplateGenerator
{
    internal partial class CommandClientControllerInterface
    {
        /// <summary>
        /// 生成代码
        /// </summary>
        /// <param name="isOut">是否输出类定义代码</param>
        protected override void create(bool _isOut_)
        {
            if (outStart(_isOut_))
            {
                
            _code_.Add(@"
        /// <summary>
        /// ");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value1_ = CurrentType;
                    if (_value1_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value1_.CodeGeneratorXmlDocument);
                    }
                }
            _code_.Add(@" client interface
        /// </summary>");
            _if_ = false;
                    if (IsCodeGeneratorControllerAttribute)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
        [AutoCSer.CodeGenerator.CommandClientController(typeof(");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value1_ = CurrentType;
                    if (_value1_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value1_.FullName);
                    }
                }
            _code_.Add(@"))]");
            }
            _code_.Add(@"
        ");
            _code_.Add(TypeNameDefinition);
            _code_.Add(@"
        {");
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.CommandClientControllerInterface.ControllerMethod[] _value1_;
                    _value1_ = Methods;
                    if (_value1_ != null)
                    {
                        int _loopIndex1_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.TemplateGenerator.CommandClientControllerInterface.ControllerMethod _value2_ in _value1_)
                        {
            _if_ = false;
                    if (_value2_.Method != default(AutoCSer.CodeGenerator.Metadata.MethodIndex))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
            /// <summary>
            /// ");
                {
                    AutoCSer.CodeGenerator.Metadata.MethodIndex _value3_ = _value2_.Method;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.MethodIndex))
                    {
            _code_.Add(_value3_.CodeGeneratorXmlDocument);
                    }
                }
            _code_.Add(@"
            /// </summary>");
            _if_ = false;
                    if (_value2_.TaskQueueKeyType != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
            /// <param name=""queueKey"">Queue keyword</param>");
            }
                {
                    AutoCSer.CodeGenerator.Metadata.MethodParameter[] _value3_ = default(AutoCSer.CodeGenerator.Metadata.MethodParameter[]);
                {
                    AutoCSer.CodeGenerator.Metadata.MethodIndex _value4_ = _value2_.Method;
                    if (_value4_ != default(AutoCSer.CodeGenerator.Metadata.MethodIndex))
                    {
                    _value3_ = _value4_.Parameters;
                    }
                }
                    if (_value3_ != null)
                    {
                        int _loopIndex3_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.Metadata.MethodParameter _value4_ in _value3_)
                        {
            _code_.Add(@"
            /// <param name=""");
            _code_.Add(_value4_.ParameterName);
            _code_.Add(@""">");
            _code_.Add(_value4_.CodeGeneratorXmlDocument);
            _code_.Add(@"</param>");
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex3_;
                    }
                }
            _if_ = false;
                    if (_value2_.TwoStageReturnValueType != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
            /// <param name=""callback"">");
            _code_.Add(_value2_.CallbackCodeGeneratorXmlDocument);
            _code_.Add(@"</param>
            /// <param name=""keepCallback"">");
            _code_.Add(_value2_.KeepCallbackCodeGeneratorXmlDocument);
            _code_.Add(@"</param>");
            }
            _if_ = false;
                    if (_value2_.MethodIsReturn)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
            /// <returns>");
            _code_.Add(_value2_.CodeGeneratorReturnXmlDocument);
            _code_.Add(@"</returns>");
            }
            _code_.Add(@"
            ");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.MethodReturnType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value3_.FullName);
                    }
                }
            _code_.Add(@" ");
            _code_.Add(_value2_.MethodName);
            _code_.Add(@"(");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = default(AutoCSer.CodeGenerator.Metadata.ExtensionType);
                    _value3_ = _value2_.TaskQueueKeyType;
            _if_ = false;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(_value3_.FullName);
            _code_.Add(@" queueKey");
            _if_ = false;
                {
                    AutoCSer.CodeGenerator.Metadata.MethodIndex _value4_ = _value2_.Method;
                    if (_value4_ != default(AutoCSer.CodeGenerator.Metadata.MethodIndex))
                    {
                {
                    AutoCSer.CodeGenerator.Metadata.MethodParameter[] _value5_ = _value4_.Parameters;
                    if (_value5_ != default(AutoCSer.CodeGenerator.Metadata.MethodParameter[]))
                    {
                    if (_value5_.Length != default(int))
                    {
                        _if_ = true;
                    }
                }
                    }
                }
                }
            if (_if_)
            {
            _code_.Add(@", ");
            }
            }
                }
                {
                    AutoCSer.CodeGenerator.Metadata.MethodParameter[] _value3_ = default(AutoCSer.CodeGenerator.Metadata.MethodParameter[]);
                {
                    AutoCSer.CodeGenerator.Metadata.MethodIndex _value4_ = _value2_.Method;
                    if (_value4_ != default(AutoCSer.CodeGenerator.Metadata.MethodIndex))
                    {
                    _value3_ = _value4_.Parameters;
                    }
                }
                    if (_value3_ != null)
                    {
                        int _loopIndex3_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.Metadata.MethodParameter _value4_ in _value3_)
                        {
            _code_.Add(_value4_.RefOutString);
            _if_ = false;
                    if (_value4_.IsRedirectType)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"[AutoCSer.Net.CommandServer.MethodParameterType(typeof(");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value5_ = _value4_.ParameterType;
                    if (_value5_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value5_.FullName);
                    }
                }
            _code_.Add(@"))]");
            }
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value5_ = _value4_.RedirectType;
                    if (_value5_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value5_.FullName);
                    }
                }
            _code_.Add(@" ");
            _code_.Add(_value4_.ParameterJoinName);
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex3_;
                    }
                }
            _if_ = false;
                    if (_value2_.TwoStageReturnValueType != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _if_ = false;
                    if (_value2_.IsTwoStageInputParameter)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@", ");
            }
            _code_.Add(@"Action<AutoCSer.Net.CommandClientReturnValue<");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.TwoStageReturnValueType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value3_.FullName);
                    }
                }
            _code_.Add(@">> callback, Action<AutoCSer.Net.CommandClientReturnValue<");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.ReturnValueType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value3_.FullName);
                    }
                }
            _code_.Add(@">, AutoCSer.Net.KeepCallbackCommand> keepCallback");
            }
            _code_.Add(@");");
            }
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex1_;
                    }
                }
            _code_.Add(@"
        }");
                if (_isOut_) outEnd();
            }
        }
    }
}
namespace AutoCSer.CodeGenerator.TemplateGenerator
{
    internal partial class CommandClientController
    {
        /// <summary>
        /// 生成代码
        /// </summary>
        /// <param name="isOut">是否输出类定义代码</param>
        protected override void create(bool _isOut_)
        {
            if (outStart(_isOut_))
            {
                
            _code_.Add(@"
        /// <summary>
        /// 
        /// </summary>
        [AutoCSer.Net.CommandClientControllerType(typeof(");
            _code_.Add(TypeName);
            _code_.Add(@")");
            _if_ = false;
                    if (IsDefaultController)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@", typeof(");
            _code_.Add(DefaultControllerTypeName);
            _code_.Add(@")");
            }
            _code_.Add(@")]
        public partial interface ");
            _code_.Add(InterfaceTypeName);
            _code_.Add(@" { }
        /// <summary>
        /// ");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value1_ = CurrentType;
                    if (_value1_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value1_.CodeGeneratorXmlDocument);
                    }
                }
            _code_.Add(@" client controller
        /// </summary>
        internal unsafe partial class ");
            _code_.Add(TypeName);
            _code_.Add(@" : AutoCSer.Net.CommandClientController<");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value1_ = CurrentType;
                    if (_value1_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value1_.FullName);
                    }
                }
            _if_ = false;
                    if (IsServerType)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@", ");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value1_ = ServerType;
                    if (_value1_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value1_.FullName);
                    }
                }
            }
            _code_.Add(@">, ");
            _code_.Add(InterfaceTypeName);
            _code_.Add(@"
        {
            private ");
            _code_.Add(TypeName);
            _code_.Add(@"(AutoCSer.Net.CommandClientSocket socket, string controllerName, int startMethodIndex, string?[]? serverMethodNames) : base(socket, controllerName, startMethodIndex, serverMethodNames, ");
            _code_.Add(VerifyMethodIndex.ToString());
            _code_.Add(@") { }
            internal static AutoCSer.Net.CommandClientController ");
            _code_.Add(CommandClientControllerConstructorMethodName);
            _code_.Add(@"(AutoCSer.Net.CommandClientSocket socket, string controllerName, int startMethodIndex, string?[]? serverMethodNames)
            {
                return new ");
            _code_.Add(TypeName);
            _code_.Add(@"(socket, controllerName, startMethodIndex, serverMethodNames);
            }");
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.CommandClientController.ParameterType[] _value1_;
                    _value1_ = ParameterTypes;
                    if (_value1_ != null)
                    {
                        int _loopIndex1_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.TemplateGenerator.CommandClientController.ParameterType _value2_ in _value1_)
                        {
            _code_.Add(@"
            [System.Runtime.InteropServices.StructLayout(System.Runtime.InteropServices.LayoutKind.Auto)]
            internal struct ");
            _code_.Add(_value2_.ParameterTypeName);
            _code_.Add(@"
            {");
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.CommandClientController.ParameterField[] _value3_;
                    _value3_ = _value2_.Parameters;
                    if (_value3_ != null)
                    {
                        int _loopIndex3_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.TemplateGenerator.CommandClientController.ParameterField _value4_ in _value3_)
                        {
            _code_.Add(@"
                internal ");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value5_ = _value4_.ParameterType;
                    if (_value5_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value5_.FullName);
                    }
                }
            _code_.Add(@" ");
            _code_.Add(_value4_.ParameterName);
            _code_.Add(@";");
            _if_ = false;
                    if (_value4_.IsReturnValue)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                private static ");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value5_ = _value4_.ParameterType;
                    if (_value5_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value5_.FullName);
                    }
                }
            _code_.Add(@" getReturnValue(");
            _code_.Add(_value2_.ParameterTypeName);
            _code_.Add(@" parameter)
                {
                    return parameter.");
            _code_.Add(_value4_.ParameterName);
            _code_.Add(@";
                }
                internal static readonly Func<");
            _code_.Add(_value2_.ParameterTypeName);
            _code_.Add(@", ");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value5_ = _value4_.ParameterType;
                    if (_value5_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value5_.FullName);
                    }
                }
            _code_.Add(@"> GetReturnValue = getReturnValue;");
            }
            _if_ = false;
                    if (_value4_.IsReturnValueParameter)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                private static ");
            _code_.Add(_value2_.ParameterTypeName);
            _code_.Add(@" getReturnValueParameter(");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value5_ = _value4_.ParameterType;
                    if (_value5_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value5_.FullName);
                    }
                }
            _code_.Add(@" parameter)
                {
                    return new ");
            _code_.Add(_value2_.ParameterTypeName);
            _code_.Add(@" { ");
            _code_.Add(_value4_.ParameterName);
            _code_.Add(@" = parameter };
                }
                internal static readonly Func<");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value5_ = _value4_.ParameterType;
                    if (_value5_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value5_.FullName);
                    }
                }
            _code_.Add(@", ");
            _code_.Add(_value2_.ParameterTypeName);
            _code_.Add(@"> GetReturnValueParameter = getReturnValueParameter;");
            }
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex3_;
                    }
                }
            _code_.Add(@"
                ");
            _code_.Add(_value2_.SerializeCode);
            _code_.Add(@"
            }");
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex1_;
                    }
                }
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.CommandClientController.ControllerMethod[] _value1_;
                    _value1_ = Methods;
                    if (_value1_ != null)
                    {
                        int _loopIndex1_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.TemplateGenerator.CommandClientController.ControllerMethod _value2_ in _value1_)
                        {
            _code_.Add(@"
            /// <summary>
            /// ");
                {
                    AutoCSer.CodeGenerator.Metadata.MethodIndex _value3_ = _value2_.Method;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.MethodIndex))
                    {
            _code_.Add(_value3_.CodeGeneratorXmlDocument);
                    }
                }
            _code_.Add(@"
            /// </summary>");
                {
                    AutoCSer.CodeGenerator.Metadata.MethodParameter[] _value3_ = default(AutoCSer.CodeGenerator.Metadata.MethodParameter[]);
                {
                    AutoCSer.CodeGenerator.Metadata.MethodIndex _value4_ = _value2_.Method;
                    if (_value4_ != default(AutoCSer.CodeGenerator.Metadata.MethodIndex))
                    {
                    _value3_ = _value4_.Parameters;
                    }
                }
                    if (_value3_ != null)
                    {
                        int _loopIndex3_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.Metadata.MethodParameter _value4_ in _value3_)
                        {
            _code_.Add(@"
            /// <param name=""");
            _code_.Add(_value4_.ParameterName);
            _code_.Add(@""">");
            _code_.Add(_value4_.CodeGeneratorXmlDocument);
            _code_.Add(@"</param>");
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex3_;
                    }
                }
            _code_.Add(@"
            /// <returns>");
                {
                    AutoCSer.CodeGenerator.Metadata.MethodIndex _value3_ = _value2_.Method;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.MethodIndex))
                    {
            _code_.Add(_value3_.CodeGeneratorReturnXmlDocument);
                    }
                }
            _code_.Add(@"</returns>
            ");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.MethodReturnType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value3_.FullName);
                    }
                }
            _code_.Add(@" ");
            _code_.Add(_value2_.MethodInterfaceTypeName);
            _code_.Add(@"/**/.");
            _code_.Add(_value2_.MethodName);
            _code_.Add(@"(");
                {
                    AutoCSer.CodeGenerator.Metadata.MethodParameter[] _value3_ = default(AutoCSer.CodeGenerator.Metadata.MethodParameter[]);
                {
                    AutoCSer.CodeGenerator.Metadata.MethodIndex _value4_ = _value2_.Method;
                    if (_value4_ != default(AutoCSer.CodeGenerator.Metadata.MethodIndex))
                    {
                    _value3_ = _value4_.Parameters;
                    }
                }
                    if (_value3_ != null)
                    {
                        int _loopIndex3_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.Metadata.MethodParameter _value4_ in _value3_)
                        {
            _code_.Add(_value4_.RefOutString);
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value5_ = _value4_.ParameterType;
                    if (_value5_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value5_.FullName);
                    }
                }
            _code_.Add(@" ");
            _code_.Add(_value4_.ParameterJoinName);
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex3_;
                    }
                }
            _code_.Add(@")
            {");
            _if_ = false;
                if (_value2_.Error == default(string))
                {
                    _if_ = true;
                }
            if (_if_)
            {
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.CommandClientController.ParameterType _value3_ = default(AutoCSer.CodeGenerator.TemplateGenerator.CommandClientController.ParameterType);
                    _value3_ = _value2_.InputParameterType;
            _if_ = false;
                    if (_value3_ != default(AutoCSer.CodeGenerator.TemplateGenerator.CommandClientController.ParameterType))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                ");
            _code_.Add(_value3_.ParameterTypeName);
            _code_.Add(@" __inputParameter__ = new ");
            _code_.Add(_value3_.ParameterTypeName);
            _code_.Add(@"
                {");
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.CommandClientController.ParameterField[] _value4_;
                    _value4_ = _value3_.Parameters;
                    if (_value4_ != null)
                    {
                        int _loopIndex4_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.TemplateGenerator.CommandClientController.ParameterField _value5_ in _value4_)
                        {
            _if_ = false;
                if (!(bool)_value5_.IsOut)
                {
                    _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                    ");
            _code_.Add(_value5_.ParameterName);
            _code_.Add(@" = ");
            _code_.Add(_value5_.QueueKeyParameterName);
            _code_.Add(@",");
            }
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex4_;
                    }
                }
            _code_.Add(@"
                };");
            }
                }
            _if_ = false;
                    if (_value2_.IsOutputParameter)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.CommandClientController.ParameterType _value3_ = default(AutoCSer.CodeGenerator.TemplateGenerator.CommandClientController.ParameterType);
                    _value3_ = _value2_.OutputParameterType;
            _if_ = false;
                    if (_value3_ != default(AutoCSer.CodeGenerator.TemplateGenerator.CommandClientController.ParameterType))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                ");
            _code_.Add(_value3_.ParameterTypeName);
            _code_.Add(@" __outputParameter__ = new ");
            _code_.Add(_value3_.ParameterTypeName);
            _code_.Add(@"
                {");
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.CommandClientController.ParameterField _value4_ = default(AutoCSer.CodeGenerator.TemplateGenerator.CommandClientController.ParameterField);
                    _value4_ = _value3_.ReturnValueParameter;
            _if_ = false;
                    if (_value4_ != default(AutoCSer.CodeGenerator.TemplateGenerator.CommandClientController.ParameterField))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                    ");
            _code_.Add(_value4_.ParameterName);
            _code_.Add(@" = ");
            _code_.Add(_value2_.ReturnValueParameterName);
            }
                }
            _code_.Add(@"
                };");
            }
                }
            }
            _code_.Add(@"
                var __returnValue__ = base.");
            _code_.Add(_value2_.CallMethodName);
            _if_ = false;
                    if (_value2_.GenericTypeName != default(string))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"<");
            _code_.Add(_value2_.GenericTypeName);
            _code_.Add(@">");
            }
            _code_.Add(@"(");
            _code_.Add(_value2_.MethodArrayIndex.ToString());
            _if_ = false;
                    if (_value2_.TwoStageCallbackParameterName != default(string))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _if_ = false;
                    if (_value2_.TwoStageCallbackType != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                    , ");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.TwoStageCallbackType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value3_.FullName);
                    }
                }
            _code_.Add(@"/**/.Get(");
            _code_.Add(_value2_.TwoStageCallbackParameterName);
            _code_.Add(@")");
            }
            _if_ = false;
                if (_value2_.TwoStageCallbackType == default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                {
                    _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                    , ");
            _code_.Add(_value2_.TwoStageCallbackParameterName);
            }
            }
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.CommandClientController.ParameterType _value3_ = default(AutoCSer.CodeGenerator.TemplateGenerator.CommandClientController.ParameterType);
                    _value3_ = _value2_.TwoStageOutputParameterType;
            _if_ = false;
                    if (_value3_ != default(AutoCSer.CodeGenerator.TemplateGenerator.CommandClientController.ParameterType))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _if_ = false;
                    if (_value2_.IsGetReturnValueParameter)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                    , ");
            _code_.Add(_value3_.ParameterTypeName);
            _code_.Add(@"/**/.GetReturnValueParameter");
            }
            _if_ = false;
                    if (_value2_.IsGetReturnValue)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                    , ");
            _code_.Add(_value3_.ParameterTypeName);
            _code_.Add(@"/**/.GetReturnValue");
            }
            }
                }
            _if_ = false;
                    if (_value2_.CallbackParameterName != default(string))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _if_ = false;
                    if (_value2_.CallbackType != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                    , ");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.CallbackType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value3_.FullName);
                    }
                }
            _code_.Add(@"/**/.Get(");
            _code_.Add(_value2_.CallbackParameterName);
            _code_.Add(@")");
            }
            _if_ = false;
                if (_value2_.CallbackType == default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                {
                    _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                    , ");
            _code_.Add(_value2_.CallbackParameterName);
            }
            }
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.CommandClientController.ParameterType _value3_ = default(AutoCSer.CodeGenerator.TemplateGenerator.CommandClientController.ParameterType);
                    _value3_ = _value2_.OutputParameterType;
            _if_ = false;
                    if (_value3_ != default(AutoCSer.CodeGenerator.TemplateGenerator.CommandClientController.ParameterType))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _if_ = false;
                    if (_value2_.IsGetReturnValue)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                    , ");
            _code_.Add(_value3_.ParameterTypeName);
            _code_.Add(@"/**/.GetReturnValue");
            }
            }
                }
            _if_ = false;
                    if (_value2_.InputParameterType != default(AutoCSer.CodeGenerator.TemplateGenerator.CommandClientController.ParameterType))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                    , ref __inputParameter__");
            }
            _if_ = false;
                    if (_value2_.IsOutputParameter)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                    ,");
            _if_ = false;
                    if (_value2_.IsSynchronous)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@" ref");
            }
            _code_.Add(@" __outputParameter__");
            }
            _code_.Add(@"
                    );");
            _if_ = false;
                    if (_value2_.IsSynchronous)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _if_ = false;
                if (!(bool)_value2_.IsReturnType)
                {
                    _if_ = true;
                }
            if (_if_)
            {
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.CommandClientController.ParameterField[] _value3_ = default(AutoCSer.CodeGenerator.TemplateGenerator.CommandClientController.ParameterField[]);
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.CommandClientController.ParameterType _value4_ = _value2_.OutputParameterType;
                    if (_value4_ != default(AutoCSer.CodeGenerator.TemplateGenerator.CommandClientController.ParameterType))
                    {
                    _value3_ = _value4_.Parameters;
                    }
                }
                    if (_value3_ != null)
                    {
                        int _loopIndex3_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.TemplateGenerator.CommandClientController.ParameterField _value4_ in _value3_)
                        {
            _if_ = false;
                    if (_value4_.IsRef)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                ");
            _code_.Add(_value4_.ParameterName);
            _code_.Add(@" = __outputParameter__.");
            _code_.Add(_value4_.ParameterName);
            _code_.Add(@";");
            }
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex3_;
                    }
                }
            _if_ = false;
                    if (_value2_.ReturnValueType != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                if (__returnValue__.IsSuccess) return __outputParameter__.ReturnValue;");
            }
            _code_.Add(@"
                return __returnValue__;");
            }
            _if_ = false;
                    if (_value2_.IsReturnType)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                if (__returnValue__.IsSuccess)
                {");
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.CommandClientController.ParameterField[] _value3_ = default(AutoCSer.CodeGenerator.TemplateGenerator.CommandClientController.ParameterField[]);
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.CommandClientController.ParameterType _value4_ = _value2_.OutputParameterType;
                    if (_value4_ != default(AutoCSer.CodeGenerator.TemplateGenerator.CommandClientController.ParameterType))
                    {
                    _value3_ = _value4_.Parameters;
                    }
                }
                    if (_value3_ != null)
                    {
                        int _loopIndex3_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.TemplateGenerator.CommandClientController.ParameterField _value4_ in _value3_)
                        {
            _if_ = false;
                    if (_value4_.IsRef)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                    ");
            _code_.Add(_value4_.ParameterName);
            _code_.Add(@" = __outputParameter__.");
            _code_.Add(_value4_.ParameterName);
            _code_.Add(@";");
            }
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex3_;
                    }
                }
            _code_.Add(@"
                    return");
            _if_ = false;
                    if (_value2_.IsMethodReturn)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@" __outputParameter__.ReturnValue");
            }
            _code_.Add(@";
                }
                throw new Exception(__returnValue__.GetThrowMessage());");
            }
            }
            _if_ = false;
                if (!(bool)_value2_.IsSynchronous)
                {
                    _if_ = true;
                }
            if (_if_)
            {
            _if_ = false;
                    if (_value2_.IsReturnTask)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                return AutoCSer.Net.ReturnCommand");
            _if_ = false;
                    if (_value2_.ReturnValueType != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"<");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.ReturnValueType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value3_.FullName);
                    }
                }
            _code_.Add(@">");
            }
            _code_.Add(@".GetTask(__returnValue__);");
            }
            _if_ = false;
                    if (_value2_.IsAsyncEnumerable)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                return AutoCSer.Net.EnumeratorCommand<");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.ReturnValueType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value3_.FullName);
                    }
                }
            _code_.Add(@">.GetAsyncEnumerable(__returnValue__);");
            }
            _if_ = false;
                if (!(bool)_value2_.IsReturnTask)
                {
                    _if_ = true;
                }
            if (_if_)
            {
            _if_ = false;
                if (!(bool)_value2_.IsAsyncEnumerable)
                {
                    _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                return __returnValue__;");
            }
            }
            }
            }
            _if_ = false;
                    if (_value2_.Error != default(string))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                throw new Exception(@""");
            _code_.Add(_value2_.CodeGeneratorError);
            _code_.Add(@""");");
            }
            _code_.Add(@"
            }");
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex1_;
                    }
                }
            _code_.Add(@"
            /// <summary>
            /// 获取客户端接口方法信息集合
            /// </summary>
            internal static AutoCSer.LeftArray<AutoCSer.Net.CommandServer.ClientMethod> ");
            _code_.Add(CommandClientControllerMethodName);
            _code_.Add(@"()
            {
                AutoCSer.LeftArray<AutoCSer.Net.CommandServer.ClientMethod> methods = new AutoCSer.LeftArray<AutoCSer.Net.CommandServer.ClientMethod>(");
            _code_.Add(MethodCount.ToString());
            _code_.Add(@");");
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.CommandClientController.ControllerMethod[] _value1_;
                    _value1_ = Methods;
                    if (_value1_ != null)
                    {
                        int _loopIndex1_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.TemplateGenerator.CommandClientController.ControllerMethod _value2_ in _value1_)
                        {
            _code_.Add(@"
                methods.Add(new AutoCSer.Net.CommandServer.ClientMethod(typeof(");
            _code_.Add(InterfaceTypeName);
            _code_.Add(@"), """);
            _code_.Add(_value2_.MatchMethodName);
            _code_.Add(@""", ");
            _code_.Add(_value2_.MethodIndex.ToString());
            _code_.Add(@", ");
            _code_.Add(_value2_.IsSimpleSerializeParamter.ToString());
            _code_.Add(@", ");
            _code_.Add(_value2_.IsSimpleDeserializeParamter.ToString());
            _code_.Add(@", ");
            _code_.Add(_value2_.CallbackTypeString);
            _code_.Add(@", ");
            _code_.Add(_value2_.QueueIndex.ToString());
            _code_.Add(@", ");
            _code_.Add(_value2_.IsLowPriorityQueue.ToString());
            _code_.Add(@", ");
            _code_.Add(_value2_.TimeoutSeconds.ToString());
            _code_.Add(@", ");
            _code_.Add(_value2_.IsSimpleSerializeTwoStageReturnValue.ToString());
            _code_.Add(@"));");
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex1_;
                    }
                }
            _code_.Add(@"
                return methods;
            }
            /// <summary>
            /// AOT code generation call activation reflection
            /// AOT 代码生成调用激活反射
            /// </summary>
            internal static void ");
            _code_.Add(CommandClientControllerConstructorMethodName);
            _code_.Add(@"()
            {
                ");
            _code_.Add(CommandClientControllerConstructorMethodName);
            _code_.Add(@"(null, null, 0, null);");
            _if_ = false;
                    if (EnumType != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                AutoCSer.AotReflection.NonPublicFields(typeof(");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value1_ = EnumType;
                    if (_value1_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value1_.FullName);
                    }
                }
            _code_.Add(@"));");
            }
            _code_.Add(@"
                ");
            _code_.Add(CommandClientControllerMethodName);
            _code_.Add(@"();
                AutoCSer.AotReflection.Interfaces(typeof(");
            _code_.Add(TypeName);
            _code_.Add(@"));");
            _if_ = false;
                    if (IsDefaultController)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                ");
            _code_.Add(DefaultControllerTypeName);
            _code_.Add(@"/**/.");
            _code_.Add(CommandClientControllerConstructorMethodName);
            _code_.Add(@"(null, null);
                AutoCSer.AotReflection.Interfaces(typeof(");
            _code_.Add(DefaultControllerTypeName);
            _code_.Add(@"));");
            }
            _code_.Add(@"
            }
        }");
            _if_ = false;
                    if (IsDefaultController)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
        /// <summary>
        /// ");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value1_ = CurrentType;
                    if (_value1_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value1_.CodeGeneratorXmlDocument);
                    }
                }
            _code_.Add(@" client defafult controller
        /// </summary>
        internal unsafe class ");
            _code_.Add(DefaultControllerTypeName);
            _code_.Add(@" : AutoCSer.Net.CommandClientDefaultController, ");
            _code_.Add(InterfaceTypeName);
            _code_.Add(@"
        {
            private ");
            _code_.Add(DefaultControllerTypeName);
            _code_.Add(@"(AutoCSer.Net.CommandClient client, string controllerName) : base(client, controllerName) { }
            internal static AutoCSer.Net.CommandClientDefaultController ");
            _code_.Add(CommandClientControllerConstructorMethodName);
            _code_.Add(@"(AutoCSer.Net.CommandClient client, string controllerName)
            {
                return new ");
            _code_.Add(DefaultControllerTypeName);
            _code_.Add(@"(client, controllerName);
            }");
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.CommandClientController.ControllerMethod[] _value1_;
                    _value1_ = Methods;
                    if (_value1_ != null)
                    {
                        int _loopIndex1_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.TemplateGenerator.CommandClientController.ControllerMethod _value2_ in _value1_)
                        {
            _code_.Add(@"
            /// <summary>
            /// ");
                {
                    AutoCSer.CodeGenerator.Metadata.MethodIndex _value3_ = _value2_.Method;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.MethodIndex))
                    {
            _code_.Add(_value3_.CodeGeneratorXmlDocument);
                    }
                }
            _code_.Add(@"
            /// </summary>");
                {
                    AutoCSer.CodeGenerator.Metadata.MethodParameter[] _value3_ = default(AutoCSer.CodeGenerator.Metadata.MethodParameter[]);
                {
                    AutoCSer.CodeGenerator.Metadata.MethodIndex _value4_ = _value2_.Method;
                    if (_value4_ != default(AutoCSer.CodeGenerator.Metadata.MethodIndex))
                    {
                    _value3_ = _value4_.Parameters;
                    }
                }
                    if (_value3_ != null)
                    {
                        int _loopIndex3_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.Metadata.MethodParameter _value4_ in _value3_)
                        {
            _code_.Add(@"
            /// <param name=""");
            _code_.Add(_value4_.ParameterName);
            _code_.Add(@""">");
            _code_.Add(_value4_.CodeGeneratorXmlDocument);
            _code_.Add(@"</param>");
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex3_;
                    }
                }
            _code_.Add(@"
            /// <returns>");
                {
                    AutoCSer.CodeGenerator.Metadata.MethodIndex _value3_ = _value2_.Method;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.MethodIndex))
                    {
            _code_.Add(_value3_.CodeGeneratorReturnXmlDocument);
                    }
                }
            _code_.Add(@"</returns>
            ");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.MethodReturnType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value3_.FullName);
                    }
                }
            _code_.Add(@" ");
            _code_.Add(_value2_.MethodInterfaceTypeName);
            _code_.Add(@"/**/.");
            _code_.Add(_value2_.MethodName);
            _code_.Add(@"(");
                {
                    AutoCSer.CodeGenerator.Metadata.MethodParameter[] _value3_ = default(AutoCSer.CodeGenerator.Metadata.MethodParameter[]);
                {
                    AutoCSer.CodeGenerator.Metadata.MethodIndex _value4_ = _value2_.Method;
                    if (_value4_ != default(AutoCSer.CodeGenerator.Metadata.MethodIndex))
                    {
                    _value3_ = _value4_.Parameters;
                    }
                }
                    if (_value3_ != null)
                    {
                        int _loopIndex3_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.Metadata.MethodParameter _value4_ in _value3_)
                        {
            _code_.Add(_value4_.RefOutString);
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value5_ = _value4_.ParameterType;
                    if (_value5_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value5_.FullName);
                    }
                }
            _code_.Add(@" ");
            _code_.Add(_value4_.ParameterJoinName);
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex3_;
                    }
                }
            _code_.Add(@")
            {");
            _if_ = false;
                if (_value2_.Error == default(string))
                {
                    _if_ = true;
                }
            if (_if_)
            {
            _if_ = false;
                    if (_value2_.DefaultControllerCallMethodName != default(string))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
                {
                    AutoCSer.CodeGenerator.Metadata.MethodParameter[] _value3_ = default(AutoCSer.CodeGenerator.Metadata.MethodParameter[]);
                {
                    AutoCSer.CodeGenerator.Metadata.MethodIndex _value4_ = _value2_.Method;
                    if (_value4_ != default(AutoCSer.CodeGenerator.Metadata.MethodIndex))
                    {
                    _value3_ = _value4_.Parameters;
                    }
                }
                    if (_value3_ != null)
                    {
                        int _loopIndex3_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.Metadata.MethodParameter _value4_ in _value3_)
                        {
            _if_ = false;
                    if (_value4_.IsOut)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                ");
            _code_.Add(_value4_.ParameterName);
            _code_.Add(@" = default(");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value5_ = _value4_.ParameterType;
                    if (_value5_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value5_.FullName);
                    }
                }
            _code_.Add(@");");
            }
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex3_;
                    }
                }
            _code_.Add(@"
                ");
            _if_ = false;
                    if (_value2_.IsMethodReturn)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                return ");
            }
            _code_.Add(@"base.");
            _code_.Add(_value2_.DefaultControllerCallMethodName);
            _if_ = false;
                    if (_value2_.ReturnValueType != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"<");
            _if_ = false;
                    if (_value2_.TwoStageReturnValueType != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.TwoStageReturnValueType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value3_.FullName);
                    }
                }
            _code_.Add(@", ");
            }
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.ReturnValueType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value3_.FullName);
                    }
                }
            _code_.Add(@">");
            }
            _code_.Add(@"(");
            _if_ = false;
                    if (_value2_.TwoStageCallbackParameterName != default(string))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(_value2_.TwoStageCallbackParameterName);
            _code_.Add(@", ");
            }
            _code_.Add(_value2_.CallbackParameterName);
            _code_.Add(@");");
            }
            _if_ = false;
                if (_value2_.DefaultControllerCallMethodName == default(string))
                {
                    _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                throw new Exception(DefaultControllerReturnType.ToString());");
            }
            }
            _if_ = false;
                    if (_value2_.Error != default(string))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                throw new Exception(@""");
            _code_.Add(_value2_.CodeGeneratorError);
            _code_.Add(@""");");
            }
            _code_.Add(@"
            }");
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex1_;
                    }
                }
            _code_.Add(@"
        }");
            }
                if (_isOut_) outEnd();
            }
        }
    }
}
namespace AutoCSer.CodeGenerator.TemplateGenerator
{
    internal partial class CommandClientReturnValueController
    {
        /// <summary>
        /// 生成代码
        /// </summary>
        /// <param name="isOut">是否输出类定义代码</param>
        protected override void create(bool _isOut_)
        {
            if (outStart(_isOut_))
            {
                
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.CommandClientReturnValueController.ControllerInterface[] _value1_;
                    _value1_ = ControllerInterfaces;
                    if (_value1_ != null)
                    {
                        int _loopIndex1_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.TemplateGenerator.CommandClientReturnValueController.ControllerInterface _value2_ in _value1_)
                        {
            _code_.Add(@"
        /// <summary>
        /// ");
                {
                    AutoCSer.CodeGenerator.Metadata.PropertyIndex _value3_ = _value2_.Property;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.PropertyIndex))
                    {
            _code_.Add(_value3_.CodeGeneratorXmlDocument);
                    }
                }
            _code_.Add(@" (Direct return value API encapsulation)
        /// </summary>
        public sealed class ");
            _code_.Add(_value2_.ReturnValueControllerTypeName);
            _code_.Add(@"
        {
            /// <summary>
            /// Command client socket event
            /// </summary>
            private readonly ");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = CurrentType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value3_.FullName);
                    }
                }
            _code_.Add(@" __client__;
            /// <summary>
            /// Whether errors and exceptions are ignored
            /// </summary>
            private readonly bool __isIgnoreError__;
            /// <summary>
            /// ");
                {
                    AutoCSer.CodeGenerator.Metadata.PropertyIndex _value3_ = _value2_.Property;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.PropertyIndex))
                    {
            _code_.Add(_value3_.CodeGeneratorXmlDocument);
                    }
                }
            _code_.Add(@" (Direct return value API encapsulation)
            /// </summary>
            /// <param name=""client"">Command client socket event</param>
            /// <param name=""isIgnoreError"">Whether errors and exceptions are ignored</param>
            public ");
            _code_.Add(_value2_.ReturnValueControllerTypeName);
            _code_.Add(@"(");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = CurrentType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value3_.FullName);
                    }
                }
            _code_.Add(@" client, bool isIgnoreError = false)
            {
                __client__ = client;
                __isIgnoreError__ = isIgnoreError;
            }");
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.CommandClientReturnValueController.ControllerMethod[] _value3_;
                    _value3_ = _value2_.Methods;
                    if (_value3_ != null)
                    {
                        int _loopIndex3_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.TemplateGenerator.CommandClientReturnValueController.ControllerMethod _value4_ in _value3_)
                        {
            _code_.Add(@"
            /// <summary>
            /// ");
                {
                    AutoCSer.CodeGenerator.Metadata.MethodIndex _value5_ = _value4_.Method;
                    if (_value5_ != default(AutoCSer.CodeGenerator.Metadata.MethodIndex))
                    {
            _code_.Add(_value5_.CodeGeneratorXmlDocument);
                    }
                }
            _code_.Add(@"
            /// </summary>");
                {
                    AutoCSer.CodeGenerator.Metadata.MethodParameter[] _value5_ = default(AutoCSer.CodeGenerator.Metadata.MethodParameter[]);
                {
                    AutoCSer.CodeGenerator.Metadata.MethodIndex _value6_ = _value4_.Method;
                    if (_value6_ != default(AutoCSer.CodeGenerator.Metadata.MethodIndex))
                    {
                    _value5_ = _value6_.Parameters;
                    }
                }
                    if (_value5_ != null)
                    {
                        int _loopIndex5_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.Metadata.MethodParameter _value6_ in _value5_)
                        {
            _code_.Add(@"
            /// <param name=""");
            _code_.Add(_value6_.ParameterName);
            _code_.Add(@""">");
            _code_.Add(_value6_.CodeGeneratorXmlDocument);
            _code_.Add(@"</param>");
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex5_;
                    }
                }
            _if_ = false;
                    if (_value4_.IsSynchronous)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _if_ = false;
                    if (_value4_.IsReturnValue)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
            /// <returns>");
                {
                    AutoCSer.CodeGenerator.Metadata.MethodIndex _value5_ = _value4_.Method;
                    if (_value5_ != default(AutoCSer.CodeGenerator.Metadata.MethodIndex))
                    {
            _code_.Add(_value5_.CodeGeneratorReturnXmlDocument);
                    }
                }
            _code_.Add(@"</returns>");
            }
            _code_.Add(@"
            [System.Runtime.CompilerServices.MethodImpl(System.Runtime.CompilerServices.MethodImplOptions.AggressiveInlining)]
            public ");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value5_ = _value4_.MethodReturnType;
                    if (_value5_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value5_.FullName);
                    }
                }
            _code_.Add(@" ");
            _code_.Add(_value4_.MethodName);
            _code_.Add(@"(");
                {
                    AutoCSer.CodeGenerator.Metadata.MethodParameter[] _value5_ = default(AutoCSer.CodeGenerator.Metadata.MethodParameter[]);
                {
                    AutoCSer.CodeGenerator.Metadata.MethodIndex _value6_ = _value4_.Method;
                    if (_value6_ != default(AutoCSer.CodeGenerator.Metadata.MethodIndex))
                    {
                    _value5_ = _value6_.Parameters;
                    }
                }
                    if (_value5_ != null)
                    {
                        int _loopIndex5_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.Metadata.MethodParameter _value6_ in _value5_)
                        {
            _code_.Add(_value6_.RefOutString);
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value7_ = _value6_.ParameterType;
                    if (_value7_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value7_.FullName);
                    }
                }
            _code_.Add(@" ");
            _code_.Add(_value6_.ParameterJoinName);
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex5_;
                    }
                }
            _code_.Add(@")
            {
                ");
            _if_ = false;
                    if (_value4_.IsReturnValue)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                return ");
            }
            _code_.Add(@"this.__client__.");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@"/**/.");
            _code_.Add(_value4_.MethodName);
            _code_.Add(@"(");
                {
                    AutoCSer.CodeGenerator.Metadata.MethodParameter[] _value5_ = default(AutoCSer.CodeGenerator.Metadata.MethodParameter[]);
                {
                    AutoCSer.CodeGenerator.Metadata.MethodIndex _value6_ = _value4_.Method;
                    if (_value6_ != default(AutoCSer.CodeGenerator.Metadata.MethodIndex))
                    {
                    _value5_ = _value6_.Parameters;
                    }
                }
                    if (_value5_ != null)
                    {
                        int _loopIndex5_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.Metadata.MethodParameter _value6_ in _value5_)
                        {
            _code_.Add(_value6_.RefOutString);
            _code_.Add(_value6_.ParameterJoinName);
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex5_;
                    }
                }
            _code_.Add(@")");
            _if_ = false;
                    if (_value4_.IsGetReturnValue)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@".GetValue(__isIgnoreError__)");
            }
            _code_.Add(@";
            }");
            }
            _if_ = false;
                if (!(bool)_value4_.IsSynchronous)
                {
                    _if_ = true;
                }
            if (_if_)
            {
            _if_ = false;
                    if (_value4_.IsReturnValue)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
            /// <returns>");
                {
                    AutoCSer.CodeGenerator.Metadata.MethodIndex _value5_ = _value4_.Method;
                    if (_value5_ != default(AutoCSer.CodeGenerator.Metadata.MethodIndex))
                    {
            _code_.Add(_value5_.CodeGeneratorReturnXmlDocument);
                    }
                }
            _code_.Add(@"</returns>");
            }
            _code_.Add(@"
            [System.Runtime.CompilerServices.MethodImpl(System.Runtime.CompilerServices.MethodImplOptions.AggressiveInlining)]
            public ");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value5_ = _value4_.MethodReturnType;
                    if (_value5_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value5_.FullName);
                    }
                }
            _code_.Add(@" ");
            _code_.Add(_value4_.MethodName);
            _code_.Add(@"(");
                {
                    AutoCSer.CodeGenerator.Metadata.MethodParameter[] _value5_ = default(AutoCSer.CodeGenerator.Metadata.MethodParameter[]);
                {
                    AutoCSer.CodeGenerator.Metadata.MethodIndex _value6_ = _value4_.Method;
                    if (_value6_ != default(AutoCSer.CodeGenerator.Metadata.MethodIndex))
                    {
                    _value5_ = _value6_.Parameters;
                    }
                }
                    if (_value5_ != null)
                    {
                        int _loopIndex5_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.Metadata.MethodParameter _value6_ in _value5_)
                        {
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value7_ = _value6_.ParameterType;
                    if (_value7_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value7_.FullName);
                    }
                }
            _code_.Add(@" ");
            _code_.Add(_value6_.ParameterJoinName);
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex5_;
                    }
                }
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value5_ = default(AutoCSer.CodeGenerator.Metadata.ExtensionType);
                    _value5_ = _value4_.CallbackType;
            _if_ = false;
                    if (_value5_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _if_ = false;
                    if (_value4_.IsJoinCallback)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@", ");
            }
            _code_.Add(_value5_.FullName);
            _code_.Add(@" ");
            _code_.Add(_value4_.CallbackParameterName);
            }
                }
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value5_ = default(AutoCSer.CodeGenerator.Metadata.ExtensionType);
                    _value5_ = _value4_.KeepCallbackType;
            _if_ = false;
                    if (_value5_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _if_ = false;
                    if (_value4_.IsJoinKeepCallback)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@", ");
            }
            _code_.Add(_value5_.FullName);
            _code_.Add(@" ");
            _code_.Add(_value4_.KeepCallbackParameterName);
            }
                }
            _code_.Add(@")
            {
                return this.__client__.");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@"/**/.");
            _code_.Add(_value4_.MethodName);
            _code_.Add(@"(");
                {
                    AutoCSer.CodeGenerator.Metadata.MethodParameter[] _value5_ = default(AutoCSer.CodeGenerator.Metadata.MethodParameter[]);
                {
                    AutoCSer.CodeGenerator.Metadata.MethodIndex _value6_ = _value4_.Method;
                    if (_value6_ != default(AutoCSer.CodeGenerator.Metadata.MethodIndex))
                    {
                    _value5_ = _value6_.Parameters;
                    }
                }
                    if (_value5_ != null)
                    {
                        int _loopIndex5_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.Metadata.MethodParameter _value6_ in _value5_)
                        {
            _code_.Add(_value6_.ParameterJoinName);
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex5_;
                    }
                }
            _if_ = false;
                    if (_value4_.CallbackParameterName != default(string))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _if_ = false;
                    if (_value4_.IsJoinCallback)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@", ");
            }
            _code_.Add(@"new ");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value5_ = _value4_.CallbackReturnValueType;
                    if (_value5_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value5_.FullName);
                    }
                }
            _code_.Add(@"(");
            _code_.Add(_value4_.CallbackParameterName);
            _code_.Add(@")");
            }
            _if_ = false;
                    if (_value4_.KeepCallbackParameterName != default(string))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _if_ = false;
                    if (_value4_.IsJoinKeepCallback)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@", ");
            }
            _code_.Add(@"new ");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value5_ = _value4_.KeepCallbackReturnValueType;
                    if (_value5_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value5_.FullName);
                    }
                }
            _code_.Add(@"(");
            _code_.Add(_value4_.KeepCallbackParameterName);
            _code_.Add(@")");
            }
            _code_.Add(@");
            }
            /// <summary>
            /// ");
                {
                    AutoCSer.CodeGenerator.Metadata.MethodIndex _value5_ = _value4_.Method;
                    if (_value5_ != default(AutoCSer.CodeGenerator.Metadata.MethodIndex))
                    {
            _code_.Add(_value5_.CodeGeneratorXmlDocument);
                    }
                }
            _code_.Add(@"
            /// </summary>");
                {
                    AutoCSer.CodeGenerator.Metadata.MethodParameter[] _value5_ = default(AutoCSer.CodeGenerator.Metadata.MethodParameter[]);
                {
                    AutoCSer.CodeGenerator.Metadata.MethodIndex _value6_ = _value4_.Method;
                    if (_value6_ != default(AutoCSer.CodeGenerator.Metadata.MethodIndex))
                    {
                    _value5_ = _value6_.Parameters;
                    }
                }
                    if (_value5_ != null)
                    {
                        int _loopIndex5_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.Metadata.MethodParameter _value6_ in _value5_)
                        {
            _code_.Add(@"
            /// <param name=""");
            _code_.Add(_value6_.ParameterName);
            _code_.Add(@""">");
            _code_.Add(_value6_.CodeGeneratorXmlDocument);
            _code_.Add(@"</param>");
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex5_;
                    }
                }
            _if_ = false;
                    if (_value4_.IsReturnValue)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
            /// <returns>");
                {
                    AutoCSer.CodeGenerator.Metadata.MethodIndex _value5_ = _value4_.Method;
                    if (_value5_ != default(AutoCSer.CodeGenerator.Metadata.MethodIndex))
                    {
            _code_.Add(_value5_.CodeGeneratorReturnXmlDocument);
                    }
                }
            _code_.Add(@"</returns>");
            }
            _code_.Add(@"
            [System.Runtime.CompilerServices.MethodImpl(System.Runtime.CompilerServices.MethodImplOptions.AggressiveInlining)]
            public ");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value5_ = _value4_.MethodReturnType;
                    if (_value5_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value5_.FullName);
                    }
                }
            _code_.Add(@" ");
            _code_.Add(_value4_.MethodName);
            _code_.Add(@"(");
                {
                    AutoCSer.CodeGenerator.Metadata.MethodParameter[] _value5_ = default(AutoCSer.CodeGenerator.Metadata.MethodParameter[]);
                {
                    AutoCSer.CodeGenerator.Metadata.MethodIndex _value6_ = _value4_.Method;
                    if (_value6_ != default(AutoCSer.CodeGenerator.Metadata.MethodIndex))
                    {
                    _value5_ = _value6_.Parameters;
                    }
                }
                    if (_value5_ != null)
                    {
                        int _loopIndex5_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.Metadata.MethodParameter _value6_ in _value5_)
                        {
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value7_ = _value6_.ParameterType;
                    if (_value7_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value7_.FullName);
                    }
                }
            _code_.Add(@" ");
            _code_.Add(_value6_.ParameterJoinName);
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex5_;
                    }
                }
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value5_ = default(AutoCSer.CodeGenerator.Metadata.ExtensionType);
                    _value5_ = _value4_.CallbackType;
            _if_ = false;
                    if (_value5_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _if_ = false;
                    if (_value4_.IsJoinCallback)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@", ");
            }
            _code_.Add(_value5_.FullName);
            _code_.Add(@" ");
            _code_.Add(_value4_.CallbackParameterName);
            _if_ = false;
                if (!(bool)_value4_.IsTwoStageReturnValueParameter)
                {
                    _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@", Action<AutoCSer.Net.CommandClientReturnValue> ");
            _code_.Add(_value4_.ErrorCallbackParameterName);
            }
            }
                }
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value5_ = default(AutoCSer.CodeGenerator.Metadata.ExtensionType);
                    _value5_ = _value4_.KeepCallbackType;
            _if_ = false;
                    if (_value5_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _if_ = false;
                    if (_value4_.IsJoinKeepCallback)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@", ");
            }
            _code_.Add(_value5_.FullName);
            _code_.Add(@" ");
            _code_.Add(_value4_.KeepCallbackParameterName);
            _code_.Add(@", Action<AutoCSer.Net.CommandClientReturnValue> ");
            _code_.Add(_value4_.ErrorKeepCallbackParameterName);
            }
                }
            _code_.Add(@")
            {
                return this.__client__.");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@"/**/.");
            _code_.Add(_value4_.MethodName);
            _code_.Add(@"(");
                {
                    AutoCSer.CodeGenerator.Metadata.MethodParameter[] _value5_ = default(AutoCSer.CodeGenerator.Metadata.MethodParameter[]);
                {
                    AutoCSer.CodeGenerator.Metadata.MethodIndex _value6_ = _value4_.Method;
                    if (_value6_ != default(AutoCSer.CodeGenerator.Metadata.MethodIndex))
                    {
                    _value5_ = _value6_.Parameters;
                    }
                }
                    if (_value5_ != null)
                    {
                        int _loopIndex5_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.Metadata.MethodParameter _value6_ in _value5_)
                        {
            _code_.Add(_value6_.ParameterJoinName);
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex5_;
                    }
                }
            _if_ = false;
                    if (_value4_.CallbackParameterName != default(string))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _if_ = false;
                    if (_value4_.IsJoinCallback)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@", ");
            }
            _code_.Add(@"new ");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value5_ = _value4_.CallbackReturnValueType;
                    if (_value5_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value5_.FullName);
                    }
                }
            _code_.Add(@"(");
            _code_.Add(_value4_.CallbackParameterName);
            _if_ = false;
                if (!(bool)_value4_.IsTwoStageReturnValueParameter)
                {
                    _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@", ");
            _code_.Add(_value4_.ErrorCallbackParameterName);
            }
            _code_.Add(@")");
            }
            _if_ = false;
                    if (_value4_.KeepCallbackParameterName != default(string))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _if_ = false;
                    if (_value4_.IsJoinKeepCallback)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@", ");
            }
            _code_.Add(@"new ");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value5_ = _value4_.KeepCallbackReturnValueType;
                    if (_value5_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value5_.FullName);
                    }
                }
            _code_.Add(@"(");
            _code_.Add(_value4_.KeepCallbackParameterName);
            _code_.Add(@", ");
            _code_.Add(_value4_.ErrorKeepCallbackParameterName);
            _code_.Add(@")");
            }
            _code_.Add(@");
            }");
            }
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex3_;
                    }
                }
            _code_.Add(@"
        }
        /// <summary>
        /// Get the direct return value API encapsulation (");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@")
        /// </summary>
        /// <param name=""isIgnoreError"">Whether errors and exceptions are ignored</param>
        /// <returns>");
                {
                    AutoCSer.CodeGenerator.Metadata.PropertyIndex _value3_ = _value2_.Property;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.PropertyIndex))
                    {
            _code_.Add(_value3_.CodeGeneratorXmlDocument);
                    }
                }
            _code_.Add(@" (Direct return value API encapsulation)</returns>
        [System.Runtime.CompilerServices.MethodImpl(System.Runtime.CompilerServices.MethodImplOptions.AggressiveInlining)]
        public ");
            _code_.Add(_value2_.ReturnValueControllerTypeName);
            _code_.Add(@" ");
            _code_.Add(_value2_.GetReturnValueControllerMethodName);
            _code_.Add(@"(bool isIgnoreError = false) { return new ");
            _code_.Add(_value2_.ReturnValueControllerTypeName);
            _code_.Add(@"(this, isIgnoreError); }");
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex1_;
                    }
                }
                if (_isOut_) outEnd();
            }
        }
    }
}
namespace AutoCSer.CodeGenerator.TemplateGenerator
{
    internal partial class CommandServerMethodIndexEnumType
    {
        /// <summary>
        /// 生成代码
        /// </summary>
        /// <param name="isOut">是否输出类定义代码</param>
        protected override void create(bool _isOut_)
        {
            if (outStart(_isOut_))
            {
                
            _if_ = false;
                    if (IsGeneratorAttribute)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
        /// <summary>
        /// ");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value1_ = CurrentType;
                    if (_value1_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value1_.CodeGeneratorXmlDocument);
                    }
                }
            _code_.Add(@"
        /// </summary>
        [AutoCSer.Net.CommandServer.ServerControllerInterface(typeof(");
            _code_.Add(MethodIndexEnumTypeName);
            _code_.Add(@"))]
        ");
            _code_.Add(TypeNameDefinition);
            _code_.Add(@" { }");
            }
            _if_ = false;
                    if (IsGeneratorEnum)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
        /// <summary>
        /// ");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value1_ = CurrentType;
                    if (_value1_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value1_.CodeGeneratorXmlDocument);
                    }
                }
            _code_.Add(@" (The method sequence number maps the enumeration type)
        /// </summary>
        public enum ");
            _code_.Add(MethodIndexEnumTypeName);
            _code_.Add(@"
        {");
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.CommandServerMethodIndexEnumType.MethodInfo[] _value1_;
                    _value1_ = Methods;
                    if (_value1_ != null)
                    {
                        int _loopIndex1_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.TemplateGenerator.CommandServerMethodIndexEnumType.MethodInfo _value2_ in _value1_)
                        {
            _if_ = false;
                    if (_value2_.EnumName != default(string))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _if_ = false;
                    if (_value2_.Method != default(AutoCSer.CodeGenerator.Metadata.MethodIndex))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
            /// <summary>
            /// [");
            _code_.Add(_value2_.MethodIndex.ToString());
            _code_.Add(@"] ");
                {
                    AutoCSer.CodeGenerator.Metadata.MethodIndex _value3_ = _value2_.Method;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.MethodIndex))
                    {
            _code_.Add(_value3_.CodeGeneratorXmlDocument);
                    }
                }
                {
                    AutoCSer.CodeGenerator.Metadata.MethodParameter[] _value3_ = default(AutoCSer.CodeGenerator.Metadata.MethodParameter[]);
                {
                    AutoCSer.CodeGenerator.Metadata.MethodIndex _value4_ = _value2_.Method;
                    if (_value4_ != default(AutoCSer.CodeGenerator.Metadata.MethodIndex))
                    {
                    _value3_ = _value4_.Parameters;
                    }
                }
                    if (_value3_ != null)
                    {
                        int _loopIndex3_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.Metadata.MethodParameter _value4_ in _value3_)
                        {
            _code_.Add(@"
            /// ");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value5_ = _value4_.ParameterType;
                    if (_value5_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value5_.XmlFullName);
                    }
                }
            _code_.Add(@" ");
            _code_.Add(_value4_.ParameterName);
            _code_.Add(@" ");
            _code_.Add(_value4_.CodeGeneratorXmlDocument);
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex3_;
                    }
                }
            _if_ = false;
                    if (_value2_.MethodIsReturn)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
            /// 返回值 ");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.MethodReturnType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value3_.XmlFullName);
                    }
                }
            _code_.Add(@" ");
                {
                    AutoCSer.CodeGenerator.Metadata.MethodIndex _value3_ = _value2_.Method;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.MethodIndex))
                    {
            _code_.Add(_value3_.CodeGeneratorReturnXmlDocument);
                    }
                }
            }
            _code_.Add(@"
            /// </summary>");
            }
            _code_.Add(@"
            ");
            _code_.Add(_value2_.EnumName);
            _code_.Add(@" = ");
            _code_.Add(_value2_.MethodIndex.ToString());
            _code_.Add(@",");
            }
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex1_;
                    }
                }
            _code_.Add(@"
        }");
            }
                if (_isOut_) outEnd();
            }
        }
    }
}
namespace AutoCSer.CodeGenerator.TemplateGenerator
{
    internal partial class Configuration
    {
        /// <summary>
        /// 生成代码
        /// </summary>
        /// <param name="isOut">是否输出类定义代码</param>
        protected override void create(bool _isOut_)
        {
            if (outStart(_isOut_))
            {
                
            _code_.Add(@"
            /// <summary>
            /// AOT code generation call activation reflection
            /// AOT 代码生成调用激活反射
            /// </summary>
            internal static void ");
            _code_.Add(ConfigurationMethodName);
            _code_.Add(@"()
            {");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType[] _value1_;
                    _value1_ = CreateTypes;
                    if (_value1_ != null)
                    {
                        int _loopIndex1_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.Metadata.ExtensionType _value2_ in _value1_)
                        {
            _code_.Add(@"
                AutoCSer.ConfigObject.Create<");
            _code_.Add(_value2_.FullName);
            _code_.Add(@">(null);");
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex1_;
                    }
                }
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType[] _value1_;
                    _value1_ = CreateTaskTypes;
                    if (_value1_ != null)
                    {
                        int _loopIndex1_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.Metadata.ExtensionType _value2_ in _value1_)
                        {
            _code_.Add(@"
                AutoCSer.Extensions.TaskExtension.AutoCSerNotWait(AutoCSer.ConfigObject.CreateTask<");
            _code_.Add(_value2_.FullName);
            _code_.Add(@">(null));");
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex1_;
                    }
                }
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType[] _value1_;
                    _value1_ = GetTaskTypes;
                    if (_value1_ != null)
                    {
                        int _loopIndex1_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.Metadata.ExtensionType _value2_ in _value1_)
                        {
            _code_.Add(@"
                AutoCSer.Extensions.TaskExtension.AutoCSerNotWait(AutoCSer.ConfigObject.GetTask<");
            _code_.Add(_value2_.FullName);
            _code_.Add(@">(null));");
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex1_;
                    }
                }
            _code_.Add(@"
                AutoCSer.AotReflection.All(typeof(");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value1_ = CurrentType;
                    if (_value1_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value1_.FullName);
                    }
                }
            _code_.Add(@"));
            }");
                if (_isOut_) outEnd();
            }
        }
    }
}
namespace AutoCSer.CodeGenerator.TemplateGenerator
{
    internal partial class DefaultConstructor
    {
        /// <summary>
        /// 生成代码
        /// </summary>
        /// <param name="isOut">是否输出类定义代码</param>
        protected override void create(bool _isOut_)
        {
            if (outStart(_isOut_))
            {
                
            _code_.Add(@"
            /// <summary>
            /// Call the default constructor
            /// 调用默认构造函数
            /// </summary>
            internal static ");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value1_ = CurrentType;
                    if (_value1_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value1_.FullName);
                    }
                }
            _code_.Add(@" ");
            _code_.Add(DefaultConstructorMethodName);
            _code_.Add(@"()
            {
                return new ");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value1_ = CurrentType;
                    if (_value1_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value1_.FullName);
                    }
                }
            _code_.Add(@"();
            }
            /// <summary>
            /// AOT code generation call activation reflection
            /// AOT 代码生成调用激活反射
            /// </summary>
            internal static void ");
            _code_.Add(DefaultConstructorReflectionMethodName);
            _code_.Add(@"()
            {
                ");
            _code_.Add(DefaultConstructorMethodName);
            _code_.Add(@"();
                AutoCSer.Metadata.DefaultConstructor.GetIsSerializeConstructor<");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value1_ = CurrentType;
                    if (_value1_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value1_.FullName);
                    }
                }
            _code_.Add(@">();
            }");
                if (_isOut_) outEnd();
            }
        }
    }
}
namespace AutoCSer.CodeGenerator.TemplateGenerator
{
    internal partial class FieldEquals
    {
        /// <summary>
        /// 生成代码
        /// </summary>
        /// <param name="isOut">是否输出类定义代码</param>
        protected override void create(bool _isOut_)
        {
            if (outStart(_isOut_))
            {
                
            _code_.Add(@"
            /// <summary>
            /// Object comparison
            /// 对象对比
            /// </summary>
            /// <param name=""left""></param>
            /// <param name=""right""></param>
            /// <returns></returns>
            internal static bool ");
            _code_.Add(FieldEqualsMethodName);
            _code_.Add(@"(");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value1_ = CurrentType;
                    if (_value1_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value1_.FullName);
                    }
                }
            _code_.Add(@" left, ");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value1_ = CurrentType;
                    if (_value1_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value1_.FullName);
                    }
                }
            _code_.Add(@" right)
            {
                return left.fieldEquals(right)");
            _if_ = false;
                    if (BaseType != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@" && AutoCSer.FieldEquals.Comparor.CallEquals<");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value1_ = BaseType;
                    if (_value1_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value1_.FullName);
                    }
                }
            _code_.Add(@">(left, right)");
            }
            _code_.Add(@";
            }
            /// <summary>
            /// Object comparison
            /// 对象对比
            /// </summary>
            /// <param name=""__value__""></param>
            private bool fieldEquals(");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value1_ = CurrentType;
                    if (_value1_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value1_.FullName);
                    }
                }
            _code_.Add(@" __value__)
            {");
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.FieldEquals.EqualsMember[] _value1_;
                    _value1_ = Fields;
                    if (_value1_ != null)
                    {
                        int _loopIndex1_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.TemplateGenerator.FieldEquals.EqualsMember _value2_ in _value1_)
                        {
            _code_.Add(@"
                if(!AutoCSer.FieldEquals.Comparor.");
            _code_.Add(_value2_.EqualsMethodName);
            _if_ = false;
                    if (_value2_.GenericTypeName != default(string))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"<");
            _code_.Add(_value2_.GenericTypeName);
            _code_.Add(@">");
            }
            _code_.Add(@"(");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@", __value__.");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@")) return false;");
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex1_;
                    }
                }
            _code_.Add(@"
                return true;
            }
            /// <summary>
            /// Object comparison based on member bitmaps
            /// 基于成员位图的对象对比
            /// </summary>
            /// <param name=""left""></param>
            /// <param name=""right""></param>
            /// <param name=""memberMap""></param>
            /// <returns></returns>
            internal static bool ");
            _code_.Add(MemberMapFieldEqualsMethodName);
            _code_.Add(@"(");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value1_ = CurrentType;
                    if (_value1_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value1_.FullName);
                    }
                }
            _code_.Add(@" left, ");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value1_ = CurrentType;
                    if (_value1_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value1_.FullName);
                    }
                }
            _code_.Add(@" right, AutoCSer.Metadata.MemberMap<");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value1_ = CurrentType;
                    if (_value1_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value1_.FullName);
                    }
                }
            _code_.Add(@"> memberMap)
            {
                return left.fieldEquals(right, memberMap);
            }
            /// <summary>
            /// Object comparison based on member bitmaps
            /// 基于成员位图的对象对比
            /// </summary>
            /// <param name=""__value__""></param>
            /// <param name=""__memberMap__""></param>
            private bool fieldEquals(");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value1_ = CurrentType;
                    if (_value1_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value1_.FullName);
                    }
                }
            _code_.Add(@" __value__, AutoCSer.Metadata.MemberMap<");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value1_ = CurrentType;
                    if (_value1_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value1_.FullName);
                    }
                }
            _code_.Add(@"> __memberMap__)
            {");
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.FieldEquals.EqualsMember[] _value1_;
                    _value1_ = MemberMapFields;
                    if (_value1_ != null)
                    {
                        int _loopIndex1_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.TemplateGenerator.FieldEquals.EqualsMember _value2_ in _value1_)
                        {
            _code_.Add(@"
                if (__memberMap__.IsMember(");
            _code_.Add(_value2_.MemberIndex.ToString());
            _code_.Add(@") && !AutoCSer.FieldEquals.Comparor.");
            _code_.Add(_value2_.EqualsMethodName);
            _if_ = false;
                    if (_value2_.GenericTypeName != default(string))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"<");
            _code_.Add(_value2_.GenericTypeName);
            _code_.Add(@">");
            }
            _code_.Add(@"(");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@", __value__.");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@")) return false;");
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex1_;
                    }
                }
            _code_.Add(@"
                return true;
            }
            /// <summary>
            /// AOT code generation call activation reflection
            /// AOT 代码生成调用激活反射
            /// </summary>
            internal static void ");
            _code_.Add(FieldEqualsMethodName);
            _code_.Add(@"()
            {
                ");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value1_ = CurrentType;
                    if (_value1_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value1_.FullName);
                    }
                }
            _code_.Add(@" left = default(");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value1_ = CurrentType;
                    if (_value1_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value1_.FullName);
                    }
                }
            _code_.Add(@"), right = default(");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value1_ = CurrentType;
                    if (_value1_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value1_.FullName);
                    }
                }
            _code_.Add(@");
                ");
            _code_.Add(FieldEqualsMethodName);
            _code_.Add(@"(left, right);
                ");
            _code_.Add(MemberMapFieldEqualsMethodName);
            _code_.Add(@"(left, right, null);
                AutoCSer.FieldEquals.Comparor.CallEquals<");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value1_ = CurrentType;
                    if (_value1_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value1_.FullName);
                    }
                }
            _code_.Add(@">(left, right);
            }");
                if (_isOut_) outEnd();
            }
        }
    }
}
namespace AutoCSer.CodeGenerator.TemplateGenerator
{
    internal partial class RandomObject
    {
        /// <summary>
        /// 生成代码
        /// </summary>
        /// <param name="isOut">是否输出类定义代码</param>
        protected override void create(bool _isOut_)
        {
            if (outStart(_isOut_))
            {
                
            _code_.Add(@"
            /// <summary>
            /// Generate random object
            /// 随机对象生成
            /// </summary>
            /// <param name=""value""></param>
            /// <param name=""config""></param>
            internal static void ");
            _code_.Add(CreateRandomObjectMethodName);
            _code_.Add(@"(ref ");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value1_ = CurrentType;
                    if (_value1_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value1_.FullName);
                    }
                }
            _code_.Add(@" value, AutoCSer.RandomObject.Config config)
            {
                value.createRandomObject(config);");
            _if_ = false;
                    if (BaseType != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                ");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value1_ = BaseType;
                    if (_value1_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value1_.FullName);
                    }
                }
            _code_.Add(@" baseValue = value;
                AutoCSer.RandomObject.Creator.CreateBase<");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value1_ = BaseType;
                    if (_value1_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value1_.FullName);
                    }
                }
            _code_.Add(@">(ref baseValue, config);");
            }
            _code_.Add(@"
            }
            /// <summary>
            /// Generate random object
            /// 随机对象生成
            /// </summary>
            /// <param name=""config""></param>
            private void createRandomObject(AutoCSer.RandomObject.Config __config__)
            {");
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.RandomObject.RandomMember[] _value1_;
                    _value1_ = Fields;
                    if (_value1_ != null)
                    {
                        int _loopIndex1_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.TemplateGenerator.RandomObject.RandomMember _value2_ in _value1_)
                        {
            _code_.Add(@"
                ");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@" = AutoCSer.RandomObject.Creator.Create<");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.MemberType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value3_.FullName);
                    }
                }
            _code_.Add(@">(__config__, ");
            _code_.Add(_value2_.IsNullable ? "true" : "false");
            _code_.Add(@");");
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex1_;
                    }
                }
            _code_.Add(@"
            }
            /// <summary>
            /// AOT code generation call activation reflection
            /// AOT 代码生成调用激活反射
            /// </summary>");
            _if_ = false;
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value1_ = CurrentType;
                    if (_value1_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
                {
                    System.Type _value2_ = _value1_.Type;
                    if (_value2_ != default(System.Type))
                    {
                    if (_value2_.IsGenericType)
                    {
                        _if_ = true;
                    }
                }
                    }
                }
                }
            if (_if_)
            {
            _code_.Add(@"
            public static void ");
            _code_.Add(CreateRandomObjectMethodName);
            _code_.Add(@"()");
            }
            _if_ = false;
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value1_ = CurrentType;
                    if (_value1_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
                {
                    System.Type _value2_ = _value1_.Type;
                    if (_value2_ != default(System.Type))
                    {
                if (!(bool)_value2_.IsGenericType)
                {
                    _if_ = true;
                }
                    }
                }
                    }
                }
            if (_if_)
            {
            _code_.Add(@"
            internal static void ");
            _code_.Add(CreateRandomObjectMethodName);
            _code_.Add(@"()");
            }
            _code_.Add(@"
            {
                var value = AutoCSer.RandomObject.Creator.CallCreate<");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value1_ = CurrentType;
                    if (_value1_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value1_.FullName);
                    }
                }
            _code_.Add(@">();
                ");
            _code_.Add(CreateRandomObjectMethodName);
            _code_.Add(@"(ref value, null);
            }");
                if (_isOut_) outEnd();
            }
        }
    }
}
namespace AutoCSer.CodeGenerator.TemplateGenerator
{
    internal partial class MemberCopy
    {
        /// <summary>
        /// 生成代码
        /// </summary>
        /// <param name="isOut">是否输出类定义代码</param>
        protected override void create(bool _isOut_)
        {
            if (outStart(_isOut_))
            {
                
            _code_.Add(@"
            /// <summary>
            /// Member copy
            /// 成员复制
            /// </summary>
            /// <param name=""writeValue""></param>
            /// <param name=""readValue""></param>
            internal static void ");
            _code_.Add(MemberCopyMethodName);
            _code_.Add(@"(ref ");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value1_ = CurrentType;
                    if (_value1_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value1_.FullName);
                    }
                }
            _code_.Add(@" writeValue, ");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value1_ = CurrentType;
                    if (_value1_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value1_.FullName);
                    }
                }
            _code_.Add(@" readValue)
            {
                writeValue.memberCopyFrom(readValue);
            }
            /// <summary>
            /// Member copy
            /// 成员复制
            /// </summary>
            /// <param name=""__value__""></param>
            private void memberCopyFrom(");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value1_ = CurrentType;
                    if (_value1_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value1_.FullName);
                    }
                }
            _code_.Add(@" __value__)
            {");
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.MemberCopy.CopyMember[] _value1_;
                    _value1_ = Fields;
                    if (_value1_ != null)
                    {
                        int _loopIndex1_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.TemplateGenerator.MemberCopy.CopyMember _value2_ in _value1_)
                        {
            _code_.Add(@"
                ");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@" = __value__.");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@";");
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex1_;
                    }
                }
            _code_.Add(@"
            }
            /// <summary>
            /// Member copy of member bitmap is supported
            /// 支持成员位图的成员复制
            /// </summary>
            /// <param name=""writeValue""></param>
            /// <param name=""readValue""></param>
            /// <param name=""memberMap""></param>
            internal static void ");
            _code_.Add(MemberMapCopyMethodName);
            _code_.Add(@"(ref ");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value1_ = CurrentType;
                    if (_value1_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value1_.FullName);
                    }
                }
            _code_.Add(@" writeValue, ");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value1_ = CurrentType;
                    if (_value1_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value1_.FullName);
                    }
                }
            _code_.Add(@" readValue, AutoCSer.Metadata.MemberMap<");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value1_ = CurrentType;
                    if (_value1_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value1_.FullName);
                    }
                }
            _code_.Add(@"> memberMap)
            {
                writeValue.memberCopyFrom(readValue, memberMap);
            }
            /// <summary>
            /// Member copy of member bitmap is supported
            /// 支持成员位图的成员复制
            /// </summary>
            /// <param name=""readValue""></param>
            /// <param name=""memberMap""></param>
            private void memberCopyFrom(");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value1_ = CurrentType;
                    if (_value1_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value1_.FullName);
                    }
                }
            _code_.Add(@" __value__, AutoCSer.Metadata.MemberMap<");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value1_ = CurrentType;
                    if (_value1_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value1_.FullName);
                    }
                }
            _code_.Add(@"> __memberMap__)
            {");
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.MemberCopy.CopyMember[] _value1_;
                    _value1_ = Fields;
                    if (_value1_ != null)
                    {
                        int _loopIndex1_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.TemplateGenerator.MemberCopy.CopyMember _value2_ in _value1_)
                        {
            _code_.Add(@"
                if (__memberMap__.IsMember(");
            _code_.Add(_value2_.MemberIndex.ToString());
            _code_.Add(@")) ");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@" = __value__.");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@";");
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex1_;
                    }
                }
            _code_.Add(@"
            }
            /// <summary>
            /// AOT code generation call activation reflection
            /// AOT 代码生成调用激活反射
            /// </summary>
            internal static void ");
            _code_.Add(MemberCopyMethodName);
            _code_.Add(@"()
            {
                ");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value1_ = CurrentType;
                    if (_value1_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value1_.FullName);
                    }
                }
            _code_.Add(@" writeValue = default(");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value1_ = CurrentType;
                    if (_value1_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value1_.FullName);
                    }
                }
            _code_.Add(@"), readValue = default(");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value1_ = CurrentType;
                    if (_value1_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value1_.FullName);
                    }
                }
            _code_.Add(@");
                ");
            _code_.Add(MemberCopyMethodName);
            _code_.Add(@"(ref writeValue, readValue);
                ");
            _code_.Add(MemberMapCopyMethodName);
            _code_.Add(@"(ref writeValue, readValue, null);
                AutoCSer.MemberCopy<");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value1_ = CurrentType;
                    if (_value1_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value1_.FullName);
                    }
                }
            _code_.Add(@">.Copy(ref writeValue, readValue);
            }");
                if (_isOut_) outEnd();
            }
        }
    }
}
namespace AutoCSer.CodeGenerator.TemplateGenerator
{
    internal partial class BinarySerialize
    {
        /// <summary>
        /// 生成代码
        /// </summary>
        /// <param name="isOut">是否输出类定义代码</param>
        protected override void create(bool _isOut_)
        {
            if (outStart(_isOut_))
            {
                
            _if_ = false;
                    if (IsSerialize)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
            /// <summary>
            /// Binary serialization
            /// 二进制序列化
            /// </summary>
            /// <param name=""serializer""></param>
            /// <param name=""value""></param>
            internal static void ");
            _code_.Add(BinarySerializeMethodName);
            _code_.Add(@"(AutoCSer.BinarySerializer serializer, ");
            _code_.Add(TypeFullName);
            _code_.Add(@" value)
            {");
            _if_ = false;
                    if (IsSimpleSerialize)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                serializer.Simple(value);");
            }
            _if_ = false;
                if (!(bool)IsSimpleSerialize)
                {
                    _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                if (serializer.WriteMemberCountVerify(");
            _code_.Add(FixedSize.ToString());
            _code_.Add(@", ");
            _code_.Add(MemberCountVerify.ToString());
            _code_.Add(@")) value.binarySerialize(serializer);");
            }
            _code_.Add(@"
            }");
            _if_ = false;
                if (!(bool)IsSimpleSerialize)
                {
                    _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
            /// <summary>
            /// Binary serialization
            /// 二进制序列化
            /// </summary>
            /// <param name=""__serializer__""></param>
            private void binarySerialize(AutoCSer.BinarySerializer __serializer__)
            {");
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.BinarySerialize.SerializeMember[] _value1_;
                    _value1_ = FixedFields;
                    if (_value1_ != null)
                    {
                        int _loopIndex1_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.TemplateGenerator.BinarySerialize.SerializeMember _value2_ in _value1_)
                        {
            _if_ = false;
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.MemberType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
                {
                    System.Type _value4_ = _value3_.Type;
                    if (_value4_ != default(System.Type))
                    {
                    if (_value4_.IsEnum)
                    {
                        _if_ = true;
                    }
                }
                    }
                }
                }
            if (_if_)
            {
            _code_.Add(@"
                __serializer__.Stream.Write((");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.UnderlyingType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value3_.FullName);
                    }
                }
            _code_.Add(@")this.");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@");");
            }
            _if_ = false;
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.MemberType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
                {
                    System.Type _value4_ = _value3_.Type;
                    if (_value4_ != default(System.Type))
                    {
                if (!(bool)_value4_.IsEnum)
                {
                    _if_ = true;
                }
                    }
                }
                    }
                }
            if (_if_)
            {
            _code_.Add(@"
                __serializer__.BinarySerialize(");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@");");
            }
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex1_;
                    }
                }
            _if_ = false;
                    if (FixedFillSize != default(int))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                __serializer__.FixedFillSize(");
            _code_.Add(FixedFillSize.ToString());
            _code_.Add(@");");
            }
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.BinarySerialize.SerializeMember[] _value1_;
                    _value1_ = FieldArray;
                    if (_value1_ != null)
                    {
                        int _loopIndex1_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.TemplateGenerator.BinarySerialize.SerializeMember _value2_ in _value1_)
                        {
            _code_.Add(@"
                __serializer__.");
            _code_.Add(_value2_.SerializeMethodName);
            _if_ = false;
                    if (_value2_.IsGenericType)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"<");
            _code_.Add(_value2_.GenericTypeName);
            _code_.Add(@">");
            }
            _code_.Add(@"(");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@");");
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex1_;
                    }
                }
            _code_.Add(@"
            }");
            _if_ = false;
                    if (IsMemberMap)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
            /// <summary>
            /// Binary serialization of member bitmaps is supported
            /// 支持成员位图的二进制序列化
            /// </summary>
            /// <param name=""memberMap""></param>
            /// <param name=""serializer""></param>
            /// <param name=""value""></param>
            internal static void ");
            _code_.Add(BinarySerializeMemberMapMethodName);
            _code_.Add(@"(AutoCSer.Metadata.MemberMap<");
            _code_.Add(TypeFullName);
            _code_.Add(@"> memberMap, AutoCSer.BinarySerializer serializer, ");
            _code_.Add(TypeFullName);
            _code_.Add(@" value)
            {");
            _if_ = false;
                    if (IsMemberMapFixedFillSize)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                int startIndex = serializer.Stream.GetPrepSizeCurrentIndex(");
            _code_.Add(FixedSize.ToString());
            _code_.Add(@");
                if (startIndex >= 0) value.binarySerialize(memberMap, serializer, startIndex);");
            }
            _if_ = false;
                if (!(bool)IsMemberMapFixedFillSize)
                {
                    _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                value.binarySerialize(memberMap, serializer);");
            }
            _code_.Add(@"
            }
            /// <summary>
            /// Binary serialization of member bitmaps is supported
            /// 支持成员位图的二进制序列化
            /// </summary>
            /// <param name=""__memberMap__""></param>
            /// <param name=""__serializer__""></param>
            /// <param name=""__startIndex__""></param>
            private void binarySerialize(AutoCSer.Metadata.MemberMap<");
            _code_.Add(TypeFullName);
            _code_.Add(@"> __memberMap__, AutoCSer.BinarySerializer __serializer__");
            _if_ = false;
                    if (IsMemberMapFixedFillSize)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@", int __startIndex__");
            }
            _code_.Add(@")
            {");
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.BinarySerialize.SerializeMember[] _value1_;
                    _value1_ = FixedFields;
                    if (_value1_ != null)
                    {
                        int _loopIndex1_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.TemplateGenerator.BinarySerialize.SerializeMember _value2_ in _value1_)
                        {
            _code_.Add(@"
                if (__memberMap__.IsMember(");
            _code_.Add(_value2_.MemberIndex.ToString());
            _code_.Add(@"))
                {");
            _if_ = false;
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.MemberType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
                {
                    System.Type _value4_ = _value3_.Type;
                    if (_value4_ != default(System.Type))
                    {
                    if (_value4_.IsEnum)
                    {
                        _if_ = true;
                    }
                }
                    }
                }
                }
            if (_if_)
            {
            _code_.Add(@"
                    __serializer__.Stream.Write((");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.UnderlyingType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value3_.FullName);
                    }
                }
            _code_.Add(@")this.");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@");");
            }
            _if_ = false;
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.MemberType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
                {
                    System.Type _value4_ = _value3_.Type;
                    if (_value4_ != default(System.Type))
                    {
                if (!(bool)_value4_.IsEnum)
                {
                    _if_ = true;
                }
                    }
                }
                    }
                }
            if (_if_)
            {
            _code_.Add(@"
                    __serializer__.BinarySerialize(");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@");");
            }
            _code_.Add(@"
                }");
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex1_;
                    }
                }
            _if_ = false;
                    if (IsMemberMapFixedFillSize)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                __serializer__.SerializeFill(__startIndex__);");
            }
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.BinarySerialize.SerializeMember[] _value1_;
                    _value1_ = FieldArray;
                    if (_value1_ != null)
                    {
                        int _loopIndex1_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.TemplateGenerator.BinarySerialize.SerializeMember _value2_ in _value1_)
                        {
            _code_.Add(@"
                if (__memberMap__.IsMember(");
            _code_.Add(_value2_.MemberIndex.ToString());
            _code_.Add(@")) __serializer__.");
            _code_.Add(_value2_.SerializeMethodName);
            _if_ = false;
                    if (_value2_.IsGenericType)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"<");
            _code_.Add(_value2_.GenericTypeName);
            _code_.Add(@">");
            }
            _code_.Add(@"(");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@");");
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex1_;
                    }
                }
            _code_.Add(@"
            }");
            }
            }
            }
            _if_ = false;
                    if (IsDeserialize)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
            /// <summary>
            /// Binary deserialization
            /// 二进制反序列化
            /// </summary>
            /// <param name=""deserializer""></param>
            /// <param name=""value""></param>
            internal static void ");
            _code_.Add(BinaryDeserializeMethodName);
            _code_.Add(@"(AutoCSer.BinaryDeserializer deserializer, ref ");
            _code_.Add(TypeFullName);
            _code_.Add(@" value)
            {");
            _if_ = false;
                    if (IsSimpleSerialize)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                deserializer.");
            _code_.Add(SimpleMethodName);
            _code_.Add(@"(ref value);");
            }
            _if_ = false;
                if (!(bool)IsSimpleSerialize)
                {
                    _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                value.binaryDeserialize(deserializer);");
            }
            _code_.Add(@"
            }");
            _if_ = false;
                if (!(bool)IsSimpleSerialize)
                {
                    _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
            /// <summary>
            /// Binary deserialization
            /// 二进制反序列化
            /// </summary>
            /// <param name=""__deserializer__""></param>
            private void binaryDeserialize(AutoCSer.BinaryDeserializer __deserializer__)
            {");
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.BinarySerialize.SerializeMember[] _value1_;
                    _value1_ = FixedFields;
                    if (_value1_ != null)
                    {
                        int _loopIndex1_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.TemplateGenerator.BinarySerialize.SerializeMember _value2_ in _value1_)
                        {
            _if_ = false;
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.MemberType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
                {
                    System.Type _value4_ = _value3_.Type;
                    if (_value4_ != default(System.Type))
                    {
                    if (_value4_.IsEnum)
                    {
                        _if_ = true;
                    }
                }
                    }
                }
                }
            if (_if_)
            {
            _code_.Add(@"
                this.");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@" = (");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.MemberType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value3_.FullName);
                    }
                }
            _code_.Add(@")__deserializer__.");
            _code_.Add(_value2_.DeserializeMethodName);
            _code_.Add(@"();");
            }
            _if_ = false;
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.MemberType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
                {
                    System.Type _value4_ = _value3_.Type;
                    if (_value4_ != default(System.Type))
                    {
                if (!(bool)_value4_.IsEnum)
                {
                    _if_ = true;
                }
                    }
                }
                    }
                }
            if (_if_)
            {
            _if_ = false;
                    if (_value2_.IsProperty)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                var ");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@" = this.");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@";
                __deserializer__.");
            _code_.Add(_value2_.DeserializeMethodName);
            _code_.Add(@"(ref ");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@");
                this.");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@" = ");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@";");
            }
            _if_ = false;
                if (!(bool)_value2_.IsProperty)
                {
                    _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                __deserializer__.");
            _code_.Add(_value2_.DeserializeMethodName);
            _code_.Add(@"(ref this.");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@");");
            }
            }
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex1_;
                    }
                }
            _if_ = false;
                    if (FixedFillSize != default(int))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                __deserializer__.FixedFillSize(");
            _code_.Add(FixedFillSize.ToString());
            _code_.Add(@");");
            }
            _if_ = false;
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.BinarySerialize.SerializeMember[] _value1_ = FieldArray;
                    if (_value1_ != default(AutoCSer.CodeGenerator.TemplateGenerator.BinarySerialize.SerializeMember[]))
                    {
                    if (_value1_.Length != default(int))
                    {
                        _if_ = true;
                    }
                }
                }
            if (_if_)
            {
            _code_.Add(@"
                binaryFieldDeserialize(__deserializer__);");
            }
            _code_.Add(@"
            }");
            _if_ = false;
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.BinarySerialize.SerializeMember[] _value1_ = FieldArray;
                    if (_value1_ != default(AutoCSer.CodeGenerator.TemplateGenerator.BinarySerialize.SerializeMember[]))
                    {
                    if (_value1_.Length != default(int))
                    {
                        _if_ = true;
                    }
                }
                }
            if (_if_)
            {
            _code_.Add(@"
            /// <summary>
            /// Binary deserialization
            /// 二进制反序列化
            /// </summary>
            /// <param name=""__deserializer__""></param>
            private void binaryFieldDeserialize(AutoCSer.BinaryDeserializer __deserializer__)
            {");
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.BinarySerialize.SerializeMember[] _value1_;
                    _value1_ = FieldArray;
                    if (_value1_ != null)
                    {
                        int _loopIndex1_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.TemplateGenerator.BinarySerialize.SerializeMember _value2_ in _value1_)
                        {
            _if_ = false;
                    if (_value2_.IsProperty)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                var ");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@" = this.");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@";
                __deserializer__.");
            _code_.Add(_value2_.DeserializeMethodName);
            _if_ = false;
                    if (_value2_.IsGenericType)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"<");
            _code_.Add(_value2_.GenericTypeName);
            _code_.Add(@">");
            }
            _code_.Add(@"(ref ");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@");
                this.");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@" = ");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@";");
            }
            _if_ = false;
                if (!(bool)_value2_.IsProperty)
                {
                    _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                __deserializer__.");
            _code_.Add(_value2_.DeserializeMethodName);
            _if_ = false;
                    if (_value2_.IsGenericType)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"<");
            _code_.Add(_value2_.GenericTypeName);
            _code_.Add(@">");
            }
            _code_.Add(@"(ref this.");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@");");
            }
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex1_;
                    }
                }
            _code_.Add(@"
            }");
            }
            _if_ = false;
                    if (IsMemberMap)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
            /// <summary>
            /// Binary deserialization of member bitmaps is supported
            /// 支持成员位图的二进制反序列化
            /// </summary>
            /// <param name=""memberMap""></param>
            /// <param name=""deserializer""></param>
            /// <param name=""value""></param>
            internal static void ");
            _code_.Add(BinaryDeserializeMemberMapMethodName);
            _code_.Add(@"(AutoCSer.Metadata.MemberMap<");
            _code_.Add(TypeFullName);
            _code_.Add(@"> memberMap, AutoCSer.BinaryDeserializer deserializer, ref ");
            _code_.Add(TypeFullName);
            _code_.Add(@" value)
            {
                value.binaryDeserialize(memberMap, deserializer);
            }
            /// <summary>
            /// Binary deserialization of member bitmaps is supported
            /// 支持成员位图的二进制反序列化
            /// </summary>
            /// <param name=""__memberMap__""></param>
            /// <param name=""__deserializer__""></param>
            private void binaryDeserialize(AutoCSer.Metadata.MemberMap<");
            _code_.Add(TypeFullName);
            _code_.Add(@"> __memberMap__, AutoCSer.BinaryDeserializer __deserializer__)
            {");
            _if_ = false;
                    if (IsMemberMapFixedFillSize)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                __deserializer__.SetFixedCurrent();");
            }
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.BinarySerialize.SerializeMember[] _value1_;
                    _value1_ = FixedFields;
                    if (_value1_ != null)
                    {
                        int _loopIndex1_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.TemplateGenerator.BinarySerialize.SerializeMember _value2_ in _value1_)
                        {
            _code_.Add(@"
                if (__memberMap__.IsMember(");
            _code_.Add(_value2_.MemberIndex.ToString());
            _code_.Add(@"))
                {");
            _if_ = false;
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.MemberType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
                {
                    System.Type _value4_ = _value3_.Type;
                    if (_value4_ != default(System.Type))
                    {
                    if (_value4_.IsEnum)
                    {
                        _if_ = true;
                    }
                }
                    }
                }
                }
            if (_if_)
            {
            _code_.Add(@"
                    this.");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@" = (");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.MemberType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value3_.FullName);
                    }
                }
            _code_.Add(@")__deserializer__.");
            _code_.Add(_value2_.DeserializeMethodName);
            _code_.Add(@"();");
            }
            _if_ = false;
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.MemberType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
                {
                    System.Type _value4_ = _value3_.Type;
                    if (_value4_ != default(System.Type))
                    {
                if (!(bool)_value4_.IsEnum)
                {
                    _if_ = true;
                }
                    }
                }
                    }
                }
            if (_if_)
            {
            _if_ = false;
                    if (_value2_.IsProperty)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                    var ");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@" = this.");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@";
                    __deserializer__.");
            _code_.Add(_value2_.DeserializeMethodName);
            _code_.Add(@"(ref ");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@");
                    this.");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@" = ");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@";");
            }
            _if_ = false;
                if (!(bool)_value2_.IsProperty)
                {
                    _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                    __deserializer__.");
            _code_.Add(_value2_.DeserializeMethodName);
            _code_.Add(@"(ref this.");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@");");
            }
            }
            _code_.Add(@"
                }");
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex1_;
                    }
                }
            _if_ = false;
                    if (IsMemberMapFixedFillSize)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                __deserializer__.SetFixedCurrentEnd();");
            }
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.BinarySerialize.SerializeMember[] _value1_;
                    _value1_ = FieldArray;
                    if (_value1_ != null)
                    {
                        int _loopIndex1_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.TemplateGenerator.BinarySerialize.SerializeMember _value2_ in _value1_)
                        {
            _code_.Add(@"
                if (__memberMap__.IsMember(");
            _code_.Add(_value2_.MemberIndex.ToString());
            _code_.Add(@"))
                {");
            _if_ = false;
                    if (_value2_.IsProperty)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                    var ");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@" = this.");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@";
                    __deserializer__.");
            _code_.Add(_value2_.DeserializeMethodName);
            _if_ = false;
                    if (_value2_.IsGenericType)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"<");
            _code_.Add(_value2_.GenericTypeName);
            _code_.Add(@">");
            }
            _code_.Add(@"(ref ");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@");
                    this.");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@" = ");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@";");
            }
            _if_ = false;
                if (!(bool)_value2_.IsProperty)
                {
                    _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                    __deserializer__.");
            _code_.Add(_value2_.DeserializeMethodName);
            _if_ = false;
                    if (_value2_.IsGenericType)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"<");
            _code_.Add(_value2_.GenericTypeName);
            _code_.Add(@">");
            }
            _code_.Add(@"(ref this.");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@");");
            }
            _code_.Add(@"
                }");
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex1_;
                    }
                }
            _code_.Add(@"
            }");
            }
            }
            }
            _code_.Add(@"
            /// <summary>
            /// Get the binary serialization type information
            /// 获取二进制序列化类型信息
            /// </summary>
            /// <returns></returns>
            internal static AutoCSer.BinarySerialize.TypeInfo ");
            _code_.Add(BinarySerializeMemberTypeMethodName);
            _code_.Add(@"()
            {");
            _if_ = false;
                    if (IsSimpleSerialize)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                return new AutoCSer.BinarySerialize.TypeInfo(true, ");
            _code_.Add(MemberTypeCount.ToString());
            _code_.Add(@", ");
            _code_.Add(MemberCountVerify.ToString());
            _code_.Add(@");");
            }
            _if_ = false;
                if (!(bool)IsSimpleSerialize)
                {
                    _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                AutoCSer.BinarySerialize.TypeInfo typeInfo = new AutoCSer.BinarySerialize.TypeInfo(false, ");
            _code_.Add(MemberTypeCount.ToString());
            _code_.Add(@", ");
            _code_.Add(MemberCountVerify.ToString());
            _code_.Add(@");");
            _if_ = false;
                    if (IsSerialize)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.AotMethod.ReflectionMemberType[] _value1_;
                    _value1_ = MemberTypes;
                    if (_value1_ != null)
                    {
                        int _loopIndex1_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.TemplateGenerator.AotMethod.ReflectionMemberType _value2_ in _value1_)
                        {
            _code_.Add(@"
                typeInfo.Add(typeof(");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.MemberType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value3_.FullName);
                    }
                }
            _code_.Add(@"));");
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex1_;
                    }
                }
            }
            _code_.Add(@"
                return typeInfo;");
            }
            _code_.Add(@"
            }
            /// <summary>
            /// 二进制序列化代码生成调用激活 AOT 反射
            /// </summary>
            internal static void ");
            _code_.Add(BinarySerializeMethodName);
            _code_.Add(@"()
            {
                ");
            _code_.Add(TypeFullName);
            _code_.Add(@" value = default(");
            _code_.Add(TypeFullName);
            _code_.Add(@");");
            _if_ = false;
                    if (IsSerialize)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                ");
            _code_.Add(BinarySerializeMethodName);
            _code_.Add(@"(null, value);");
            _if_ = false;
                if (!(bool)IsSimpleSerialize)
                {
                    _if_ = true;
                }
            if (_if_)
            {
            _if_ = false;
                    if (IsMemberMap)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                ");
            _code_.Add(BinarySerializeMemberMapMethodName);
            _code_.Add(@"(null, null, value);");
            }
            }
            }
            _if_ = false;
                    if (IsDeserialize)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                ");
            _code_.Add(BinaryDeserializeMethodName);
            _code_.Add(@"(null, ref value);");
            _if_ = false;
                if (!(bool)IsSimpleSerialize)
                {
                    _if_ = true;
                }
            if (_if_)
            {
            _if_ = false;
                    if (IsMemberMap)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                ");
            _code_.Add(BinaryDeserializeMemberMapMethodName);
            _code_.Add(@"(null, null, ref value);");
            }
            }
            _code_.Add(@"
                AutoCSer.AotReflection.ConstructorNonPublicMethods(typeof(");
            _code_.Add(TypeFullName);
            _code_.Add(@"));");
            }
            _code_.Add(@"
                ");
            _code_.Add(BinarySerializeMemberTypeMethodName);
            _code_.Add(@"();
                AutoCSer.AotReflection.NonPublicMethods(typeof(");
            _code_.Add(TypeFullName);
            _code_.Add(@"));
                AutoCSer.Metadata.DefaultConstructor.GetIsSerializeConstructor<");
            _code_.Add(TypeFullName);
            _code_.Add(@">();
            }");
                if (_isOut_) outEnd();
            }
        }
    }
}
namespace AutoCSer.CodeGenerator.TemplateGenerator
{
    internal partial class JsonSerialize
    {
        /// <summary>
        /// 生成代码
        /// </summary>
        /// <param name="isOut">是否输出类定义代码</param>
        protected override void create(bool _isOut_)
        {
            if (outStart(_isOut_))
            {
                
            _if_ = false;
                    if (IsSerialize)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
            /// <summary>
            /// JSON serialization
            /// JSON 序列化
            /// </summary>
            /// <param name=""serializer""></param>
            /// <param name=""value""></param>
            internal static void ");
            _code_.Add(JsonSerializeMethodName);
            _code_.Add(@"(AutoCSer.JsonSerializer serializer, ");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value1_ = CurrentType;
                    if (_value1_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value1_.FullName);
                    }
                }
            _code_.Add(@" value)
            {");
            _if_ = false;
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.JsonSerialize.SerializeMember[] _value1_ = Members;
                    if (_value1_ != default(AutoCSer.CodeGenerator.TemplateGenerator.JsonSerialize.SerializeMember[]))
                    {
                    if (_value1_.Length != default(int))
                    {
                        _if_ = true;
                    }
                }
                }
            if (_if_)
            {
            _code_.Add(@"
                value.jsonSerialize(serializer);");
            }
            _code_.Add(@"
            }
            /// <summary>
            /// JSON serialization of member bitmaps is supported
            /// 支持成员位图的 JSON 序列化
            /// </summary>
            /// <param name=""memberMap""></param>
            /// <param name=""serializer""></param>
            /// <param name=""value""></param>
            /// <param name=""stream""></param>
            internal static void ");
            _code_.Add(JsonSerializeMemberMapMethodName);
            _code_.Add(@"(AutoCSer.Metadata.MemberMap<");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value1_ = CurrentType;
                    if (_value1_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value1_.FullName);
                    }
                }
            _code_.Add(@"> memberMap, JsonSerializer serializer, ");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value1_ = CurrentType;
                    if (_value1_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value1_.FullName);
                    }
                }
            _code_.Add(@" value, AutoCSer.Memory.CharStream stream)
            {");
            _if_ = false;
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.JsonSerialize.SerializeMember[] _value1_ = Members;
                    if (_value1_ != default(AutoCSer.CodeGenerator.TemplateGenerator.JsonSerialize.SerializeMember[]))
                    {
                    if (_value1_.Length != default(int))
                    {
                        _if_ = true;
                    }
                }
                }
            if (_if_)
            {
            _code_.Add(@"
                value.jsonSerialize(memberMap, serializer, stream);");
            }
            _code_.Add(@"
            }");
            _if_ = false;
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.JsonSerialize.SerializeMember[] _value1_ = Members;
                    if (_value1_ != default(AutoCSer.CodeGenerator.TemplateGenerator.JsonSerialize.SerializeMember[]))
                    {
                    if (_value1_.Length != default(int))
                    {
                        _if_ = true;
                    }
                }
                }
            if (_if_)
            {
            _code_.Add(@"
            /// <summary>
            /// JSON serialization
            /// JSON 序列化
            /// </summary>
            /// <param name=""__serializer__""></param>
            private void jsonSerialize(AutoCSer.JsonSerializer __serializer__)
            {
                AutoCSer.Memory.CharStream __stream__ = __serializer__.CharStream;");
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.JsonSerialize.SerializeMember[] _value1_;
                    _value1_ = Members;
                    if (_value1_ != null)
                    {
                        int _loopIndex1_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.TemplateGenerator.JsonSerialize.SerializeMember _value2_ in _value1_)
                        {
            _if_ = false;
                if (!(bool)IsFirstMember)
                {
                    _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                __stream__.Write(',');");
            }
            _code_.Add(@"
                __stream__.SimpleWrite(@""");
            _code_.Add(_value2_.SerializeMemberName);
            _code_.Add(@""");");
            _if_ = false;
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.MemberType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
                {
                    System.Type _value4_ = _value3_.Type;
                    if (_value4_ != default(System.Type))
                    {
                    if (_value4_.IsValueType)
                    {
                        _if_ = true;
                    }
                }
                    }
                }
                }
            if (_if_)
            {
            _if_ = false;
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.MemberType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
                {
                    System.Type _value4_ = _value3_.Type;
                    if (_value4_ != default(System.Type))
                    {
                    if (_value4_.IsEnum)
                    {
                        _if_ = true;
                    }
                }
                    }
                }
                }
            if (_if_)
            {
            _code_.Add(@"
                __serializer__.");
            _code_.Add(_value2_.EnumJsonSerializeMethodName);
            _code_.Add(@"(");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@");");
            }
            _if_ = false;
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.MemberType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
                {
                    System.Type _value4_ = _value3_.Type;
                    if (_value4_ != default(System.Type))
                    {
                if (!(bool)_value4_.IsEnum)
                {
                    _if_ = true;
                }
                    }
                }
                    }
                }
            if (_if_)
            {
            _code_.Add(@"
                __serializer__.");
            _code_.Add(_value2_.SerializeMethodName);
            _code_.Add(@"(");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@");");
            }
            }
            _if_ = false;
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.MemberType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
                {
                    System.Type _value4_ = _value3_.Type;
                    if (_value4_ != default(System.Type))
                    {
                if (!(bool)_value4_.IsValueType)
                {
                    _if_ = true;
                }
                    }
                }
                    }
                }
            if (_if_)
            {
            _code_.Add(@"
                if (");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@" == null) __stream__.WriteJsonNull();
                else __serializer__.");
            _code_.Add(_value2_.SerializeMethodName);
            _code_.Add(@"(");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@");");
            }
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex1_;
                    }
                }
            _code_.Add(@"
            }
            /// <summary>
            /// JSON serialization of member bitmaps is supported
            /// 支持成员位图的 JSON 序列化
            /// </summary>
            /// <param name=""__memberMap__""></param>
            /// <param name=""__serializer__""></param>
            /// <param name=""__stream__""></param>
            private void jsonSerialize(AutoCSer.Metadata.MemberMap<");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value1_ = CurrentType;
                    if (_value1_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value1_.FullName);
                    }
                }
            _code_.Add(@"> __memberMap__, JsonSerializer __serializer__, AutoCSer.Memory.CharStream __stream__)
            {
                bool isNext = false;");
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.JsonSerialize.SerializeMember[] _value1_;
                    _value1_ = Members;
                    if (_value1_ != null)
                    {
                        int _loopIndex1_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.TemplateGenerator.JsonSerialize.SerializeMember _value2_ in _value1_)
                        {
            _code_.Add(@"
                if (__memberMap__.IsMember(");
            _code_.Add(_value2_.MemberIndex.ToString());
            _code_.Add(@"))
                {
                    if (isNext) __stream__.Write(',');
                    else isNext = true;
                    __stream__.SimpleWrite(@""");
            _code_.Add(_value2_.SerializeMemberName);
            _code_.Add(@""");");
            _if_ = false;
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.MemberType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
                {
                    System.Type _value4_ = _value3_.Type;
                    if (_value4_ != default(System.Type))
                    {
                    if (_value4_.IsValueType)
                    {
                        _if_ = true;
                    }
                }
                    }
                }
                }
            if (_if_)
            {
            _if_ = false;
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.MemberType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
                {
                    System.Type _value4_ = _value3_.Type;
                    if (_value4_ != default(System.Type))
                    {
                    if (_value4_.IsEnum)
                    {
                        _if_ = true;
                    }
                }
                    }
                }
                }
            if (_if_)
            {
            _code_.Add(@"
                    __serializer__.");
            _code_.Add(_value2_.EnumJsonSerializeMethodName);
            _code_.Add(@"(");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@");");
            }
            _if_ = false;
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.MemberType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
                {
                    System.Type _value4_ = _value3_.Type;
                    if (_value4_ != default(System.Type))
                    {
                if (!(bool)_value4_.IsEnum)
                {
                    _if_ = true;
                }
                    }
                }
                    }
                }
            if (_if_)
            {
            _code_.Add(@"
                    __serializer__.");
            _code_.Add(_value2_.SerializeMethodName);
            _code_.Add(@"(");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@");");
            }
            }
            _if_ = false;
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.MemberType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
                {
                    System.Type _value4_ = _value3_.Type;
                    if (_value4_ != default(System.Type))
                    {
                if (!(bool)_value4_.IsValueType)
                {
                    _if_ = true;
                }
                    }
                }
                    }
                }
            if (_if_)
            {
            _code_.Add(@"
                    if (");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@" == null) __stream__.WriteJsonNull();
                    else __serializer__.");
            _code_.Add(_value2_.SerializeMethodName);
            _code_.Add(@"(");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@");");
            }
            _code_.Add(@"
                }");
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex1_;
                    }
                }
            _code_.Add(@"
            }");
            }
            _if_ = false;
                    if (MemberTypeCount != default(int))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
            /// <summary>
            /// Get the collection of JSON serialized member types
            /// 获取 JSON 序列化成员类型集合
            /// </summary>
            /// <returns></returns>
            internal static AutoCSer.LeftArray<Type> ");
            _code_.Add(JsonSerializeMemberTypeMethodName);
            _code_.Add(@"()
            {
                AutoCSer.LeftArray<Type> types = new LeftArray<Type>(");
            _code_.Add(MemberTypeCount.ToString());
            _code_.Add(@");");
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.AotMethod.ReflectionMemberType[] _value1_;
                    _value1_ = MemberTypes;
                    if (_value1_ != null)
                    {
                        int _loopIndex1_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.TemplateGenerator.AotMethod.ReflectionMemberType _value2_ in _value1_)
                        {
            _code_.Add(@"
                types.Add(typeof(");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.MemberType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value3_.FullName);
                    }
                }
            _code_.Add(@"));");
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex1_;
                    }
                }
            _code_.Add(@"
                return types;
            }");
            }
            }
            _if_ = false;
                    if (IsDeserialize)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
            /// <summary>
            /// JSON deserialization
            /// JSON 反序列化
            /// </summary>
            /// <param name=""deserializer""></param>
            /// <param name=""value""></param>
            /// <param name=""names""></param>
            internal static void ");
            _code_.Add(JsonDeserializeMethodName);
            _code_.Add(@"(AutoCSer.JsonDeserializer deserializer, ref ");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value1_ = CurrentType;
                    if (_value1_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value1_.FullName);
                    }
                }
            _code_.Add(@" value, ref AutoCSer.Memory.Pointer names)
            {");
            _if_ = false;
                    if (DeserializeMemberCount != default(int))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                value.jsonDeserialize(deserializer, ref names);");
            }
            _code_.Add(@"
            }
            /// <summary>
            /// JSON deserialization of member bitmaps is supported
            /// 支持成员位图的 JSON 反序列化
            /// </summary>
            /// <param name=""deserializer""></param>
            /// <param name=""value""></param>
            /// <param name=""names""></param>
            /// <param name=""memberMap""></param>
            internal static void ");
            _code_.Add(JsonDeserializeMemberMapMethodName);
            _code_.Add(@"(AutoCSer.JsonDeserializer deserializer, ref ");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value1_ = CurrentType;
                    if (_value1_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value1_.FullName);
                    }
                }
            _code_.Add(@" value, ref AutoCSer.Memory.Pointer names, AutoCSer.Metadata.MemberMap<");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value1_ = CurrentType;
                    if (_value1_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value1_.FullName);
                    }
                }
            _code_.Add(@"> memberMap)
            {");
            _if_ = false;
                    if (DeserializeMemberCount != default(int))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                value.jsonDeserialize(deserializer, ref names, memberMap);");
            }
            _code_.Add(@"
            }");
            _if_ = false;
                    if (DeserializeMemberCount != default(int))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
            /// <summary>
            /// JSON deserialization
            /// JSON 反序列化
            /// </summary>
            /// <param name=""__deserializer__""></param>
            /// <param name=""__names__""></param>
            private void jsonDeserialize(AutoCSer.JsonDeserializer __deserializer__, ref AutoCSer.Memory.Pointer __names__)
            {");
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.JsonSerialize.SerializeMember[] _value1_;
                    _value1_ = DeserializeMembers;
                    if (_value1_ != null)
                    {
                        int _loopIndex1_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.TemplateGenerator.JsonSerialize.SerializeMember _value2_ in _value1_)
                        {
            _code_.Add(@"
                if (__deserializer__.IsName(ref __names__))
                {");
            _if_ = false;
                if (!(bool)_value2_.IsField)
                {
                    _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                    var ");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@" = this.");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@";");
            _if_ = false;
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.MemberType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
                {
                    System.Type _value4_ = _value3_.Type;
                    if (_value4_ != default(System.Type))
                    {
                    if (_value4_.IsEnum)
                    {
                        _if_ = true;
                    }
                }
                    }
                }
                }
            if (_if_)
            {
            _code_.Add(@"
                    __deserializer__.");
            _code_.Add(_value2_.EnumJsonDeserializeMethodName);
            _code_.Add(@"(ref ");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@");");
            }
            _if_ = false;
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.MemberType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
                {
                    System.Type _value4_ = _value3_.Type;
                    if (_value4_ != default(System.Type))
                    {
                if (!(bool)_value4_.IsEnum)
                {
                    _if_ = true;
                }
                    }
                }
                    }
                }
            if (_if_)
            {
            _code_.Add(@"
                    __deserializer__.");
            _code_.Add(_value2_.DeserializeMethodName);
            _code_.Add(@"(ref ");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@");");
            }
            _code_.Add(@"
                    this.");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@" = ");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@";");
            }
            _if_ = false;
                    if (_value2_.IsField)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _if_ = false;
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.MemberType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
                {
                    System.Type _value4_ = _value3_.Type;
                    if (_value4_ != default(System.Type))
                    {
                    if (_value4_.IsEnum)
                    {
                        _if_ = true;
                    }
                }
                    }
                }
                }
            if (_if_)
            {
            _code_.Add(@"
                    __deserializer__.");
            _code_.Add(_value2_.EnumJsonDeserializeMethodName);
            _code_.Add(@"(ref this.");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@");");
            }
            _if_ = false;
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.MemberType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
                {
                    System.Type _value4_ = _value3_.Type;
                    if (_value4_ != default(System.Type))
                    {
                if (!(bool)_value4_.IsEnum)
                {
                    _if_ = true;
                }
                    }
                }
                    }
                }
            if (_if_)
            {
            _code_.Add(@"
                    __deserializer__.");
            _code_.Add(_value2_.DeserializeMethodName);
            _code_.Add(@"(ref this.");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@");");
            }
            }
            _code_.Add(@"
                    if (!AutoCSer.JsonDeserializer.NextNameIndex(__deserializer__, ref __names__)) return;
                }
                else return;");
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex1_;
                    }
                }
            _code_.Add(@"
            }
            /// <summary>
            /// JSON deserialization of member bitmaps is supported
            /// 支持成员位图的 JSON 反序列化
            /// </summary>
            /// <param name=""__deserializer__""></param>
            /// <param name=""__names__""></param>
            /// <param name=""__memberMap__""></param>
            private void jsonDeserialize(AutoCSer.JsonDeserializer __deserializer__, ref AutoCSer.Memory.Pointer __names__, AutoCSer.Metadata.MemberMap<");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value1_ = CurrentType;
                    if (_value1_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value1_.FullName);
                    }
                }
            _code_.Add(@"> __memberMap__)
            {");
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.JsonSerialize.SerializeMember[] _value1_;
                    _value1_ = DeserializeMembers;
                    if (_value1_ != null)
                    {
                        int _loopIndex1_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.TemplateGenerator.JsonSerialize.SerializeMember _value2_ in _value1_)
                        {
            _code_.Add(@"
                if (__deserializer__.IsName(ref __names__))
                {");
            _if_ = false;
                if (!(bool)_value2_.IsField)
                {
                    _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                    var ");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@" = this.");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@";");
            _if_ = false;
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.MemberType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
                {
                    System.Type _value4_ = _value3_.Type;
                    if (_value4_ != default(System.Type))
                    {
                    if (_value4_.IsEnum)
                    {
                        _if_ = true;
                    }
                }
                    }
                }
                }
            if (_if_)
            {
            _code_.Add(@"
                    __deserializer__.");
            _code_.Add(_value2_.EnumJsonDeserializeMethodName);
            _code_.Add(@"(ref ");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@");");
            }
            _if_ = false;
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.MemberType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
                {
                    System.Type _value4_ = _value3_.Type;
                    if (_value4_ != default(System.Type))
                    {
                if (!(bool)_value4_.IsEnum)
                {
                    _if_ = true;
                }
                    }
                }
                    }
                }
            if (_if_)
            {
            _code_.Add(@"
                    __deserializer__.");
            _code_.Add(_value2_.DeserializeMethodName);
            _code_.Add(@"(ref ");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@");");
            }
            _code_.Add(@"
                    this.");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@" = ");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@";");
            }
            _if_ = false;
                    if (_value2_.IsField)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _if_ = false;
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.MemberType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
                {
                    System.Type _value4_ = _value3_.Type;
                    if (_value4_ != default(System.Type))
                    {
                    if (_value4_.IsEnum)
                    {
                        _if_ = true;
                    }
                }
                    }
                }
                }
            if (_if_)
            {
            _code_.Add(@"
                    __deserializer__.");
            _code_.Add(_value2_.EnumJsonDeserializeMethodName);
            _code_.Add(@"(ref this.");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@");");
            }
            _if_ = false;
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.MemberType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
                {
                    System.Type _value4_ = _value3_.Type;
                    if (_value4_ != default(System.Type))
                    {
                if (!(bool)_value4_.IsEnum)
                {
                    _if_ = true;
                }
                    }
                }
                    }
                }
            if (_if_)
            {
            _code_.Add(@"
                    __deserializer__.");
            _code_.Add(_value2_.DeserializeMethodName);
            _code_.Add(@"(ref this.");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@");");
            }
            }
            _code_.Add(@"
                    if (AutoCSer.JsonDeserializer.NextNameIndex(__deserializer__, ref __names__)) __memberMap__.SetMember(");
            _code_.Add(_value2_.MemberIndex.ToString());
            _code_.Add(@");
                    else return;
                }
                else return;");
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex1_;
                    }
                }
            _code_.Add(@"
            }");
            }
            _code_.Add(@"
            /// <summary>
            /// Member JSON deserialization
            /// 成员 JSON 反序列化
            /// </summary>
            /// <param name=""__deserializer__""></param>
            /// <param name=""__value__""></param>
            /// <param name=""__memberIndex__""></param>
            internal static void ");
            _code_.Add(JsonDeserializeMethodName);
            _code_.Add(@"(AutoCSer.JsonDeserializer __deserializer__, ref ");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value1_ = CurrentType;
                    if (_value1_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value1_.FullName);
                    }
                }
            _code_.Add(@" __value__, int __memberIndex__)
            {");
            _if_ = false;
                    if (DeserializeMemberCount != default(int))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                switch (__memberIndex__)
                {");
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.JsonSerialize.SerializeMember[] _value1_;
                    _value1_ = DeserializeMembers;
                    if (_value1_ != null)
                    {
                        int _loopIndex1_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.TemplateGenerator.JsonSerialize.SerializeMember _value2_ in _value1_)
                        {
            _code_.Add(@"
                    case ");
            _code_.Add(_value2_.IntMemberIndex.ToString());
            _code_.Add(@":");
            _if_ = false;
                if (!(bool)_value2_.IsField)
                {
                    _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                        var ");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@" = __value__.");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@";");
            _if_ = false;
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.MemberType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
                {
                    System.Type _value4_ = _value3_.Type;
                    if (_value4_ != default(System.Type))
                    {
                    if (_value4_.IsEnum)
                    {
                        _if_ = true;
                    }
                }
                    }
                }
                }
            if (_if_)
            {
            _code_.Add(@"
                        __deserializer__.");
            _code_.Add(_value2_.EnumJsonDeserializeMethodName);
            _code_.Add(@"(ref ");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@");");
            }
            _if_ = false;
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.MemberType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
                {
                    System.Type _value4_ = _value3_.Type;
                    if (_value4_ != default(System.Type))
                    {
                if (!(bool)_value4_.IsEnum)
                {
                    _if_ = true;
                }
                    }
                }
                    }
                }
            if (_if_)
            {
            _code_.Add(@"
                        __deserializer__.");
            _code_.Add(_value2_.DeserializeMethodName);
            _code_.Add(@"(ref ");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@");");
            }
            _code_.Add(@"
                        __value__.");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@" = ");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@";");
            }
            _if_ = false;
                    if (_value2_.IsField)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _if_ = false;
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.MemberType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
                {
                    System.Type _value4_ = _value3_.Type;
                    if (_value4_ != default(System.Type))
                    {
                    if (_value4_.IsEnum)
                    {
                        _if_ = true;
                    }
                }
                    }
                }
                }
            if (_if_)
            {
            _code_.Add(@"
                        __deserializer__.");
            _code_.Add(_value2_.EnumJsonDeserializeMethodName);
            _code_.Add(@"(ref __value__.");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@");");
            }
            _if_ = false;
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.MemberType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
                {
                    System.Type _value4_ = _value3_.Type;
                    if (_value4_ != default(System.Type))
                    {
                if (!(bool)_value4_.IsEnum)
                {
                    _if_ = true;
                }
                    }
                }
                    }
                }
            if (_if_)
            {
            _code_.Add(@"
                        __deserializer__.");
            _code_.Add(_value2_.DeserializeMethodName);
            _code_.Add(@"(ref __value__.");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@");");
            }
            }
            _code_.Add(@"
                        return;");
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex1_;
                    }
                }
            _code_.Add(@"
                }");
            }
            _code_.Add(@"
            }
            /// <summary>
            /// Gets the JSON deserialization member name collection and member index collection
            /// 获取 JSON 反序列化成员名称集合与成员索引集合
            /// </summary>
            /// <returns></returns>
            internal static AutoCSer.KeyValue<AutoCSer.LeftArray<string>, AutoCSer.LeftArray<int>> ");
            _code_.Add(JsonDeserializeMemberNameMethodName);
            _code_.Add(@"()
            {");
            _if_ = false;
                    if (DeserializeMemberCount != default(int))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                return jsonDeserializeMemberName();");
            }
            _if_ = false;
                if (DeserializeMemberCount == default(int))
                {
                    _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                return default(AutoCSer.KeyValue<AutoCSer.LeftArray<string>, AutoCSer.LeftArray<int>>);");
            }
            _code_.Add(@"
            }");
            _if_ = false;
                    if (DeserializeMemberCount != default(int))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
            /// <summary>
            /// Gets the JSON deserialization member name collection and member index collection
            /// 获取 JSON 反序列化成员名称集合与成员索引集合
            /// </summary>
            /// <returns></returns>
            private static AutoCSer.KeyValue<AutoCSer.LeftArray<string>, AutoCSer.LeftArray<int>> jsonDeserializeMemberName()
            {
                AutoCSer.LeftArray<string> names = new AutoCSer.LeftArray<string>(");
            _code_.Add(DeserializeMemberCount.ToString());
            _code_.Add(@");
                AutoCSer.LeftArray<int> indexs = new AutoCSer.LeftArray<int>(");
            _code_.Add(DeserializeMemberCount.ToString());
            _code_.Add(@");");
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.JsonSerialize.SerializeMember[] _value1_;
                    _value1_ = DeserializeMembers;
                    if (_value1_ != null)
                    {
                        int _loopIndex1_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.TemplateGenerator.JsonSerialize.SerializeMember _value2_ in _value1_)
                        {
            _code_.Add(@"
                names.Add(nameof(");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@"));
                indexs.Add(");
            _code_.Add(_value2_.IntMemberIndex.ToString());
            _code_.Add(@");");
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex1_;
                    }
                }
            _code_.Add(@"
                return new AutoCSer.KeyValue<AutoCSer.LeftArray<string>, AutoCSer.LeftArray<int>>(names, indexs);
            }");
            }
            }
            _code_.Add(@"
            /// <summary>
            /// AOT code generation call activation reflection
            /// AOT 代码生成调用激活反射
            /// </summary>");
            _if_ = false;
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value1_ = CurrentType;
                    if (_value1_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
                {
                    System.Type _value2_ = _value1_.Type;
                    if (_value2_ != default(System.Type))
                    {
                    if (_value2_.IsGenericType)
                    {
                        _if_ = true;
                    }
                }
                    }
                }
                }
            if (_if_)
            {
            _code_.Add(@"
            public static void ");
            _code_.Add(JsonSerializeMethodName);
            _code_.Add(@"()");
            }
            _if_ = false;
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value1_ = CurrentType;
                    if (_value1_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
                {
                    System.Type _value2_ = _value1_.Type;
                    if (_value2_ != default(System.Type))
                    {
                if (!(bool)_value2_.IsGenericType)
                {
                    _if_ = true;
                }
                    }
                }
                    }
                }
            if (_if_)
            {
            _code_.Add(@"
            internal static void ");
            _code_.Add(JsonSerializeMethodName);
            _code_.Add(@"()");
            }
            _code_.Add(@"
            {
                ");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value1_ = CurrentType;
                    if (_value1_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value1_.FullName);
                    }
                }
            _code_.Add(@" value = default(");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value1_ = CurrentType;
                    if (_value1_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value1_.FullName);
                    }
                }
            _code_.Add(@");");
            _if_ = false;
                    if (IsSerialize)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                ");
            _code_.Add(JsonSerializeMethodName);
            _code_.Add(@"(null, value);
                ");
            _code_.Add(JsonSerializeMemberMapMethodName);
            _code_.Add(@"(null, null, value, null);");
            _if_ = false;
                    if (MemberTypeCount != default(int))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                ");
            _code_.Add(JsonSerializeMemberTypeMethodName);
            _code_.Add(@"();");
            }
            }
            _if_ = false;
                    if (IsDeserialize)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                AutoCSer.Memory.Pointer names = default(AutoCSer.Memory.Pointer);
                ");
            _code_.Add(JsonDeserializeMethodName);
            _code_.Add(@"(null, ref value, ref names);
                ");
            _code_.Add(JsonDeserializeMemberMapMethodName);
            _code_.Add(@"(null, ref value, ref names, null);
                ");
            _code_.Add(JsonDeserializeMethodName);
            _code_.Add(@"(null, ref value, 0);
                ");
            _code_.Add(JsonDeserializeMemberNameMethodName);
            _code_.Add(@"();
                AutoCSer.AotReflection.ConstructorNonPublicMethods(typeof(");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value1_ = CurrentType;
                    if (_value1_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value1_.FullName);
                    }
                }
            _code_.Add(@"));");
            }
            _code_.Add(@"
                AutoCSer.AotReflection.NonPublicMethods(typeof(");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value1_ = CurrentType;
                    if (_value1_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value1_.FullName);
                    }
                }
            _code_.Add(@"));
            }");
                if (_isOut_) outEnd();
            }
        }
    }
}
namespace AutoCSer.CodeGenerator.TemplateGenerator
{
    internal partial class SimpleSerialize
    {
        /// <summary>
        /// 生成代码
        /// </summary>
        /// <param name="isOut">是否输出类定义代码</param>
        protected override void create(bool _isOut_)
        {
            if (outStart(_isOut_))
            {
                
            _if_ = false;
                    if (IsSerialize)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
            /// <summary>
            /// Simple binary serialization
            /// 简单二进制序列化
            /// </summary>
            /// <param name=""stream""></param>
            /// <param name=""value""></param>
            internal static void ");
            _code_.Add(SimpleSerializeMethodName);
            _code_.Add(@"(AutoCSer.Memory.UnmanagedStream stream, ref ");
            _code_.Add(TypeFullName);
            _code_.Add(@" value)
            {
                value.simpleSerialize(stream);
            }
            /// <summary>
            /// Simple binary serialization
            /// 简单二进制序列化
            /// </summary>
            /// <param name=""__stream__""></param>
            private void simpleSerialize(AutoCSer.Memory.UnmanagedStream __stream__)
            {
                if (__stream__.TryPrepSize(");
            _code_.Add(PrepSize.ToString());
            _code_.Add(@"))
                {");
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.SimpleSerialize.SerializeField[] _value1_;
                    _value1_ = FixedFields;
                    if (_value1_ != null)
                    {
                        int _loopIndex1_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.TemplateGenerator.SimpleSerialize.SerializeField _value2_ in _value1_)
                        {
            _if_ = false;
                    if (_value2_.IsEnum)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                    __stream__.Write((");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.UnderlyingType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value3_.FullName);
                    }
                }
            _code_.Add(@")this.");
            _code_.Add(_value2_.FieldName);
            _code_.Add(@");");
            }
            _if_ = false;
                if (!(bool)_value2_.IsEnum)
                {
                    _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                    AutoCSer.SimpleSerialize.Serializer.Serialize(__stream__, this.");
            _code_.Add(_value2_.FieldName);
            _code_.Add(@");");
            }
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex1_;
                    }
                }
            _if_ = false;
                    if (FixedFillSize != default(int))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                    __stream__.TryMoveSize(");
            _code_.Add(FixedFillSize.ToString());
            _code_.Add(@");");
            }
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.SimpleSerialize.SerializeField[] _value1_;
                    _value1_ = FieldArray;
                    if (_value1_ != null)
                    {
                        int _loopIndex1_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.TemplateGenerator.SimpleSerialize.SerializeField _value2_ in _value1_)
                        {
            _code_.Add(@"
                    AutoCSer.SimpleSerialize.Serializer.Serialize(__stream__, this.");
            _code_.Add(_value2_.FieldName);
            _code_.Add(@");");
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex1_;
                    }
                }
            _code_.Add(@"
                }
            }");
            }
            _if_ = false;
                    if (IsDeserialize)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
            /// <summary>
            /// Simple binary deserialization
            /// 简单二进制反序列化
            /// </summary>
            /// <param name=""start""></param>
            /// <param name=""value""></param>
            /// <param name=""end""></param>
            /// <returns></returns>
            internal unsafe static byte* ");
            _code_.Add(SimpleDeserializeMethodName);
            _code_.Add(@"(byte* start, ref ");
            _code_.Add(TypeFullName);
            _code_.Add(@" value, byte* end)
            {
                return value.simpleDeserialize(start, end);
            }
            /// <summary>
            /// Simple binary deserialization
            /// 简单二进制反序列化
            /// </summary>
            /// <param name=""__start__""></param>
            /// <param name=""__end__""></param>
            /// <returns></returns>
            private unsafe byte* simpleDeserialize(byte* __start__, byte* __end__)
            {");
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.SimpleSerialize.SerializeField[] _value1_;
                    _value1_ = FixedFields;
                    if (_value1_ != null)
                    {
                        int _loopIndex1_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.TemplateGenerator.SimpleSerialize.SerializeField _value2_ in _value1_)
                        {
            _if_ = false;
                    if (_value2_.IsEnum)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                ");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.UnderlyingType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value3_.FullName);
                    }
                }
            _code_.Add(@" ");
            _code_.Add(_value2_.FieldName);
            _code_.Add(@" = 0;
                __start__ = AutoCSer.SimpleSerialize.Deserializer.Deserialize(__start__, ref ");
            _code_.Add(_value2_.FieldName);
            _code_.Add(@");
                this.");
            _code_.Add(_value2_.FieldName);
            _code_.Add(@" = (");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.MemberType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value3_.FullName);
                    }
                }
            _code_.Add(@")");
            _code_.Add(_value2_.FieldName);
            _code_.Add(@";");
            }
            _if_ = false;
                if (!(bool)_value2_.IsEnum)
                {
                    _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                __start__ = AutoCSer.SimpleSerialize.Deserializer.Deserialize(__start__, ref this.");
            _code_.Add(_value2_.FieldName);
            _code_.Add(@");");
            }
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex1_;
                    }
                }
            _if_ = false;
                    if (FixedFillSize != default(int))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                __start__ += ");
            _code_.Add(FixedFillSize.ToString());
            _code_.Add(@";");
            }
            _if_ = false;
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.SimpleSerialize.SerializeField[] _value1_ = FixedFields;
                    if (_value1_ != default(AutoCSer.CodeGenerator.TemplateGenerator.SimpleSerialize.SerializeField[]))
                    {
                    if (_value1_.Length != default(int))
                    {
                        _if_ = true;
                    }
                }
                }
            if (_if_)
            {
            _code_.Add(@"
                if (__start__ == null || __start__ > __end__) return null;");
            }
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.SimpleSerialize.SerializeField[] _value1_;
                    _value1_ = FieldArray;
                    if (_value1_ != null)
                    {
                        int _loopIndex1_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.TemplateGenerator.SimpleSerialize.SerializeField _value2_ in _value1_)
                        {
            _if_ = false;
                    if (_value2_.IsCheckEnd)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                __start__ = AutoCSer.SimpleSerialize.Deserializer.Deserialize(__start__, ref this.");
            _code_.Add(_value2_.FieldName);
            _code_.Add(@", __end__);");
            }
            _if_ = false;
                if (!(bool)_value2_.IsCheckEnd)
                {
                    _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                __start__ = AutoCSer.SimpleSerialize.Deserializer.Deserialize(__start__, ref this.");
            _code_.Add(_value2_.FieldName);
            _code_.Add(@");");
            }
            _code_.Add(@"
                if (__start__ == null || __start__ > __end__) return null;");
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex1_;
                    }
                }
            _code_.Add(@"
                return __start__;
            }");
            }
            _code_.Add(@"
            /// <summary>
            /// AOT code generation call activation reflection
            /// AOT 代码生成调用激活反射
            /// </summary>
            internal unsafe static void ");
            _code_.Add(SimpleSerializeMethodName);
            _code_.Add(@"()
            {
                ");
            _code_.Add(TypeFullName);
            _code_.Add(@" value = default(");
            _code_.Add(TypeFullName);
            _code_.Add(@");");
            _if_ = false;
                    if (IsSerialize)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                ");
            _code_.Add(SimpleSerializeMethodName);
            _code_.Add(@"(null, ref value);");
            }
            _if_ = false;
                    if (IsDeserialize)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                ");
            _code_.Add(SimpleDeserializeMethodName);
            _code_.Add(@"(null, ref value, null);");
            }
            _code_.Add(@"
                AutoCSer.AotReflection.NonPublicMethods(typeof(");
            _code_.Add(TypeFullName);
            _code_.Add(@"));
            }");
                if (_isOut_) outEnd();
            }
        }
    }
}
namespace AutoCSer.CodeGenerator.TemplateGenerator
{
    internal partial class StreamPersistenceMemoryDatabaseLocalClientNode
    {
        /// <summary>
        /// 生成代码
        /// </summary>
        /// <param name="isOut">是否输出类定义代码</param>
        protected override void create(bool _isOut_)
        {
            if (outStart(_isOut_))
            {
                
            _code_.Add(@"
        /// <summary>
        /// ");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value1_ = CurrentType;
                    if (_value1_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value1_.CodeGeneratorXmlDocument);
                    }
                }
            _code_.Add(@" local client node interface
        /// </summary>
        [AutoCSer.CommandService.StreamPersistenceMemoryDatabase.ClientNode(typeof(");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value1_ = CurrentType;
                    if (_value1_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value1_.GenericDefinitionFullName);
                    }
                }
            _code_.Add(@"), typeof(");
            _code_.Add(TypeName);
            _code_.Add(@"))]
        ");
            _code_.Add(TypeNameDefinition);
            _if_ = false;
                    if (IsCustomServiceNode)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@" : AutoCSer.CommandService.StreamPersistenceMemoryDatabase.IServiceNodeLocalClientNode");
            }
            _code_.Add(@"
        {");
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.StreamPersistenceMemoryDatabaseLocalClientNode.NodeMethod[] _value1_;
                    _value1_ = Methods;
                    if (_value1_ != null)
                    {
                        int _loopIndex1_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.TemplateGenerator.StreamPersistenceMemoryDatabaseLocalClientNode.NodeMethod _value2_ in _value1_)
                        {
            _if_ = false;
                    if (_value2_.IsInterfaceMethod)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
            /// <summary>
            /// ");
                {
                    AutoCSer.CodeGenerator.Metadata.MethodIndex _value3_ = _value2_.Method;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.MethodIndex))
                    {
            _code_.Add(_value3_.CodeGeneratorXmlDocument);
                    }
                }
            _code_.Add(@"
            /// </summary>");
                {
                    AutoCSer.CodeGenerator.Metadata.MethodParameter[] _value3_ = default(AutoCSer.CodeGenerator.Metadata.MethodParameter[]);
                {
                    AutoCSer.CodeGenerator.Metadata.MethodIndex _value4_ = _value2_.Method;
                    if (_value4_ != default(AutoCSer.CodeGenerator.Metadata.MethodIndex))
                    {
                    _value3_ = _value4_.Parameters;
                    }
                }
                    if (_value3_ != null)
                    {
                        int _loopIndex3_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.Metadata.MethodParameter _value4_ in _value3_)
                        {
            _code_.Add(@"
            /// <param name=""");
            _code_.Add(_value4_.ParameterName);
            _code_.Add(@""">");
            _code_.Add(_value4_.CodeGeneratorXmlDocument);
            _code_.Add(@"</param>");
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex3_;
                    }
                }
            _if_ = false;
                    if (_value2_.MethodIsReturn)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
            /// <returns>");
                {
                    AutoCSer.CodeGenerator.Metadata.MethodIndex _value3_ = _value2_.Method;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.MethodIndex))
                    {
            _code_.Add(_value3_.CodeGeneratorReturnXmlDocument);
                    }
                }
            _code_.Add(@"</returns>");
            }
            _code_.Add(@"
            ");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.MethodReturnType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value3_.FullName);
                    }
                }
            _code_.Add(@" ");
            _code_.Add(_value2_.MethodName);
            _code_.Add(@"(");
                {
                    AutoCSer.CodeGenerator.Metadata.MethodParameter[] _value3_ = default(AutoCSer.CodeGenerator.Metadata.MethodParameter[]);
                {
                    AutoCSer.CodeGenerator.Metadata.MethodIndex _value4_ = _value2_.Method;
                    if (_value4_ != default(AutoCSer.CodeGenerator.Metadata.MethodIndex))
                    {
                    _value3_ = _value4_.Parameters;
                    }
                }
                    if (_value3_ != null)
                    {
                        int _loopIndex3_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.Metadata.MethodParameter _value4_ in _value3_)
                        {
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value5_ = _value4_.ParameterType;
                    if (_value5_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value5_.FullName);
                    }
                }
            _code_.Add(@" ");
            _code_.Add(_value4_.ParameterJoinName);
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex3_;
                    }
                }
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = default(AutoCSer.CodeGenerator.Metadata.ExtensionType);
                    _value3_ = _value2_.CallbackType;
            _if_ = false;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _if_ = false;
                    if (_value2_.IsJoinCallback)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@", ");
            }
            _code_.Add(_value3_.FullName);
            _code_.Add(@" __callback__");
            }
                }
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = default(AutoCSer.CodeGenerator.Metadata.ExtensionType);
                    _value3_ = _value2_.KeepCallbackType;
            _if_ = false;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _if_ = false;
                    if (_value2_.IsJoinKeepCallback)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@", ");
            }
            _code_.Add(_value3_.FullName);
            _code_.Add(@" __keepCallback__");
            }
                }
            _code_.Add(@");");
            }
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex1_;
                    }
                }
            _code_.Add(@"
        }
        /// <summary>
        /// ");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value1_ = CurrentType;
                    if (_value1_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value1_.CodeGeneratorXmlDocument);
                    }
                }
            _code_.Add(@" local client node
        /// </summary>
        internal unsafe partial class ");
            _code_.Add(TypeName);
            _code_.Add(@" : AutoCSer.CommandService.StreamPersistenceMemoryDatabase.LocalClientNode<");
            _code_.Add(InterfaceTypeName);
            _code_.Add(@">, ");
            _code_.Add(InterfaceTypeName);
            _code_.Add(@"
        {
            /// <summary>
            /// Local client node
            /// 本地客户端节点
            /// </summary>
            /// <param name=""key"">Node global keyword
            /// 节点全局关键字</param>
            /// <param name=""creator"">A delegate to create a node operation object
            /// 创建节点操作对象委托</param>
            /// <param name=""client"">Log stream persistence in-memory database local client
            /// 日志流持久化内存数据库本地客户端</param>
            /// <param name=""index"">Node index information
            /// 节点索引信息</param>
            /// <param name=""isPersistenceCallbackExceptionRenewNode"">Persistence service node produces success but PersistenceCallbackException when performing a abnormal state node will not operate until the exception is repair and restart the server, If this parameter is set to true, the server node will be automatically deleted and a new node will be recreated after the exception occurs during the call to avoid the situation where the node is unavailable for a long time. The cost is that all historical data will be lost
            /// 服务端节点产生持久化成功但是执行异常状态时 PersistenceCallbackException 节点将不可操作直到该异常被修复并重启服务端，该参数设置为 true 则在调用发生该异常以后自动删除该服务端节点并重新创建新节点避免该节点长时间不可使用的情况，代价是历史数据将全部丢失</param>
            private ");
            _code_.Add(TypeName);
            _code_.Add(@"(string key, Func<AutoCSer.CommandService.StreamPersistenceMemoryDatabase.NodeIndex, string, AutoCSer.CommandService.StreamPersistenceMemoryDatabase.NodeInfo, AutoCSer.CommandService.StreamPersistenceMemoryDatabase.LocalServiceQueueNode<AutoCSer.CommandService.StreamPersistenceMemoryDatabase.LocalResult<AutoCSer.CommandService.StreamPersistenceMemoryDatabase.NodeIndex>>> creator, AutoCSer.CommandService.StreamPersistenceMemoryDatabase.LocalClient client, AutoCSer.CommandService.StreamPersistenceMemoryDatabase.NodeIndex index, bool isPersistenceCallbackExceptionRenewNode)
                : base(key, creator, client, index, isPersistenceCallbackExceptionRenewNode) { }
            internal static ");
            _code_.Add(InterfaceTypeName);
            _code_.Add(@" ");
            _code_.Add(LocalClientNodeConstructorMethodName);
            _code_.Add(@"(string key, Func<AutoCSer.CommandService.StreamPersistenceMemoryDatabase.NodeIndex, string, AutoCSer.CommandService.StreamPersistenceMemoryDatabase.NodeInfo, AutoCSer.CommandService.StreamPersistenceMemoryDatabase.LocalServiceQueueNode<AutoCSer.CommandService.StreamPersistenceMemoryDatabase.LocalResult<AutoCSer.CommandService.StreamPersistenceMemoryDatabase.NodeIndex>>> creator, AutoCSer.CommandService.StreamPersistenceMemoryDatabase.LocalClient client, AutoCSer.CommandService.StreamPersistenceMemoryDatabase.NodeIndex index, bool isPersistenceCallbackExceptionRenewNode)
            {
                return new ");
            _code_.Add(TypeName);
            _code_.Add(@"(key, creator, client, index, isPersistenceCallbackExceptionRenewNode);
            }");
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.CommandClientController.ParameterType[] _value1_;
                    _value1_ = ParameterTypes;
                    if (_value1_ != null)
                    {
                        int _loopIndex1_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.TemplateGenerator.CommandClientController.ParameterType _value2_ in _value1_)
                        {
            _code_.Add(@"
            [System.Runtime.InteropServices.StructLayout(System.Runtime.InteropServices.LayoutKind.Auto)]
            internal struct ");
            _code_.Add(_value2_.ParameterTypeName);
            _code_.Add(@"
            {");
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.CommandClientController.ParameterField[] _value3_;
                    _value3_ = _value2_.Parameters;
                    if (_value3_ != null)
                    {
                        int _loopIndex3_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.TemplateGenerator.CommandClientController.ParameterField _value4_ in _value3_)
                        {
            _code_.Add(@"
                internal ");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value5_ = _value4_.ParameterType;
                    if (_value5_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value5_.FullName);
                    }
                }
            _code_.Add(@" ");
            _code_.Add(_value4_.ParameterName);
            _code_.Add(@";");
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex3_;
                    }
                }
            _code_.Add(@"
                ");
            _code_.Add(_value2_.SerializeCode);
            _code_.Add(@"
            }");
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex1_;
                    }
                }
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.StreamPersistenceMemoryDatabaseLocalClientNode.NodeMethod[] _value1_;
                    _value1_ = Methods;
                    if (_value1_ != null)
                    {
                        int _loopIndex1_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.TemplateGenerator.StreamPersistenceMemoryDatabaseLocalClientNode.NodeMethod _value2_ in _value1_)
                        {
            _if_ = false;
                    if (_value2_.Method != default(AutoCSer.CodeGenerator.Metadata.MethodIndex))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
            /// <summary>
            /// ");
                {
                    AutoCSer.CodeGenerator.Metadata.MethodIndex _value3_ = _value2_.Method;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.MethodIndex))
                    {
            _code_.Add(_value3_.CodeGeneratorXmlDocument);
                    }
                }
            _code_.Add(@"
            /// </summary>");
                {
                    AutoCSer.CodeGenerator.Metadata.MethodParameter[] _value3_ = default(AutoCSer.CodeGenerator.Metadata.MethodParameter[]);
                {
                    AutoCSer.CodeGenerator.Metadata.MethodIndex _value4_ = _value2_.Method;
                    if (_value4_ != default(AutoCSer.CodeGenerator.Metadata.MethodIndex))
                    {
                    _value3_ = _value4_.Parameters;
                    }
                }
                    if (_value3_ != null)
                    {
                        int _loopIndex3_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.Metadata.MethodParameter _value4_ in _value3_)
                        {
            _code_.Add(@"
            /// <param name=""");
            _code_.Add(_value4_.ParameterName);
            _code_.Add(@""">");
            _code_.Add(_value4_.CodeGeneratorXmlDocument);
            _code_.Add(@"</param>");
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex3_;
                    }
                }
            _if_ = false;
                    if (_value2_.MethodIsReturn)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
            /// <returns>");
                {
                    AutoCSer.CodeGenerator.Metadata.MethodIndex _value3_ = _value2_.Method;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.MethodIndex))
                    {
            _code_.Add(_value3_.CodeGeneratorReturnXmlDocument);
                    }
                }
            _code_.Add(@"</returns>");
            }
            _code_.Add(@"
            ");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.MethodReturnType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value3_.FullName);
                    }
                }
            _code_.Add(@" ");
            _code_.Add(_value2_.MethodInterfaceTypeName);
            _code_.Add(@"/**/.");
            _code_.Add(_value2_.MethodName);
            _code_.Add(@"(");
                {
                    AutoCSer.CodeGenerator.Metadata.MethodParameter[] _value3_ = default(AutoCSer.CodeGenerator.Metadata.MethodParameter[]);
                {
                    AutoCSer.CodeGenerator.Metadata.MethodIndex _value4_ = _value2_.Method;
                    if (_value4_ != default(AutoCSer.CodeGenerator.Metadata.MethodIndex))
                    {
                    _value3_ = _value4_.Parameters;
                    }
                }
                    if (_value3_ != null)
                    {
                        int _loopIndex3_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.Metadata.MethodParameter _value4_ in _value3_)
                        {
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value5_ = _value4_.ParameterType;
                    if (_value5_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value5_.FullName);
                    }
                }
            _code_.Add(@" ");
            _code_.Add(_value4_.ParameterJoinName);
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex3_;
                    }
                }
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = default(AutoCSer.CodeGenerator.Metadata.ExtensionType);
                    _value3_ = _value2_.CallbackType;
            _if_ = false;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _if_ = false;
                    if (_value2_.IsJoinCallback)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@", ");
            }
            _code_.Add(_value3_.FullName);
            _code_.Add(@" __callback__");
            }
                }
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = default(AutoCSer.CodeGenerator.Metadata.ExtensionType);
                    _value3_ = _value2_.KeepCallbackType;
            _if_ = false;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _if_ = false;
                    if (_value2_.IsJoinKeepCallback)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@", ");
            }
            _code_.Add(_value3_.FullName);
            _code_.Add(@" __keepCallback__");
            }
                }
            _code_.Add(@")
            {
                ");
            _if_ = false;
                    if (_value2_.IsMethodReturnType)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                return ");
            }
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.ClientType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value3_.FullName);
                    }
                }
            _code_.Add(@"/**/.Create");
            _if_ = false;
                    if (_value2_.GenericTypeName != default(string))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"<");
            _code_.Add(_value2_.GenericTypeName);
            _code_.Add(@">");
            }
            _code_.Add(@"(this, ");
            _code_.Add(_value2_.MethodIndex.ToString());
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.CommandClientController.ParameterType _value3_ = default(AutoCSer.CodeGenerator.TemplateGenerator.CommandClientController.ParameterType);
                    _value3_ = _value2_.InputParameterType;
            _if_ = false;
                    if (_value3_ != default(AutoCSer.CodeGenerator.TemplateGenerator.CommandClientController.ParameterType))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                    , new ");
            _code_.Add(_value3_.ParameterTypeName);
            _code_.Add(@"
                    {");
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.CommandClientController.ParameterField[] _value4_;
                    _value4_ = _value3_.Parameters;
                    if (_value4_ != null)
                    {
                        int _loopIndex4_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.TemplateGenerator.CommandClientController.ParameterField _value5_ in _value4_)
                        {
            _code_.Add(@"
                        ");
            _code_.Add(_value5_.ParameterName);
            _code_.Add(@" = ");
            _code_.Add(_value5_.ParameterName);
            _code_.Add(@",");
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex4_;
                    }
                }
            _code_.Add(@"
                    }");
            }
                }
            _if_ = false;
                    if (_value2_.CallbackType != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                    , __callback__");
            }
            _if_ = false;
                    if (_value2_.KeepCallbackType != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                    , __keepCallback__");
            }
            _if_ = false;
                    if (_value2_.IsReadWriteNodeParameter)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                    , ");
            _code_.Add(_value2_.IsReadWriteNode);
            }
            _code_.Add(@"
                    );
            }
");
            }
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex1_;
                    }
                }
            _code_.Add(@"
            /// <summary>
            /// AOT code generation call activation reflection
            /// AOT 代码生成调用激活反射
            /// </summary>
            internal static void ");
            _code_.Add(LocalClientNodeMethodName);
            _code_.Add(@"()
            {
                ");
            _code_.Add(LocalClientNodeConstructorMethodName);
            _code_.Add(@"(null, null, null, default(AutoCSer.CommandService.StreamPersistenceMemoryDatabase.NodeIndex), false);
                AutoCSer.AotReflection.NonPublicFields(typeof(");
            _code_.Add(MethodIndexEnumTypeName);
            _code_.Add(@"));
                AutoCSer.AotReflection.NonPublicMethods(typeof(");
            _code_.Add(TypeName);
            _code_.Add(@"));
                AutoCSer.AotReflection.Interfaces(typeof(");
            _code_.Add(TypeName);
            _code_.Add(@"));
            }
        }");
                if (_isOut_) outEnd();
            }
        }
    }
}
namespace AutoCSer.CodeGenerator.TemplateGenerator
{
    internal partial class StreamPersistenceMemoryDatabaseMethodParameterCreator
    {
        /// <summary>
        /// 生成代码
        /// </summary>
        /// <param name="isOut">是否输出类定义代码</param>
        protected override void create(bool _isOut_)
        {
            if (outStart(_isOut_))
            {
                
            _code_.Add(@"
        /// <summary>
        /// ");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value1_ = CurrentType;
                    if (_value1_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value1_.CodeGeneratorXmlDocument);
                    }
                }
            _code_.Add(@"
        /// </summary>
        [AutoCSer.CommandService.StreamPersistenceMemoryDatabase.ServerNodeType(typeof(");
            _code_.Add(MethodIndexEnumTypeName);
            _code_.Add(@"), typeof(");
            _code_.Add(MethodParameterCreatorTypeName);
            _code_.Add(@")");
            _if_ = false;
                    if (IsMethodParameterCreator)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@", true");
            }
            _code_.Add(@")]
        ");
            _code_.Add(TypeNameDefinition);
            _code_.Add(@" { }
        /// <summary>
        /// ");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value1_ = CurrentType;
                    if (_value1_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value1_.CodeGeneratorXmlDocument);
                    }
                }
            _code_.Add(@" (node method sequence number mapping enumeration type)
        /// </summary>
        public enum ");
            _code_.Add(MethodIndexEnumTypeName);
            _code_.Add(@"
        {");
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.StreamPersistenceMemoryDatabaseMethodParameterCreator.NodeMethod[] _value1_;
                    _value1_ = Methods;
                    if (_value1_ != null)
                    {
                        int _loopIndex1_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.TemplateGenerator.StreamPersistenceMemoryDatabaseMethodParameterCreator.NodeMethod _value2_ in _value1_)
                        {
            _if_ = false;
                    if (_value2_.EnumName != default(string))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _if_ = false;
                    if (_value2_.Method != default(AutoCSer.CodeGenerator.Metadata.MethodIndex))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
            /// <summary>
            /// [");
            _code_.Add(_value2_.MethodIndex.ToString());
            _code_.Add(@"] ");
                {
                    AutoCSer.CodeGenerator.Metadata.MethodIndex _value3_ = _value2_.Method;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.MethodIndex))
                    {
            _code_.Add(_value3_.CodeGeneratorXmlDocument);
                    }
                }
                {
                    AutoCSer.CodeGenerator.Metadata.MethodParameter[] _value3_ = default(AutoCSer.CodeGenerator.Metadata.MethodParameter[]);
                {
                    AutoCSer.CodeGenerator.Metadata.MethodIndex _value4_ = _value2_.Method;
                    if (_value4_ != default(AutoCSer.CodeGenerator.Metadata.MethodIndex))
                    {
                    _value3_ = _value4_.Parameters;
                    }
                }
                    if (_value3_ != null)
                    {
                        int _loopIndex3_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.Metadata.MethodParameter _value4_ in _value3_)
                        {
            _code_.Add(@"
            /// ");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value5_ = _value4_.ParameterType;
                    if (_value5_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value5_.XmlFullName);
                    }
                }
            _code_.Add(@" ");
            _code_.Add(_value4_.ParameterName);
            _code_.Add(@" ");
            _code_.Add(_value4_.CodeGeneratorXmlDocument);
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex3_;
                    }
                }
            _if_ = false;
                {
                    AutoCSer.CodeGenerator.Metadata.MethodIndex _value3_ = _value2_.Method;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.MethodIndex))
                    {
                    if (_value3_.IsReturn)
                    {
                        _if_ = true;
                    }
                }
                }
            if (_if_)
            {
            _code_.Add(@"
            /// Return value : ");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.MethodReturnType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value3_.XmlFullName);
                    }
                }
            _code_.Add(@" ");
                {
                    AutoCSer.CodeGenerator.Metadata.MethodIndex _value3_ = _value2_.Method;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.MethodIndex))
                    {
            _code_.Add(_value3_.CodeGeneratorReturnXmlDocument);
                    }
                }
            }
            _code_.Add(@"
            /// </summary>");
            }
            _code_.Add(@"
            ");
            _code_.Add(_value2_.EnumName);
            _code_.Add(@" = ");
            _code_.Add(_value2_.MethodIndex.ToString());
            _code_.Add(@",");
            }
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex1_;
                    }
                }
            _code_.Add(@"
        }");
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.StreamPersistenceMemoryDatabaseMethodParameterCreator.NodeMethod[] _value1_;
                    _value1_ = Methods;
                    if (_value1_ != null)
                    {
                        int _loopIndex1_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.TemplateGenerator.StreamPersistenceMemoryDatabaseMethodParameterCreator.NodeMethod _value2_ in _value1_)
                        {
            _if_ = false;
                    if (_value2_.Method != default(AutoCSer.CodeGenerator.Metadata.MethodIndex))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
        /// <summary>
        /// ");
                {
                    AutoCSer.CodeGenerator.Metadata.MethodIndex _value3_ = _value2_.Method;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.MethodIndex))
                    {
            _code_.Add(_value3_.CodeGeneratorXmlDocument);
                    }
                }
            _code_.Add(@" server node method
        /// </summary>");
            _if_ = false;
                    if (_value2_.IsCall)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
        internal sealed class ");
            _code_.Add(_value2_.CallMethodTypeName);
            _code_.Add(@" : AutoCSer.CommandService.StreamPersistenceMemoryDatabase.CallMethod
        {
            internal ");
            _code_.Add(_value2_.CallMethodTypeName);
            _code_.Add(@"() : base(");
            _code_.Add(_value2_.MethodIndex.ToString());
            _code_.Add(@", ");
            _code_.Add(_value2_.PersistenceMethodIndex.ToString());
            _code_.Add(@", (AutoCSer.CommandService.StreamPersistenceMemoryDatabase.MethodFlagsEnum)");
            _code_.Add(_value2_.MethodFlags.ToString());
            _code_.Add(@") { }
            public override void Call(AutoCSer.CommandService.StreamPersistenceMemoryDatabase.ServerNode node, ref AutoCSer.Net.CommandServerCallback<AutoCSer.CommandService.StreamPersistenceMemoryDatabase.CallStateEnum> callback)
            {
                AutoCSer.CommandService.StreamPersistenceMemoryDatabase.ServerNode<");
            _code_.Add(InterfaceTypeName);
            _code_.Add(@">.GetTarget((AutoCSer.CommandService.StreamPersistenceMemoryDatabase.ServerNode<");
            _code_.Add(InterfaceTypeName);
            _code_.Add(@">)node).");
            _code_.Add(_value2_.MethodName);
            _code_.Add(@"();
                AutoCSer.CommandService.StreamPersistenceMemoryDatabase.CallMethod.Callback(ref callback);
            }
        }");
            }
            _if_ = false;
                    if (_value2_.IsCallOutput)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
        internal sealed class ");
            _code_.Add(_value2_.CallOutputMethodTypeName);
            _code_.Add(@" : AutoCSer.CommandService.StreamPersistenceMemoryDatabase.CallOutputMethod
        {
            internal ");
            _code_.Add(_value2_.CallOutputMethodTypeName);
            _code_.Add(@"() : base(");
            _code_.Add(_value2_.MethodIndex.ToString());
            _code_.Add(@", ");
            _code_.Add(_value2_.PersistenceMethodIndex.ToString());
            _if_ = false;
                    if (_value2_.IsCallTypeParameter)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@", (AutoCSer.CommandService.StreamPersistenceMemoryDatabase.CallTypeEnum)");
            _code_.Add(_value2_.CallTypeValue.ToString());
            }
            _code_.Add(@", (AutoCSer.CommandService.StreamPersistenceMemoryDatabase.MethodFlagsEnum)");
            _code_.Add(_value2_.MethodFlags.ToString());
            _code_.Add(@") { }");
            _if_ = false;
                    if (_value2_.IsBeforePersistenceMethod)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _if_ = false;
                    if (_value2_.IsPersistenceMethodReturnType)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
            public override AutoCSer.CommandService.StreamPersistenceMemoryDatabase.ValueResult<AutoCSer.CommandService.StreamPersistenceMemoryDatabase.ResponseParameter> CallOutputBeforePersistence(AutoCSer.CommandService.StreamPersistenceMemoryDatabase.ServerNode node)
            {");
            _if_ = false;
                    if (_value2_.IsGetBeforePersistenceResponseParameter)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                return AutoCSer.CommandService.StreamPersistenceMemoryDatabase.CallOutputMethod.GetBeforePersistenceResponseParameter(AutoCSer.CommandService.StreamPersistenceMemoryDatabase.ServerNode<");
            _code_.Add(InterfaceTypeName);
            _code_.Add(@">.GetTarget((AutoCSer.CommandService.StreamPersistenceMemoryDatabase.ServerNode<");
            _code_.Add(InterfaceTypeName);
            _code_.Add(@">)node).");
            _code_.Add(_value2_.MethodName);
            _code_.Add(@"(), (AutoCSer.CommandService.StreamPersistenceMemoryDatabase.MethodFlagsEnum)");
            _code_.Add(_value2_.MethodFlags.ToString());
            _code_.Add(@");");
            }
            _if_ = false;
                if (!(bool)_value2_.IsGetBeforePersistenceResponseParameter)
                {
                    _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                return AutoCSer.CommandService.StreamPersistenceMemoryDatabase.ServerNode<");
            _code_.Add(InterfaceTypeName);
            _code_.Add(@">.GetTarget((AutoCSer.CommandService.StreamPersistenceMemoryDatabase.ServerNode<");
            _code_.Add(InterfaceTypeName);
            _code_.Add(@">)node).");
            _code_.Add(_value2_.MethodName);
            _code_.Add(@"();");
            }
            _code_.Add(@"
            }");
            }
            _if_ = false;
                if (!(bool)_value2_.IsPersistenceMethodReturnType)
                {
                    _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
            public override bool CallBeforePersistence(AutoCSer.CommandService.StreamPersistenceMemoryDatabase.ServerNode node)
            {
                return AutoCSer.CommandService.StreamPersistenceMemoryDatabase.ServerNode<");
            _code_.Add(InterfaceTypeName);
            _code_.Add(@">.GetTarget((AutoCSer.CommandService.StreamPersistenceMemoryDatabase.ServerNode<");
            _code_.Add(InterfaceTypeName);
            _code_.Add(@">)node).");
            _code_.Add(_value2_.MethodName);
            _code_.Add(@"();
            }");
            }
            }
            _if_ = false;
                if (!(bool)_value2_.IsBeforePersistenceMethod)
                {
                    _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
            public override void CallOutput(AutoCSer.CommandService.StreamPersistenceMemoryDatabase.ServerNode node, ref AutoCSer.Net.CommandServerCallback<AutoCSer.CommandService.StreamPersistenceMemoryDatabase.ResponseParameter> callback)
            {");
            _if_ = false;
                    if (_value2_.IsCallTypeParameter)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                AutoCSer.CommandService.StreamPersistenceMemoryDatabase.ServerNode<");
            _code_.Add(InterfaceTypeName);
            _code_.Add(@">.GetTarget((AutoCSer.CommandService.StreamPersistenceMemoryDatabase.ServerNode<");
            _code_.Add(InterfaceTypeName);
            _code_.Add(@">)node).");
            _code_.Add(_value2_.MethodName);
            _code_.Add(@"(AutoCSer.CommandService.StreamPersistenceMemoryDatabase.MethodCallback<");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.MethodReturnType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value3_.FullName);
                    }
                }
            _code_.Add(@">.Create(ref callback, (AutoCSer.CommandService.StreamPersistenceMemoryDatabase.MethodFlagsEnum)");
            _code_.Add(_value2_.MethodFlags.ToString());
            _code_.Add(@"));");
            }
            _if_ = false;
                if (!(bool)_value2_.IsCallTypeParameter)
                {
                    _if_ = true;
                }
            if (_if_)
            {
            _if_ = false;
                    if (_value2_.IsResponseParameter)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                AutoCSer.CommandService.StreamPersistenceMemoryDatabase.CallOutputMethod.CallbackResponseParameter(AutoCSer.CommandService.StreamPersistenceMemoryDatabase.ServerNode<");
            _code_.Add(InterfaceTypeName);
            _code_.Add(@">.GetTarget((AutoCSer.CommandService.StreamPersistenceMemoryDatabase.ServerNode<");
            _code_.Add(InterfaceTypeName);
            _code_.Add(@">)node).");
            _code_.Add(_value2_.MethodName);
            _code_.Add(@"(), ref callback);");
            }
            _if_ = false;
                if (!(bool)_value2_.IsResponseParameter)
                {
                    _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                AutoCSer.CommandService.StreamPersistenceMemoryDatabase.CallOutputMethod.Callback(AutoCSer.CommandService.StreamPersistenceMemoryDatabase.ServerNode<");
            _code_.Add(InterfaceTypeName);
            _code_.Add(@">.GetTarget((AutoCSer.CommandService.StreamPersistenceMemoryDatabase.ServerNode<");
            _code_.Add(InterfaceTypeName);
            _code_.Add(@">)node).");
            _code_.Add(_value2_.MethodName);
            _code_.Add(@"(), ref callback, (AutoCSer.CommandService.StreamPersistenceMemoryDatabase.MethodFlagsEnum)");
            _code_.Add(_value2_.MethodFlags.ToString());
            _code_.Add(@");");
            }
            }
            _code_.Add(@"
            }");
            }
            _code_.Add(@"
        }");
            }
            _if_ = false;
                    if (_value2_.IsCallInput)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
        internal sealed class ");
            _code_.Add(_value2_.CallInputMethodTypeName);
            _code_.Add(@" : AutoCSer.CommandService.StreamPersistenceMemoryDatabase.CallInputMethod<");
            _code_.Add(_value2_.ParameterTypeFullName);
            _code_.Add(@">
        {
            internal ");
            _code_.Add(_value2_.CallInputMethodTypeName);
            _code_.Add(@"() : base(");
            _code_.Add(_value2_.MethodIndex.ToString());
            _code_.Add(@", ");
            _code_.Add(_value2_.PersistenceMethodIndex.ToString());
            _code_.Add(@", (AutoCSer.CommandService.StreamPersistenceMemoryDatabase.MethodFlagsEnum)");
            _code_.Add(_value2_.MethodFlags.ToString());
            _code_.Add(@") { }
            public override void CallInput(AutoCSer.CommandService.StreamPersistenceMemoryDatabase.CallInputMethodParameter methodParameter)
            {
                ");
            _code_.Add(_value2_.ParameterTypeFullName);
            _code_.Add(@" parameter = AutoCSer.CommandService.StreamPersistenceMemoryDatabase.CallInputMethodParameter<");
            _code_.Add(_value2_.ParameterTypeFullName);
            _code_.Add(@">.GetParameter((AutoCSer.CommandService.StreamPersistenceMemoryDatabase.CallInputMethodParameter<");
            _code_.Add(_value2_.ParameterTypeFullName);
            _code_.Add(@">)methodParameter);
                AutoCSer.CommandService.StreamPersistenceMemoryDatabase.MethodParameter.GetNodeTarget<");
            _code_.Add(InterfaceTypeName);
            _code_.Add(@">(methodParameter).");
            _code_.Add(_value2_.MethodName);
            _code_.Add(@"(");
                {
                    AutoCSer.CodeGenerator.Metadata.MethodParameter[] _value3_ = default(AutoCSer.CodeGenerator.Metadata.MethodParameter[]);
                {
                    AutoCSer.CodeGenerator.Metadata.MethodIndex _value4_ = _value2_.Method;
                    if (_value4_ != default(AutoCSer.CodeGenerator.Metadata.MethodIndex))
                    {
                    _value3_ = _value4_.Parameters;
                    }
                }
                    if (_value3_ != null)
                    {
                        int _loopIndex3_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.Metadata.MethodParameter _value4_ in _value3_)
                        {
            _code_.Add(@"parameter.");
            _code_.Add(_value4_.ParameterJoinName);
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex3_;
                    }
                }
            _code_.Add(@");
                AutoCSer.CommandService.StreamPersistenceMemoryDatabase.CallInputMethodParameter.Callback(methodParameter);
            }
        }");
            }
            _if_ = false;
                    if (_value2_.IsCallInputOutput)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
        internal sealed class ");
            _code_.Add(_value2_.CallInputOutputMethodTypeName);
            _code_.Add(@" : AutoCSer.CommandService.StreamPersistenceMemoryDatabase.CallInputOutputMethod<");
            _code_.Add(_value2_.ParameterTypeFullName);
            _code_.Add(@">
        {
            internal ");
            _code_.Add(_value2_.CallInputOutputMethodTypeName);
            _code_.Add(@"() : base(");
            _code_.Add(_value2_.MethodIndex.ToString());
            _code_.Add(@", ");
            _code_.Add(_value2_.PersistenceMethodIndex.ToString());
            _if_ = false;
                    if (_value2_.IsCallTypeParameter)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@", (AutoCSer.CommandService.StreamPersistenceMemoryDatabase.CallTypeEnum)");
            _code_.Add(_value2_.CallTypeValue.ToString());
            }
            _code_.Add(@", (AutoCSer.CommandService.StreamPersistenceMemoryDatabase.MethodFlagsEnum)");
            _code_.Add(_value2_.MethodFlags.ToString());
            _code_.Add(@") { }");
            _if_ = false;
                    if (_value2_.IsBeforePersistenceMethod)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _if_ = false;
                    if (_value2_.IsPersistenceMethodReturnType)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
            public override AutoCSer.CommandService.StreamPersistenceMemoryDatabase.ValueResult<AutoCSer.CommandService.StreamPersistenceMemoryDatabase.ResponseParameter> CallOutputBeforePersistence(AutoCSer.CommandService.StreamPersistenceMemoryDatabase.CallInputOutputMethodParameter methodParameter)
            {
                ");
            _code_.Add(_value2_.ParameterTypeFullName);
            _code_.Add(@" parameter = AutoCSer.CommandService.StreamPersistenceMemoryDatabase.CallInputOutputMethodParameter<");
            _code_.Add(_value2_.ParameterTypeFullName);
            _code_.Add(@">.GetParameter((AutoCSer.CommandService.StreamPersistenceMemoryDatabase.CallInputOutputMethodParameter<");
            _code_.Add(_value2_.ParameterTypeFullName);
            _code_.Add(@">)methodParameter);");
            _if_ = false;
                    if (_value2_.IsGetBeforePersistenceResponseParameter)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                return AutoCSer.CommandService.StreamPersistenceMemoryDatabase.CallInputOutputMethodParameter.GetBeforePersistenceResponseParameter(methodParameter,AutoCSer.CommandService.StreamPersistenceMemoryDatabase.MethodParameter.GetNodeTarget<");
            _code_.Add(InterfaceTypeName);
            _code_.Add(@">(methodParameter).");
            _code_.Add(_value2_.MethodName);
            _code_.Add(@"(");
                {
                    AutoCSer.CodeGenerator.Metadata.MethodParameter[] _value3_ = default(AutoCSer.CodeGenerator.Metadata.MethodParameter[]);
                {
                    AutoCSer.CodeGenerator.Metadata.MethodIndex _value4_ = _value2_.Method;
                    if (_value4_ != default(AutoCSer.CodeGenerator.Metadata.MethodIndex))
                    {
                    _value3_ = _value4_.Parameters;
                    }
                }
                    if (_value3_ != null)
                    {
                        int _loopIndex3_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.Metadata.MethodParameter _value4_ in _value3_)
                        {
            _code_.Add(@"parameter.");
            _code_.Add(_value4_.ParameterJoinName);
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex3_;
                    }
                }
            _if_ = false;
                    if (_value2_.IsCallTypeParameter)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@", AutoCSer.CommandService.StreamPersistenceMemoryDatabase.MethodCallback<");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.MethodReturnType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value3_.FullName);
                    }
                }
            _code_.Add(@">.Create(methodParameter)");
            }
            _code_.Add(@"));");
            }
            _if_ = false;
                if (!(bool)_value2_.IsGetBeforePersistenceResponseParameter)
                {
                    _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                return AutoCSer.CommandService.StreamPersistenceMemoryDatabase.MethodParameter.GetNodeTarget<");
            _code_.Add(InterfaceTypeName);
            _code_.Add(@">(methodParameter).");
            _code_.Add(_value2_.MethodName);
            _code_.Add(@"(");
                {
                    AutoCSer.CodeGenerator.Metadata.MethodParameter[] _value3_ = default(AutoCSer.CodeGenerator.Metadata.MethodParameter[]);
                {
                    AutoCSer.CodeGenerator.Metadata.MethodIndex _value4_ = _value2_.Method;
                    if (_value4_ != default(AutoCSer.CodeGenerator.Metadata.MethodIndex))
                    {
                    _value3_ = _value4_.Parameters;
                    }
                }
                    if (_value3_ != null)
                    {
                        int _loopIndex3_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.Metadata.MethodParameter _value4_ in _value3_)
                        {
            _code_.Add(@"parameter.");
            _code_.Add(_value4_.ParameterJoinName);
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex3_;
                    }
                }
            _if_ = false;
                    if (_value2_.IsCallTypeParameter)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@", AutoCSer.CommandService.StreamPersistenceMemoryDatabase.MethodCallback<");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.MethodReturnType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value3_.FullName);
                    }
                }
            _code_.Add(@">.Create(methodParameter)");
            }
            _code_.Add(@");");
            }
            _code_.Add(@"

            }");
            }
            _if_ = false;
                if (!(bool)_value2_.IsPersistenceMethodReturnType)
                {
                    _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
            public override bool CallBeforePersistence(AutoCSer.CommandService.StreamPersistenceMemoryDatabase.CallInputOutputMethodParameter methodParameter)
            {
                ");
            _code_.Add(_value2_.ParameterTypeFullName);
            _code_.Add(@" parameter = AutoCSer.CommandService.StreamPersistenceMemoryDatabase.CallInputOutputMethodParameter<");
            _code_.Add(_value2_.ParameterTypeFullName);
            _code_.Add(@">.GetParameter((AutoCSer.CommandService.StreamPersistenceMemoryDatabase.CallInputOutputMethodParameter<");
            _code_.Add(_value2_.ParameterTypeFullName);
            _code_.Add(@">)methodParameter);
                return AutoCSer.CommandService.StreamPersistenceMemoryDatabase.MethodParameter.GetNodeTarget<");
            _code_.Add(InterfaceTypeName);
            _code_.Add(@">(methodParameter).");
            _code_.Add(_value2_.MethodName);
            _code_.Add(@"(");
                {
                    AutoCSer.CodeGenerator.Metadata.MethodParameter[] _value3_ = default(AutoCSer.CodeGenerator.Metadata.MethodParameter[]);
                {
                    AutoCSer.CodeGenerator.Metadata.MethodIndex _value4_ = _value2_.Method;
                    if (_value4_ != default(AutoCSer.CodeGenerator.Metadata.MethodIndex))
                    {
                    _value3_ = _value4_.Parameters;
                    }
                }
                    if (_value3_ != null)
                    {
                        int _loopIndex3_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.Metadata.MethodParameter _value4_ in _value3_)
                        {
            _code_.Add(@"parameter.");
            _code_.Add(_value4_.ParameterJoinName);
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex3_;
                    }
                }
            _if_ = false;
                    if (_value2_.IsCallTypeParameter)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@", AutoCSer.CommandService.StreamPersistenceMemoryDatabase.MethodCallback<");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.MethodReturnType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value3_.FullName);
                    }
                }
            _code_.Add(@">.Create(methodParameter)");
            }
            _code_.Add(@");
            }");
            }
            }
            _if_ = false;
                if (!(bool)_value2_.IsBeforePersistenceMethod)
                {
                    _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
            public override void CallInputOutput(AutoCSer.CommandService.StreamPersistenceMemoryDatabase.CallInputOutputMethodParameter methodParameter)
            {
                ");
            _code_.Add(_value2_.ParameterTypeFullName);
            _code_.Add(@" parameter = AutoCSer.CommandService.StreamPersistenceMemoryDatabase.CallInputOutputMethodParameter<");
            _code_.Add(_value2_.ParameterTypeFullName);
            _code_.Add(@">.GetParameter((AutoCSer.CommandService.StreamPersistenceMemoryDatabase.CallInputOutputMethodParameter<");
            _code_.Add(_value2_.ParameterTypeFullName);
            _code_.Add(@">)methodParameter);");
            _if_ = false;
                    if (_value2_.IsCallTypeParameter)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                AutoCSer.CommandService.StreamPersistenceMemoryDatabase.MethodParameter.GetNodeTarget<");
            _code_.Add(InterfaceTypeName);
            _code_.Add(@">(methodParameter).");
            _code_.Add(_value2_.MethodName);
            _code_.Add(@"(");
                {
                    AutoCSer.CodeGenerator.Metadata.MethodParameter[] _value3_ = default(AutoCSer.CodeGenerator.Metadata.MethodParameter[]);
                {
                    AutoCSer.CodeGenerator.Metadata.MethodIndex _value4_ = _value2_.Method;
                    if (_value4_ != default(AutoCSer.CodeGenerator.Metadata.MethodIndex))
                    {
                    _value3_ = _value4_.Parameters;
                    }
                }
                    if (_value3_ != null)
                    {
                        int _loopIndex3_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.Metadata.MethodParameter _value4_ in _value3_)
                        {
            _code_.Add(@"parameter.");
            _code_.Add(_value4_.ParameterJoinName);
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex3_;
                    }
                }
            _code_.Add(@", AutoCSer.CommandService.StreamPersistenceMemoryDatabase.MethodCallback<");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.MethodReturnType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value3_.FullName);
                    }
                }
            _code_.Add(@">.Create(methodParameter));");
            }
            _if_ = false;
                if (!(bool)_value2_.IsCallTypeParameter)
                {
                    _if_ = true;
                }
            if (_if_)
            {
            _if_ = false;
                    if (_value2_.IsResponseParameter)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                AutoCSer.CommandService.StreamPersistenceMemoryDatabase.CallInputOutputMethodParameter.CallbackResponseParameter(methodParameter, AutoCSer.CommandService.StreamPersistenceMemoryDatabase.MethodParameter.GetNodeTarget<");
            _code_.Add(InterfaceTypeName);
            _code_.Add(@">(methodParameter).");
            _code_.Add(_value2_.MethodName);
            _code_.Add(@"(");
                {
                    AutoCSer.CodeGenerator.Metadata.MethodParameter[] _value3_ = default(AutoCSer.CodeGenerator.Metadata.MethodParameter[]);
                {
                    AutoCSer.CodeGenerator.Metadata.MethodIndex _value4_ = _value2_.Method;
                    if (_value4_ != default(AutoCSer.CodeGenerator.Metadata.MethodIndex))
                    {
                    _value3_ = _value4_.Parameters;
                    }
                }
                    if (_value3_ != null)
                    {
                        int _loopIndex3_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.Metadata.MethodParameter _value4_ in _value3_)
                        {
            _code_.Add(@"parameter.");
            _code_.Add(_value4_.ParameterJoinName);
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex3_;
                    }
                }
            _code_.Add(@"));");
            }
            _if_ = false;
                if (!(bool)_value2_.IsResponseParameter)
                {
                    _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                AutoCSer.CommandService.StreamPersistenceMemoryDatabase.CallInputOutputMethodParameter.Callback(methodParameter, AutoCSer.CommandService.StreamPersistenceMemoryDatabase.MethodParameter.GetNodeTarget<");
            _code_.Add(InterfaceTypeName);
            _code_.Add(@">(methodParameter).");
            _code_.Add(_value2_.MethodName);
            _code_.Add(@"(");
                {
                    AutoCSer.CodeGenerator.Metadata.MethodParameter[] _value3_ = default(AutoCSer.CodeGenerator.Metadata.MethodParameter[]);
                {
                    AutoCSer.CodeGenerator.Metadata.MethodIndex _value4_ = _value2_.Method;
                    if (_value4_ != default(AutoCSer.CodeGenerator.Metadata.MethodIndex))
                    {
                    _value3_ = _value4_.Parameters;
                    }
                }
                    if (_value3_ != null)
                    {
                        int _loopIndex3_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.Metadata.MethodParameter _value4_ in _value3_)
                        {
            _code_.Add(@"parameter.");
            _code_.Add(_value4_.ParameterJoinName);
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex3_;
                    }
                }
            _code_.Add(@"));");
            }
            }
            _code_.Add(@"
            }");
            }
            _code_.Add(@"
        }");
            }
            _if_ = false;
                    if (_value2_.IsSendOnly)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
        internal sealed class ");
            _code_.Add(_value2_.SendOnlyMethodTypeName);
            _code_.Add(@" : AutoCSer.CommandService.StreamPersistenceMemoryDatabase.SendOnlyMethod<");
            _code_.Add(_value2_.ParameterTypeFullName);
            _code_.Add(@">
        {
            internal ");
            _code_.Add(_value2_.SendOnlyMethodTypeName);
            _code_.Add(@"() : base(");
            _code_.Add(_value2_.MethodIndex.ToString());
            _code_.Add(@", ");
            _code_.Add(_value2_.PersistenceMethodIndex.ToString());
            _code_.Add(@", (AutoCSer.CommandService.StreamPersistenceMemoryDatabase.MethodFlagsEnum)");
            _code_.Add(_value2_.MethodFlags.ToString());
            _code_.Add(@") { }
            public override void SendOnly(AutoCSer.CommandService.StreamPersistenceMemoryDatabase.SendOnlyMethodParameter methodParameter)
            {
                ");
            _code_.Add(_value2_.ParameterTypeFullName);
            _code_.Add(@" parameter = AutoCSer.CommandService.StreamPersistenceMemoryDatabase.SendOnlyMethodParameter<");
            _code_.Add(_value2_.ParameterTypeFullName);
            _code_.Add(@">.GetParameter((AutoCSer.CommandService.StreamPersistenceMemoryDatabase.SendOnlyMethodParameter<");
            _code_.Add(_value2_.ParameterTypeFullName);
            _code_.Add(@">)methodParameter);
                AutoCSer.CommandService.StreamPersistenceMemoryDatabase.MethodParameter.GetNodeTarget<");
            _code_.Add(InterfaceTypeName);
            _code_.Add(@">(methodParameter).");
            _code_.Add(_value2_.MethodName);
            _code_.Add(@"(");
                {
                    AutoCSer.CodeGenerator.Metadata.MethodParameter[] _value3_ = default(AutoCSer.CodeGenerator.Metadata.MethodParameter[]);
                {
                    AutoCSer.CodeGenerator.Metadata.MethodIndex _value4_ = _value2_.Method;
                    if (_value4_ != default(AutoCSer.CodeGenerator.Metadata.MethodIndex))
                    {
                    _value3_ = _value4_.Parameters;
                    }
                }
                    if (_value3_ != null)
                    {
                        int _loopIndex3_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.Metadata.MethodParameter _value4_ in _value3_)
                        {
            _code_.Add(@"parameter.");
            _code_.Add(_value4_.ParameterJoinName);
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex3_;
                    }
                }
            _code_.Add(@");
            }
        }");
            }
            _if_ = false;
                    if (_value2_.IsKeepCallback)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
        internal sealed class ");
            _code_.Add(_value2_.KeepCallbackMethodTypeName);
            _code_.Add(@" : AutoCSer.CommandService.StreamPersistenceMemoryDatabase.KeepCallbackMethod
        {
            internal ");
            _code_.Add(_value2_.KeepCallbackMethodTypeName);
            _code_.Add(@"() : base(");
            _code_.Add(_value2_.MethodIndex.ToString());
            _code_.Add(@", ");
            _code_.Add(_value2_.PersistenceMethodIndex.ToString());
            _if_ = false;
                    if (_value2_.IsCallTypeParameter)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@", (AutoCSer.CommandService.StreamPersistenceMemoryDatabase.CallTypeEnum)");
            _code_.Add(_value2_.CallTypeValue.ToString());
            }
            _code_.Add(@", (AutoCSer.CommandService.StreamPersistenceMemoryDatabase.MethodFlagsEnum)");
            _code_.Add(_value2_.MethodFlags.ToString());
            _code_.Add(@") { }
            public override void KeepCallback(AutoCSer.CommandService.StreamPersistenceMemoryDatabase.ServerNode node, ref AutoCSer.Net.CommandServerKeepCallback<AutoCSer.CommandService.StreamPersistenceMemoryDatabase.KeepCallbackResponseParameter> callback)
            {");
            _if_ = false;
                    if (_value2_.IsCallTypeParameter)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                AutoCSer.CommandService.StreamPersistenceMemoryDatabase.KeepCallbackMethod.EnumerableCallback(AutoCSer.CommandService.StreamPersistenceMemoryDatabase.ServerNode<");
            _code_.Add(InterfaceTypeName);
            _code_.Add(@">.GetTarget((AutoCSer.CommandService.StreamPersistenceMemoryDatabase.ServerNode<");
            _code_.Add(InterfaceTypeName);
            _code_.Add(@">)node).");
            _code_.Add(_value2_.MethodName);
            _code_.Add(@"(), ref callback, (AutoCSer.CommandService.StreamPersistenceMemoryDatabase.MethodFlagsEnum)");
            _code_.Add(_value2_.MethodFlags.ToString());
            _code_.Add(@");");
            }
            _if_ = false;
                if (!(bool)_value2_.IsCallTypeParameter)
                {
                    _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                AutoCSer.CommandService.StreamPersistenceMemoryDatabase.ServerNode<");
            _code_.Add(InterfaceTypeName);
            _code_.Add(@">.GetTarget((AutoCSer.CommandService.StreamPersistenceMemoryDatabase.ServerNode<");
            _code_.Add(InterfaceTypeName);
            _code_.Add(@">)node).");
            _code_.Add(_value2_.MethodName);
            _code_.Add(@"(AutoCSer.CommandService.StreamPersistenceMemoryDatabase.MethodKeepCallback<");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.MethodReturnType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value3_.FullName);
                    }
                }
            _code_.Add(@">.Create(ref callback, (AutoCSer.CommandService.StreamPersistenceMemoryDatabase.MethodFlagsEnum)");
            _code_.Add(_value2_.MethodFlags.ToString());
            _code_.Add(@"));");
            }
            _code_.Add(@"
            }
        }");
            }
            _if_ = false;
                    if (_value2_.IsInputKeepCallback)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
        internal sealed class ");
            _code_.Add(_value2_.InputKeepCallbackMethodTypeName);
            _code_.Add(@" : AutoCSer.CommandService.StreamPersistenceMemoryDatabase.InputKeepCallbackMethod<");
            _code_.Add(_value2_.ParameterTypeFullName);
            _code_.Add(@">
        {
            internal ");
            _code_.Add(_value2_.InputKeepCallbackMethodTypeName);
            _code_.Add(@"() : base(");
            _code_.Add(_value2_.MethodIndex.ToString());
            _code_.Add(@", ");
            _code_.Add(_value2_.PersistenceMethodIndex.ToString());
            _if_ = false;
                    if (_value2_.IsCallTypeParameter)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@", (AutoCSer.CommandService.StreamPersistenceMemoryDatabase.CallTypeEnum)");
            _code_.Add(_value2_.CallTypeValue.ToString());
            }
            _code_.Add(@", (AutoCSer.CommandService.StreamPersistenceMemoryDatabase.MethodFlagsEnum)");
            _code_.Add(_value2_.MethodFlags.ToString());
            _code_.Add(@") { }
            public override void InputKeepCallback(AutoCSer.CommandService.StreamPersistenceMemoryDatabase.InputKeepCallbackMethodParameter methodParameter)
            {
                ");
            _code_.Add(_value2_.ParameterTypeFullName);
            _code_.Add(@" parameter = AutoCSer.CommandService.StreamPersistenceMemoryDatabase.InputKeepCallbackMethodParameter<");
            _code_.Add(_value2_.ParameterTypeFullName);
            _code_.Add(@">.GetParameter((AutoCSer.CommandService.StreamPersistenceMemoryDatabase.InputKeepCallbackMethodParameter<");
            _code_.Add(_value2_.ParameterTypeFullName);
            _code_.Add(@">)methodParameter);");
            _if_ = false;
                    if (_value2_.IsCallTypeParameter)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                AutoCSer.CommandService.StreamPersistenceMemoryDatabase.InputKeepCallbackMethodParameter.EnumerableCallback(methodParameter, AutoCSer.CommandService.StreamPersistenceMemoryDatabase.MethodParameter.GetNodeTarget<");
            _code_.Add(InterfaceTypeName);
            _code_.Add(@">(methodParameter).");
            _code_.Add(_value2_.MethodName);
            _code_.Add(@"(");
                {
                    AutoCSer.CodeGenerator.Metadata.MethodParameter[] _value3_ = default(AutoCSer.CodeGenerator.Metadata.MethodParameter[]);
                {
                    AutoCSer.CodeGenerator.Metadata.MethodIndex _value4_ = _value2_.Method;
                    if (_value4_ != default(AutoCSer.CodeGenerator.Metadata.MethodIndex))
                    {
                    _value3_ = _value4_.Parameters;
                    }
                }
                    if (_value3_ != null)
                    {
                        int _loopIndex3_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.Metadata.MethodParameter _value4_ in _value3_)
                        {
            _code_.Add(@"parameter.");
            _code_.Add(_value4_.ParameterJoinName);
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex3_;
                    }
                }
            _code_.Add(@"));");
            }
            _if_ = false;
                if (!(bool)_value2_.IsCallTypeParameter)
                {
                    _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                AutoCSer.CommandService.StreamPersistenceMemoryDatabase.MethodParameter.GetNodeTarget<");
            _code_.Add(InterfaceTypeName);
            _code_.Add(@">(methodParameter).");
            _code_.Add(_value2_.MethodName);
            _code_.Add(@"(");
                {
                    AutoCSer.CodeGenerator.Metadata.MethodParameter[] _value3_ = default(AutoCSer.CodeGenerator.Metadata.MethodParameter[]);
                {
                    AutoCSer.CodeGenerator.Metadata.MethodIndex _value4_ = _value2_.Method;
                    if (_value4_ != default(AutoCSer.CodeGenerator.Metadata.MethodIndex))
                    {
                    _value3_ = _value4_.Parameters;
                    }
                }
                    if (_value3_ != null)
                    {
                        int _loopIndex3_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.Metadata.MethodParameter _value4_ in _value3_)
                        {
            _code_.Add(@"parameter.");
            _code_.Add(_value4_.ParameterJoinName);
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex3_;
                    }
                }
            _code_.Add(@", AutoCSer.CommandService.StreamPersistenceMemoryDatabase.MethodKeepCallback<");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.MethodReturnType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value3_.FullName);
                    }
                }
            _code_.Add(@">.Create(methodParameter));");
            }
            _code_.Add(@"
            }
        }");
            }
            _if_ = false;
                    if (_value2_.IsTwoStageCallback)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
        internal sealed class ");
            _code_.Add(_value2_.TwoStageCallbackMethodTypeName);
            _code_.Add(@" : AutoCSer.CommandService.StreamPersistenceMemoryDatabase.TwoStageCallbackMethod
        {
            internal ");
            _code_.Add(_value2_.TwoStageCallbackMethodTypeName);
            _code_.Add(@"() : base(");
            _code_.Add(_value2_.MethodIndex.ToString());
            _code_.Add(@", ");
            _code_.Add(_value2_.PersistenceMethodIndex.ToString());
            _code_.Add(@", (AutoCSer.CommandService.StreamPersistenceMemoryDatabase.MethodFlagsEnum)");
            _code_.Add(_value2_.MethodFlags.ToString());
            _code_.Add(@") { }
            public override void TwoStageCallback(AutoCSer.CommandService.StreamPersistenceMemoryDatabase.ServerNode node, AutoCSer.Net.CommandServerCallback<AutoCSer.CommandService.StreamPersistenceMemoryDatabase.ResponseParameter> callback, ref AutoCSer.Net.CommandServerKeepCallback<AutoCSer.CommandService.StreamPersistenceMemoryDatabase.KeepCallbackResponseParameter> keepCallback)
            {
                AutoCSer.CommandService.StreamPersistenceMemoryDatabase.ServerNode<");
            _code_.Add(InterfaceTypeName);
            _code_.Add(@">.GetTarget((AutoCSer.CommandService.StreamPersistenceMemoryDatabase.ServerNode<");
            _code_.Add(InterfaceTypeName);
            _code_.Add(@">)node).");
            _code_.Add(_value2_.MethodName);
            _code_.Add(@"(AutoCSer.CommandService.StreamPersistenceMemoryDatabase.MethodCallback<");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.TwoStageReturnValueType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value3_.FullName);
                    }
                }
            _code_.Add(@">.Create(ref callback, (AutoCSer.CommandService.StreamPersistenceMemoryDatabase.MethodFlagsEnum)");
            _code_.Add(_value2_.TwoStageMethodFlags.ToString());
            _code_.Add(@"), AutoCSer.CommandService.StreamPersistenceMemoryDatabase.MethodKeepCallback<");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.MethodReturnType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value3_.FullName);
                    }
                }
            _code_.Add(@">.Create(ref keepCallback, (AutoCSer.CommandService.StreamPersistenceMemoryDatabase.MethodFlagsEnum)");
            _code_.Add(_value2_.MethodFlags.ToString());
            _code_.Add(@"));
            }
        }");
            }
            _if_ = false;
                    if (_value2_.IsInputTwoStageCallback)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
        internal sealed class ");
            _code_.Add(_value2_.InputTwoStageCallbackMethodTypeName);
            _code_.Add(@" : AutoCSer.CommandService.StreamPersistenceMemoryDatabase.InputTwoStageCallbackMethod<");
            _code_.Add(_value2_.ParameterTypeFullName);
            _code_.Add(@">
        {
            internal ");
            _code_.Add(_value2_.InputTwoStageCallbackMethodTypeName);
            _code_.Add(@"() : base(");
            _code_.Add(_value2_.MethodIndex.ToString());
            _code_.Add(@", ");
            _code_.Add(_value2_.PersistenceMethodIndex.ToString());
            _code_.Add(@", (AutoCSer.CommandService.StreamPersistenceMemoryDatabase.MethodFlagsEnum)");
            _code_.Add(_value2_.MethodFlags.ToString());
            _code_.Add(@") { }
            public override void InputTwoStageCallback(AutoCSer.CommandService.StreamPersistenceMemoryDatabase.InputTwoStageCallbackMethodParameter methodParameter)
            {
                ");
            _code_.Add(_value2_.ParameterTypeFullName);
            _code_.Add(@" parameter = AutoCSer.CommandService.StreamPersistenceMemoryDatabase.InputTwoStageCallbackMethodParameter<");
            _code_.Add(_value2_.ParameterTypeFullName);
            _code_.Add(@">.GetParameter((AutoCSer.CommandService.StreamPersistenceMemoryDatabase.InputTwoStageCallbackMethodParameter<");
            _code_.Add(_value2_.ParameterTypeFullName);
            _code_.Add(@">)methodParameter);
                AutoCSer.CommandService.StreamPersistenceMemoryDatabase.MethodParameter.GetNodeTarget<");
            _code_.Add(InterfaceTypeName);
            _code_.Add(@">(methodParameter).");
            _code_.Add(_value2_.MethodName);
            _code_.Add(@"(");
                {
                    AutoCSer.CodeGenerator.Metadata.MethodParameter[] _value3_ = default(AutoCSer.CodeGenerator.Metadata.MethodParameter[]);
                {
                    AutoCSer.CodeGenerator.Metadata.MethodIndex _value4_ = _value2_.Method;
                    if (_value4_ != default(AutoCSer.CodeGenerator.Metadata.MethodIndex))
                    {
                    _value3_ = _value4_.Parameters;
                    }
                }
                    if (_value3_ != null)
                    {
                        int _loopIndex3_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.Metadata.MethodParameter _value4_ in _value3_)
                        {
            _code_.Add(@"parameter.");
            _code_.Add(_value4_.ParameterJoinName);
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex3_;
                    }
                }
            _code_.Add(@", AutoCSer.CommandService.StreamPersistenceMemoryDatabase.MethodCallback<");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.TwoStageReturnValueType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value3_.FullName);
                    }
                }
            _code_.Add(@">.Create(methodParameter), AutoCSer.CommandService.StreamPersistenceMemoryDatabase.MethodKeepCallback<");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.MethodReturnType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value3_.FullName);
                    }
                }
            _code_.Add(@">.Create(methodParameter));
            }
        }");
            }
            }
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex1_;
                    }
                }
            _code_.Add(@"
        /// <summary>
        /// ");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value1_ = CurrentType;
                    if (_value1_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value1_.CodeGeneratorXmlDocument);
                    }
                }
            _code_.Add(@" (Create the calling method and parameter information)
        /// </summary>
        internal sealed partial class ");
            _code_.Add(MethodParameterCreatorTypeName);
            _if_ = false;
                    if (IsMethodParameterCreator)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
            : AutoCSer.CommandService.StreamPersistenceMemoryDatabase.MethodParameterCreator<");
            _code_.Add(InterfaceTypeName);
            _code_.Add(@">, ");
            _code_.Add(InterfaceTypeName);
            }
            _code_.Add(@"
        {");
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.StreamPersistenceMemoryDatabaseMethodParameterCreator.NodeMethod[] _value1_;
                    _value1_ = SnapshotMethods;
                    if (_value1_ != null)
                    {
                        int _loopIndex1_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.TemplateGenerator.StreamPersistenceMemoryDatabaseMethodParameterCreator.NodeMethod _value2_ in _value1_)
                        {
            _code_.Add(@"
            private static void ");
            _code_.Add(_value2_.SnapshotSerializeMethodName);
            _code_.Add(@"(AutoCSer.BinarySerializer serializer, ");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.SnapshotType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value3_.FullName);
                    }
                }
            _code_.Add(@" value)
            {");
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.CommandClientController.ParameterType _value3_ = default(AutoCSer.CodeGenerator.TemplateGenerator.CommandClientController.ParameterType);
                    _value3_ = _value2_.InputParameterType;
            _if_ = false;
                    if (_value3_ != default(AutoCSer.CodeGenerator.TemplateGenerator.CommandClientController.ParameterType))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                ");
            _code_.Add(_value3_.ParameterTypeFullName);
            _code_.Add(@" snapshotMethodParameter = new ");
            _code_.Add(_value3_.ParameterTypeFullName);
            _code_.Add(@" { ");
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.CommandClientController.ParameterField[] _value4_;
                    _value4_ = _value3_.Parameters;
                    if (_value4_ != null)
                    {
                        int _loopIndex4_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.TemplateGenerator.CommandClientController.ParameterField _value5_ in _value4_)
                        {
            _code_.Add(_value5_.ParameterName);
            _code_.Add(@" = value");
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex4_;
                    }
                }
            _code_.Add(@" };");
            }
                }
            _if_ = false;
                    if (_value2_.IsSimpleSerialize)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                serializer.SimpleSerialize(ref snapshotMethodParameter);");
            }
            _if_ = false;
                if (!(bool)_value2_.IsSimpleSerialize)
                {
                    _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                serializer.InternalIndependentSerializeNotNull(ref snapshotMethodParameter);");
            }
            _code_.Add(@"
            }");
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex1_;
                    }
                }
            _code_.Add(@"
            /// <summary>
            /// Get the method information of generate server-side node
            /// 获取生成服务端节点方法信息
            /// </summary>
            /// <returns></returns>
            internal static AutoCSer.CommandService.StreamPersistenceMemoryDatabase.ServerNodeCreatorMethod ");
            _code_.Add(GetServerNodeCreatorMethodName);
            _code_.Add(@"()
            {
                return new AutoCSer.CommandService.StreamPersistenceMemoryDatabase.ServerNodeCreatorMethod(new AutoCSer.CommandService.StreamPersistenceMemoryDatabase.Method[]
                    {");
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.StreamPersistenceMemoryDatabaseMethodParameterCreator.NodeMethod[] _value1_;
                    _value1_ = Methods;
                    if (_value1_ != null)
                    {
                        int _loopIndex1_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.TemplateGenerator.StreamPersistenceMemoryDatabaseMethodParameterCreator.NodeMethod _value2_ in _value1_)
                        {
            _if_ = false;
                    if (_value2_.Method != default(AutoCSer.CodeGenerator.Metadata.MethodIndex))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                        new ");
            _code_.Add(_value2_.CallMethodTypeName);
            _code_.Add(@"(),");
            }
            _if_ = false;
                if (_value2_.Method == default(AutoCSer.CodeGenerator.Metadata.MethodIndex))
                {
                    _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                        null,");
            }
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex1_;
                    }
                }
            _code_.Add(@"
                    }, new AutoCSer.CommandService.StreamPersistenceMemoryDatabase.ServerNodeMethodInfo[]
                    {");
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.StreamPersistenceMemoryDatabaseMethodParameterCreator.NodeMethod[] _value1_;
                    _value1_ = Methods;
                    if (_value1_ != null)
                    {
                        int _loopIndex1_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.TemplateGenerator.StreamPersistenceMemoryDatabaseMethodParameterCreator.NodeMethod _value2_ in _value1_)
                        {
            _if_ = false;
                    if (_value2_.Method != default(AutoCSer.CodeGenerator.Metadata.MethodIndex))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                        new AutoCSer.CommandService.StreamPersistenceMemoryDatabase.ServerNodeMethodInfo(");
            _code_.Add(_value2_.LoadPersistenceMethodIndex.ToString());
            _code_.Add(@"),");
            }
            _if_ = false;
                if (_value2_.Method == default(AutoCSer.CodeGenerator.Metadata.MethodIndex))
                {
                    _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                        null,");
            }
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex1_;
                    }
                }
            _code_.Add(@"
                    }, new AutoCSer.CommandService.StreamPersistenceMemoryDatabase.SnapshotMethodCreatorInfo[]
                    {");
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.StreamPersistenceMemoryDatabaseMethodParameterCreator.NodeMethod[] _value1_;
                    _value1_ = SnapshotMethods;
                    if (_value1_ != null)
                    {
                        int _loopIndex1_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.TemplateGenerator.StreamPersistenceMemoryDatabaseMethodParameterCreator.NodeMethod _value2_ in _value1_)
                        {
            _code_.Add(@"
                        new AutoCSer.CommandService.StreamPersistenceMemoryDatabase.SnapshotMethodCreatorInfo(");
            _code_.Add(_value2_.MethodArrayIndex.ToString());
            _code_.Add(@", typeof(");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.SnapshotType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value3_.FullName);
                    }
                }
            _code_.Add(@"), ");
            _code_.Add(_value2_.SnapshotSerializeMethodName);
            _code_.Add(@"),");
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex1_;
                    }
                }
            _code_.Add(@"
                    });
            }");
            _if_ = false;
                    if (IsMethodParameterCreator)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
            private ");
            _code_.Add(MethodParameterCreatorTypeName);
            _code_.Add(@"(AutoCSer.CommandService.StreamPersistenceMemoryDatabase.ServerNode<");
            _code_.Add(InterfaceTypeName);
            _code_.Add(@"> node) : base(node) { }
            internal static ");
            _code_.Add(InterfaceTypeName);
            _code_.Add(@" ");
            _code_.Add(MethodParameterCreatorMethodName);
            _code_.Add(@"(AutoCSer.CommandService.StreamPersistenceMemoryDatabase.ServerNode<");
            _code_.Add(InterfaceTypeName);
            _code_.Add(@"> node)
            {
                return new ");
            _code_.Add(MethodParameterCreatorTypeName);
            _code_.Add(@"(node);
            }");
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.StreamPersistenceMemoryDatabaseMethodParameterCreator.NodeMethod[] _value1_;
                    _value1_ = Methods;
                    if (_value1_ != null)
                    {
                        int _loopIndex1_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.TemplateGenerator.StreamPersistenceMemoryDatabaseMethodParameterCreator.NodeMethod _value2_ in _value1_)
                        {
            _if_ = false;
                    if (_value2_.Method != default(AutoCSer.CodeGenerator.Metadata.MethodIndex))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
            /// <summary>
            /// ");
                {
                    AutoCSer.CodeGenerator.Metadata.MethodIndex _value3_ = _value2_.Method;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.MethodIndex))
                    {
            _code_.Add(_value3_.CodeGeneratorXmlDocument);
                    }
                }
            _code_.Add(@"
            /// </summary>");
                {
                    AutoCSer.CodeGenerator.Metadata.MethodParameter[] _value3_ = default(AutoCSer.CodeGenerator.Metadata.MethodParameter[]);
                {
                    AutoCSer.CodeGenerator.Metadata.MethodIndex _value4_ = _value2_.Method;
                    if (_value4_ != default(AutoCSer.CodeGenerator.Metadata.MethodIndex))
                    {
                    _value3_ = _value4_.Parameters;
                    }
                }
                    if (_value3_ != null)
                    {
                        int _loopIndex3_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.Metadata.MethodParameter _value4_ in _value3_)
                        {
            _code_.Add(@"
            /// <param name=""");
            _code_.Add(_value4_.ParameterName);
            _code_.Add(@""">");
            _code_.Add(_value4_.CodeGeneratorXmlDocument);
            _code_.Add(@"</param>");
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex3_;
                    }
                }
            _if_ = false;
                    if (_value2_.MethodIsReturn)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
            /// <returns>");
                {
                    AutoCSer.CodeGenerator.Metadata.MethodIndex _value3_ = _value2_.Method;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.MethodIndex))
                    {
            _code_.Add(_value3_.CodeGeneratorReturnXmlDocument);
                    }
                }
            _code_.Add(@"</returns>");
            }
            _code_.Add(@"
            ");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.ReturnValueType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value3_.FullName);
                    }
                }
            _code_.Add(@" ");
            _code_.Add(_value2_.MethodInterfaceTypeName);
            _code_.Add(@"/**/.");
            _code_.Add(_value2_.MethodName);
            _code_.Add(@"(");
                {
                    AutoCSer.CodeGenerator.Metadata.MethodParameter[] _value3_;
                    _value3_ = _value2_.MethodParameters;
                    if (_value3_ != null)
                    {
                        int _loopIndex3_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.Metadata.MethodParameter _value4_ in _value3_)
                        {
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value5_ = _value4_.ParameterType;
                    if (_value5_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value5_.FullName);
                    }
                }
            _code_.Add(@" ");
            _code_.Add(_value4_.ParameterJoinName);
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex3_;
                    }
                }
            _code_.Add(@")
            {
                AutoCSer.CommandService.StreamPersistenceMemoryDatabase.MethodParameterCreator.");
            _code_.Add(_value2_.MethodParameterCreatorCallMethodName);
            _code_.Add(@"(this, ");
            _code_.Add(_value2_.MethodArrayIndex.ToString());
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.CommandClientController.ParameterType _value3_ = default(AutoCSer.CodeGenerator.TemplateGenerator.CommandClientController.ParameterType);
                    _value3_ = _value2_.InputParameterType;
            _if_ = false;
                    if (_value3_ != default(AutoCSer.CodeGenerator.TemplateGenerator.CommandClientController.ParameterType))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                    , new ");
            _code_.Add(_value3_.ParameterTypeFullName);
            _code_.Add(@"
                    {");
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.CommandClientController.ParameterField[] _value4_;
                    _value4_ = _value3_.Parameters;
                    if (_value4_ != null)
                    {
                        int _loopIndex4_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.TemplateGenerator.CommandClientController.ParameterField _value5_ in _value4_)
                        {
            _code_.Add(@"
                        ");
            _code_.Add(_value5_.ParameterName);
            _code_.Add(@" = ");
            _code_.Add(_value5_.ParameterName);
            _code_.Add(@",");
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex4_;
                    }
                }
            _code_.Add(@"
                    }");
            }
                }
            _if_ = false;
                    if (_value2_.CallbackParameterName != default(string))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                    , ");
            _code_.Add(_value2_.CallbackParameterName);
            }
            _code_.Add(@"
                    );");
            _if_ = false;
                {
                    AutoCSer.CodeGenerator.Metadata.MethodIndex _value3_ = _value2_.Method;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.MethodIndex))
                    {
                    if (_value3_.IsReturn)
                    {
                        _if_ = true;
                    }
                }
                }
            if (_if_)
            {
            _code_.Add(@"
                return default(");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.ReturnValueType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value3_.FullName);
                    }
                }
            _code_.Add(@");");
            }
            _code_.Add(@"
            }");
            }
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex1_;
                    }
                }
            }
            _code_.Add(@"
            internal static void ");
            _code_.Add(MethodParameterCreatorMethodName);
            _code_.Add(@"()
            {
                ");
            _code_.Add(GetServerNodeCreatorMethodName);
            _code_.Add(@"();
                AutoCSer.AotReflection.NonPublicMethods(typeof(");
            _code_.Add(MethodParameterCreatorTypeName);
            _code_.Add(@"));");
            _if_ = false;
                    if (IsMethodParameterCreator)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                ");
            _code_.Add(MethodParameterCreatorMethodName);
            _code_.Add(@"(null);
                AutoCSer.AotReflection.Interfaces(typeof(");
            _code_.Add(MethodParameterCreatorTypeName);
            _code_.Add(@"));");
            }
            _code_.Add(@"
            }
        }");
                if (_isOut_) outEnd();
            }
        }
    }
}
namespace AutoCSer.CodeGenerator.TemplateGenerator
{
    internal partial class XmlSerialize
    {
        /// <summary>
        /// 生成代码
        /// </summary>
        /// <param name="isOut">是否输出类定义代码</param>
        protected override void create(bool _isOut_)
        {
            if (outStart(_isOut_))
            {
                
            _code_.Add(@"
            /// <summary>
            /// XML serialization
            /// XML 序列化
            /// </summary>
            /// <param name=""serializer""></param>
            /// <param name=""value""></param>
            internal static void ");
            _code_.Add(XmlSerializeMethodName);
            _code_.Add(@"(AutoCSer.XmlSerializer serializer, ");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value1_ = CurrentType;
                    if (_value1_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value1_.FullName);
                    }
                }
            _code_.Add(@" value)
            {");
            _if_ = false;
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.XmlSerialize.SerializeMember[] _value1_ = Members;
                    if (_value1_ != default(AutoCSer.CodeGenerator.TemplateGenerator.XmlSerialize.SerializeMember[]))
                    {
                    if (_value1_.Length != default(int))
                    {
                        _if_ = true;
                    }
                }
                }
            if (_if_)
            {
            _code_.Add(@"
                value.xmlSerialize(serializer);");
            }
            _code_.Add(@"
            }
            /// <summary>
            /// XML serialization of member bitmap is supported
            /// 支持成员位图的 XML 序列化
            /// </summary>
            /// <param name=""memberMap""></param>
            /// <param name=""serializer""></param>
            /// <param name=""value""></param>
            /// <param name=""stream""></param>
            internal static void ");
            _code_.Add(XmlSerializeMemberMapMethodName);
            _code_.Add(@"(AutoCSer.Metadata.MemberMap<");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value1_ = CurrentType;
                    if (_value1_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value1_.FullName);
                    }
                }
            _code_.Add(@"> memberMap, XmlSerializer serializer, ");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value1_ = CurrentType;
                    if (_value1_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value1_.FullName);
                    }
                }
            _code_.Add(@" value, AutoCSer.Memory.CharStream stream)
            {");
            _if_ = false;
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.XmlSerialize.SerializeMember[] _value1_ = Members;
                    if (_value1_ != default(AutoCSer.CodeGenerator.TemplateGenerator.XmlSerialize.SerializeMember[]))
                    {
                    if (_value1_.Length != default(int))
                    {
                        _if_ = true;
                    }
                }
                }
            if (_if_)
            {
            _code_.Add(@"
                value.xmlSerialize(memberMap, serializer, stream);");
            }
            _code_.Add(@"
            }");
            _if_ = false;
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.XmlSerialize.SerializeMember[] _value1_ = Members;
                    if (_value1_ != default(AutoCSer.CodeGenerator.TemplateGenerator.XmlSerialize.SerializeMember[]))
                    {
                    if (_value1_.Length != default(int))
                    {
                        _if_ = true;
                    }
                }
                }
            if (_if_)
            {
            _code_.Add(@"
            /// <summary>
            /// XML serialization
            /// XML 序列化
            /// </summary>
            /// <param name=""__serializer__""></param>
            private void xmlSerialize(AutoCSer.XmlSerializer __serializer__)
            {
                AutoCSer.Memory.CharStream __stream__ = __serializer__.CharStream;");
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.XmlSerialize.SerializeMember[] _value1_;
                    _value1_ = Members;
                    if (_value1_ != null)
                    {
                        int _loopIndex1_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.TemplateGenerator.XmlSerialize.SerializeMember _value2_ in _value1_)
                        {
            _if_ = false;
                    if (_value2_.IsOutputMethodName != default(string))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                if (AutoCSer.XmlSerializer.");
            _code_.Add(_value2_.IsOutputMethodName);
            _code_.Add(@"(__serializer__, ");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@"))");
            }
            _code_.Add(@"
                {
                    __stream__.SimpleWrite(@""");
            _code_.Add(_value2_.SerializeMemberNameStart);
            _code_.Add(@""");");
            _if_ = false;
                    if (_value2_.MemberItemName != default(string))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                    AutoCSer.XmlSerializer.SetItemName(__serializer__, """);
            _code_.Add(_value2_.MemberItemName);
            _code_.Add(@""");");
            }
            _if_ = false;
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.MemberType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
                {
                    System.Type _value4_ = _value3_.Type;
                    if (_value4_ != default(System.Type))
                    {
                    if (_value4_.IsValueType)
                    {
                        _if_ = true;
                    }
                }
                    }
                }
                }
            if (_if_)
            {
            _if_ = false;
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.MemberType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
                {
                    System.Type _value4_ = _value3_.Type;
                    if (_value4_ != default(System.Type))
                    {
                    if (_value4_.IsEnum)
                    {
                        _if_ = true;
                    }
                }
                    }
                }
                }
            if (_if_)
            {
            _code_.Add(@"
                    __serializer__.");
            _code_.Add(_value2_.EnumXmlSerializeMethodName);
            _code_.Add(@"(");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@");");
            }
            _if_ = false;
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.MemberType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
                {
                    System.Type _value4_ = _value3_.Type;
                    if (_value4_ != default(System.Type))
                    {
                if (!(bool)_value4_.IsEnum)
                {
                    _if_ = true;
                }
                    }
                }
                    }
                }
            if (_if_)
            {
            _code_.Add(@"
                    __serializer__.");
            _code_.Add(_value2_.SerializeMethodName);
            _code_.Add(@"(");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@");");
            }
            }
            _if_ = false;
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.MemberType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
                {
                    System.Type _value4_ = _value3_.Type;
                    if (_value4_ != default(System.Type))
                    {
                if (!(bool)_value4_.IsValueType)
                {
                    _if_ = true;
                }
                    }
                }
                    }
                }
            if (_if_)
            {
            _code_.Add(@"
                    if (");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@" != null) __serializer__.");
            _code_.Add(_value2_.SerializeMethodName);
            _code_.Add(@"(");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@");");
            }
            _code_.Add(@"
                    __stream__.SimpleWrite(@""");
            _code_.Add(_value2_.SerializeMemberNameEnd);
            _code_.Add(@""");
                }");
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex1_;
                    }
                }
            _code_.Add(@"
            }
            /// <summary>
            /// XML serialization of member bitmap is supported
            /// 支持成员位图的 XML 序列化
            /// </summary>
            /// <param name=""__memberMap__""></param>
            /// <param name=""__serializer__""></param>
            /// <param name=""__stream__""></param>
            private void xmlSerialize(AutoCSer.Metadata.MemberMap<");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value1_ = CurrentType;
                    if (_value1_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value1_.FullName);
                    }
                }
            _code_.Add(@"> __memberMap__, XmlSerializer __serializer__, AutoCSer.Memory.CharStream __stream__)
            {");
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.XmlSerialize.SerializeMember[] _value1_;
                    _value1_ = Members;
                    if (_value1_ != null)
                    {
                        int _loopIndex1_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.TemplateGenerator.XmlSerialize.SerializeMember _value2_ in _value1_)
                        {
            _code_.Add(@"
                if (__memberMap__.IsMember(");
            _code_.Add(_value2_.MemberIndex.ToString());
            _code_.Add(@")");
            _if_ = false;
                    if (_value2_.IsOutputMethodName != default(string))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@" && AutoCSer.XmlSerializer.");
            _code_.Add(_value2_.IsOutputMethodName);
            _code_.Add(@"(__serializer__, ");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@")");
            }
            _code_.Add(@")
                {
                    __stream__.SimpleWrite(@""");
            _code_.Add(_value2_.SerializeMemberNameStart);
            _code_.Add(@""");");
            _if_ = false;
                    if (_value2_.MemberItemName != default(string))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                    AutoCSer.XmlSerializer.SetItemName(__serializer__, """);
            _code_.Add(_value2_.MemberItemName);
            _code_.Add(@""");");
            }
            _if_ = false;
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.MemberType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
                {
                    System.Type _value4_ = _value3_.Type;
                    if (_value4_ != default(System.Type))
                    {
                    if (_value4_.IsValueType)
                    {
                        _if_ = true;
                    }
                }
                    }
                }
                }
            if (_if_)
            {
            _if_ = false;
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.MemberType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
                {
                    System.Type _value4_ = _value3_.Type;
                    if (_value4_ != default(System.Type))
                    {
                    if (_value4_.IsEnum)
                    {
                        _if_ = true;
                    }
                }
                    }
                }
                }
            if (_if_)
            {
            _code_.Add(@"
                    __serializer__.");
            _code_.Add(_value2_.EnumXmlSerializeMethodName);
            _code_.Add(@"(");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@");");
            }
            _if_ = false;
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.MemberType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
                {
                    System.Type _value4_ = _value3_.Type;
                    if (_value4_ != default(System.Type))
                    {
                if (!(bool)_value4_.IsEnum)
                {
                    _if_ = true;
                }
                    }
                }
                    }
                }
            if (_if_)
            {
            _code_.Add(@"
                    __serializer__.");
            _code_.Add(_value2_.SerializeMethodName);
            _code_.Add(@"(");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@");");
            }
            }
            _if_ = false;
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.MemberType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
                {
                    System.Type _value4_ = _value3_.Type;
                    if (_value4_ != default(System.Type))
                    {
                if (!(bool)_value4_.IsValueType)
                {
                    _if_ = true;
                }
                    }
                }
                    }
                }
            if (_if_)
            {
            _code_.Add(@"
                    if (");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@" != null) __serializer__.");
            _code_.Add(_value2_.SerializeMethodName);
            _code_.Add(@"(");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@");");
            }
            _code_.Add(@"
                    __stream__.SimpleWrite(@""");
            _code_.Add(_value2_.SerializeMemberNameEnd);
            _code_.Add(@""");
                }");
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex1_;
                    }
                }
            _code_.Add(@"
            }");
            }
            _code_.Add(@"
            /// <summary>
            /// Member XML deserialization
            /// 成员 XML 反序列化
            /// </summary>
            /// <param name=""__deserializer__""></param>
            /// <param name=""__value__""></param>
            /// <param name=""__memberIndex__""></param>
            internal static void ");
            _code_.Add(XmlDeserializeMethodName);
            _code_.Add(@"(AutoCSer.XmlDeserializer __deserializer__, ref ");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value1_ = CurrentType;
                    if (_value1_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value1_.FullName);
                    }
                }
            _code_.Add(@" __value__, int __memberIndex__)
            {");
            _if_ = false;
                    if (DeserializeMemberCount != default(int))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                switch (__memberIndex__)
                {");
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.XmlSerialize.SerializeMember[] _value1_;
                    _value1_ = DeserializeMembers;
                    if (_value1_ != null)
                    {
                        int _loopIndex1_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.TemplateGenerator.XmlSerialize.SerializeMember _value2_ in _value1_)
                        {
            _code_.Add(@"
                    case ");
            _code_.Add(_value2_.IntMemberIndex.ToString());
            _code_.Add(@":");
            _if_ = false;
                if (!(bool)_value2_.IsField)
                {
                    _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                        var ");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@" = __value__.");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@";");
            _if_ = false;
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.MemberType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
                {
                    System.Type _value4_ = _value3_.Type;
                    if (_value4_ != default(System.Type))
                    {
                    if (_value4_.IsEnum)
                    {
                        _if_ = true;
                    }
                }
                    }
                }
                }
            if (_if_)
            {
            _code_.Add(@"
                        __deserializer__.");
            _code_.Add(_value2_.EnumXmlDeserializeMethodName);
            _code_.Add(@"(ref ");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@");");
            }
            _if_ = false;
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.MemberType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
                {
                    System.Type _value4_ = _value3_.Type;
                    if (_value4_ != default(System.Type))
                    {
                if (!(bool)_value4_.IsEnum)
                {
                    _if_ = true;
                }
                    }
                }
                    }
                }
            if (_if_)
            {
            _code_.Add(@"
                        __deserializer__.");
            _code_.Add(_value2_.DeserializeMethodName);
            _code_.Add(@"(ref ");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@");");
            }
            _code_.Add(@"
                        __value__.");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@" = ");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@";");
            }
            _if_ = false;
                    if (_value2_.IsField)
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _if_ = false;
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.MemberType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
                {
                    System.Type _value4_ = _value3_.Type;
                    if (_value4_ != default(System.Type))
                    {
                    if (_value4_.IsEnum)
                    {
                        _if_ = true;
                    }
                }
                    }
                }
                }
            if (_if_)
            {
            _code_.Add(@"
                        __deserializer__.");
            _code_.Add(_value2_.EnumXmlDeserializeMethodName);
            _code_.Add(@"(ref __value__.");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@");");
            }
            _if_ = false;
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.MemberType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
                {
                    System.Type _value4_ = _value3_.Type;
                    if (_value4_ != default(System.Type))
                    {
                if (!(bool)_value4_.IsEnum)
                {
                    _if_ = true;
                }
                    }
                }
                    }
                }
            if (_if_)
            {
            _code_.Add(@"
                        __deserializer__.");
            _code_.Add(_value2_.DeserializeMethodName);
            _code_.Add(@"(ref __value__.");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@");");
            }
            }
            _code_.Add(@"
                        return;");
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex1_;
                    }
                }
            _code_.Add(@"
                }");
            }
            _code_.Add(@"
            }
            /// <summary>
            /// Gets an XML deserialized collection of member names and a collection of member indexes
            /// 获取 XML 反序列化成员名称集合与成员索引集合
            /// </summary>
            /// <returns></returns>
            internal static AutoCSer.KeyValue<AutoCSer.LeftArray<string>, AutoCSer.LeftArray<KeyValue<int, string>>> ");
            _code_.Add(XmlDeserializeMemberNameMethodName);
            _code_.Add(@"()
            {");
            _if_ = false;
                    if (DeserializeMemberCount != default(int))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                return xmlDeserializeMemberName();");
            }
            _if_ = false;
                if (DeserializeMemberCount == default(int))
                {
                    _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                return default(AutoCSer.KeyValue<AutoCSer.LeftArray<string>, AutoCSer.LeftArray<KeyValue<int, string>>>);");
            }
            _code_.Add(@"
            }");
            _if_ = false;
                    if (DeserializeMemberCount != default(int))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
            /// <summary>
            /// Gets an XML deserialized collection of member names and a collection of member indexes
            /// 获取 XML 反序列化成员名称集合与成员索引集合
            /// </summary>
            /// <returns></returns>
            private static AutoCSer.KeyValue<AutoCSer.LeftArray<string>, AutoCSer.LeftArray<KeyValue<int, string>>> xmlDeserializeMemberName()
            {
                AutoCSer.LeftArray<string> names = new AutoCSer.LeftArray<string>(");
            _code_.Add(DeserializeMemberCount.ToString());
            _code_.Add(@");
                AutoCSer.LeftArray<KeyValue<int, string>> indexs = new AutoCSer.LeftArray<KeyValue<int, string>>(");
            _code_.Add(DeserializeMemberCount.ToString());
            _code_.Add(@");");
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.XmlSerialize.SerializeMember[] _value1_;
                    _value1_ = DeserializeMembers;
                    if (_value1_ != null)
                    {
                        int _loopIndex1_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.TemplateGenerator.XmlSerialize.SerializeMember _value2_ in _value1_)
                        {
            _code_.Add(@"
                names.Add(nameof(");
            _code_.Add(_value2_.MemberName);
            _code_.Add(@"));");
            _if_ = false;
                    if (_value2_.MemberItemName != default(string))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                indexs.Add(new KeyValue<int, string>(");
            _code_.Add(_value2_.IntMemberIndex.ToString());
            _code_.Add(@", """);
            _code_.Add(_value2_.MemberItemName);
            _code_.Add(@"""));");
            }
            _if_ = false;
                if (_value2_.MemberItemName == default(string))
                {
                    _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                indexs.Add(new KeyValue<int, string>(");
            _code_.Add(_value2_.IntMemberIndex.ToString());
            _code_.Add(@", null));");
            }
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex1_;
                    }
                }
            _code_.Add(@"
                return new AutoCSer.KeyValue<AutoCSer.LeftArray<string>, AutoCSer.LeftArray<KeyValue<int, string>>>(names, indexs);
            }");
            }
            _if_ = false;
                    if (MemberTypeCount != default(int))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
            /// <summary>
            /// Get the collection of XML serialized member types
            /// 获取 XML 序列化成员类型集合
            /// </summary>
            /// <returns></returns>
            internal static AutoCSer.LeftArray<Type> ");
            _code_.Add(XmlSerializeMemberTypeMethodName);
            _code_.Add(@"()
            {
                AutoCSer.LeftArray<Type> types = new LeftArray<Type>(");
            _code_.Add(MemberTypeCount.ToString());
            _code_.Add(@");");
                {
                    AutoCSer.CodeGenerator.TemplateGenerator.AotMethod.ReflectionMemberType[] _value1_;
                    _value1_ = MemberTypes;
                    if (_value1_ != null)
                    {
                        int _loopIndex1_ = _loopIndex_;
                        _loopIndex_ = 0;
                        foreach (AutoCSer.CodeGenerator.TemplateGenerator.AotMethod.ReflectionMemberType _value2_ in _value1_)
                        {
            _code_.Add(@"
                types.Add(typeof(");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value3_ = _value2_.MemberType;
                    if (_value3_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value3_.FullName);
                    }
                }
            _code_.Add(@"));");
                            ++_loopIndex_;
                        }
                        _loopIndex_ = _loopIndex1_;
                    }
                }
            _code_.Add(@"
                return types;
            }");
            }
            _code_.Add(@"
            /// <summary>
            /// AOT code generation call activation reflection
            /// AOT 代码生成调用激活反射
            /// </summary>");
            _if_ = false;
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value1_ = CurrentType;
                    if (_value1_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
                {
                    System.Type _value2_ = _value1_.Type;
                    if (_value2_ != default(System.Type))
                    {
                    if (_value2_.IsGenericType)
                    {
                        _if_ = true;
                    }
                }
                    }
                }
                }
            if (_if_)
            {
            _code_.Add(@"
            public static void ");
            _code_.Add(XmlSerializeMethodName);
            _code_.Add(@"()");
            }
            _if_ = false;
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value1_ = CurrentType;
                    if (_value1_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
                {
                    System.Type _value2_ = _value1_.Type;
                    if (_value2_ != default(System.Type))
                    {
                if (!(bool)_value2_.IsGenericType)
                {
                    _if_ = true;
                }
                    }
                }
                    }
                }
            if (_if_)
            {
            _code_.Add(@"
            internal static void ");
            _code_.Add(XmlSerializeMethodName);
            _code_.Add(@"()");
            }
            _code_.Add(@"
            {
                ");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value1_ = CurrentType;
                    if (_value1_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value1_.FullName);
                    }
                }
            _code_.Add(@" value = default(");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value1_ = CurrentType;
                    if (_value1_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value1_.FullName);
                    }
                }
            _code_.Add(@");
                ");
            _code_.Add(XmlSerializeMethodName);
            _code_.Add(@"(null, value);
                ");
            _code_.Add(XmlSerializeMemberMapMethodName);
            _code_.Add(@"(null, null, value, null);
                ");
            _code_.Add(XmlDeserializeMethodName);
            _code_.Add(@"(null, ref value, 0);
                ");
            _code_.Add(XmlDeserializeMemberNameMethodName);
            _code_.Add(@"();
                AutoCSer.AotReflection.NonPublicMethods(typeof(");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value1_ = CurrentType;
                    if (_value1_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value1_.FullName);
                    }
                }
            _code_.Add(@"));
                AutoCSer.AotReflection.ConstructorNonPublicMethods(typeof(");
                {
                    AutoCSer.CodeGenerator.Metadata.ExtensionType _value1_ = CurrentType;
                    if (_value1_ != default(AutoCSer.CodeGenerator.Metadata.ExtensionType))
                    {
            _code_.Add(_value1_.FullName);
                    }
                }
            _code_.Add(@"));");
            _if_ = false;
                    if (MemberTypeCount != default(int))
                    {
                        _if_ = true;
                }
            if (_if_)
            {
            _code_.Add(@"
                ");
            _code_.Add(XmlSerializeMemberTypeMethodName);
            _code_.Add(@"();");
            }
            _code_.Add(@"
            }");
                if (_isOut_) outEnd();
            }
        }
    }
}
#endif